"use strict";(self.webpackChunknoteApp=self.webpackChunknoteApp||[]).push([[179],{2011:(pt,He,R)=>{R.d(He,{Dh:()=>me,GT:()=>ye,Ot:()=>re,cc:()=>Ae,hO:()=>Re,on:()=>K,pX:()=>ge,xv:()=>_e});var c=R(4650),G=R(127),P=R(880);pt=R.hmd(pt);const se=["ngOnDestroy"],ge=(de,lt,et,Pe={})=>new Proxy(de,{get:(Ne,Ee)=>et.runOutsideAngular(()=>{var Xe;if(de[Ee])return!(null===(Xe=Pe?.spy)||void 0===Xe)&&Xe.get&&Pe.spy.get(Ee,de[Ee]),de[Ee];if(se.indexOf(Ee)>-1)return()=>{};const ie=lt.toPromise().then(le=>{const be=le&&le[Ee];return"function"==typeof be?be.bind(le):be&&be.then?be.then(ee=>et.run(()=>ee)):et.run(()=>be)});return new Proxy(()=>{},{get:(le,be)=>ie[be],apply:(le,be,ee)=>ie.then(te=>{var he;const ce=te&&te(...ee);return!(null===(he=Pe?.spy)||void 0===he)&&he.apply&&Pe.spy.apply(Ee,ee,ce),ce})})})}),ye=(de,lt)=>{lt.forEach(et=>{Object.getOwnPropertyNames(et.prototype||et).forEach(Pe=>{Object.defineProperty(de.prototype,Pe,Object.getOwnPropertyDescriptor(et.prototype||et,Pe))})})};class re{constructor(lt){return lt}}const me=new c.OlP("angularfire2.app.options"),_e=new c.OlP("angularfire2.app.name");function K(de,lt,et){const Ne="object"==typeof et&&et||{};Ne.name=Ne.name||"string"==typeof et&&et||"[DEFAULT]";const Xe=G.Z.apps.filter(ie=>ie&&ie.name===Ne.name)[0]||lt.runOutsideAngular(()=>G.Z.initializeApp(de,Ne));try{JSON.stringify(de)!==JSON.stringify(Xe.options)&&Y("error",`${Xe.name} Firebase App already initialized with different options${pt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new re(Xe)}const Y=(de,...lt)=>{(0,c.X6Q)()&&typeof console<"u"&&console[de](...lt)},J={provide:re,useFactory:K,deps:[me,c.R0b,[new c.FiY,_e]]};let Re=(()=>{class de{constructor(et){G.Z.registerVersion("angularfire",P.q4.full,"core"),G.Z.registerVersion("angularfire",P.q4.full,"app-compat"),G.Z.registerVersion("angular",c.q4F.full,et.toString())}static initializeApp(et,Pe){return{ngModule:de,providers:[{provide:me,useValue:et},{provide:_e,useValue:Pe}]}}}return de.\u0275fac=function(et){return new(et||de)(c.LFG(c.Lbi))},de.\u0275mod=c.oAB({type:de}),de.\u0275inj=c.cJS({providers:[J]}),de})();function Ae(de,lt,et,Pe,Ne){const[,Ee,Xe]=globalThis.\u0275AngularfireInstanceCache.find(ie=>ie[0]===de)||[];if(Ee)return function De(de,lt){try{return de.toString()===lt.toString()}catch{return de===lt}}(Ne,Xe)||(Me("error",`${lt} was already initialized on the ${et} Firebase App with different settings.${tt?" You may need to reload as Firebase is not HMR aware.":""}`),Me("warn",{is:Ne,was:Xe})),Ee;{const ie=Pe();return globalThis.\u0275AngularfireInstanceCache.push([de,ie,Ne]),ie}}const tt=!!pt.hot,Me=(de,...lt)=>{(0,c.X6Q)()&&typeof console<"u"&&console[de](...lt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},880:(pt,He,R)=>{R.d(He,{q4:()=>Nc,iC:()=>Fc,fc:()=>q3,HU:()=>Pc,vb:()=>Rc,JM:()=>Jn,nk:()=>$3});var c=R(4650),G=R(5867),P=R(5861),se=R(9681),ge=R(2090),ye=R(4859),re=R(1877);R(2833);const _e="@firebase/remote-config",K="0.3.15",Ae=new ge.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class _t{constructor(B,Q,fe,je){this.client=B,this.storage=Q,this.storageCache=fe,this.logger=je}isCachedDataFresh(B,Q){if(!Q)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const fe=Date.now()-Q,je=fe<=B;return this.logger.debug(`Config fetch cache check. Cache age millis: ${fe}. Cache max age millis (minimumFetchIntervalMillis setting): ${B}. Is cache hit: ${je}.`),je}fetch(B){var Q=this;return(0,P.Z)(function*(){const[fe,je]=yield Promise.all([Q.storage.getLastSuccessfulFetchTimestampMillis(),Q.storage.getLastSuccessfulFetchResponse()]);if(je&&Q.isCachedDataFresh(B.cacheMaxAgeMillis,fe))return je;B.eTag=je&&je.eTag;const Je=yield Q.client.fetch(B),Mt=[Q.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Je.status&&Mt.push(Q.storage.setLastSuccessfulFetchResponse(Je)),yield Promise.all(Mt),Je})()}}function an(z=navigator){return z.languages&&z.languages[0]||z.language}class Ft{constructor(B,Q,fe,je,Je,Mt){this.firebaseInstallations=B,this.sdkVersion=Q,this.namespace=fe,this.projectId=je,this.apiKey=Je,this.appId=Mt}fetch(B){var Q=this;return(0,P.Z)(function*(){var fe,je,Je;const[Mt,on]=yield Promise.all([Q.firebaseInstallations.getId(),Q.firebaseInstallations.getToken()]),Ve=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${Q.projectId}/namespaces/${Q.namespace}:fetch?key=${Q.apiKey}`,Et={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":B.eTag||"*"},Wt={sdk_version:Q.sdkVersion,app_instance_id:Mt,app_instance_id_token:on,app_id:Q.appId,language_code:an()},Qr={method:"POST",headers:Et,body:JSON.stringify(Wt)},ai=fetch(Ve,Qr),C2=new Promise((Ds,A1)=>{B.signal.addEventListener(()=>{const M2=new Error("The operation was aborted.");M2.name="AbortError",A1(M2)})});let Ys;try{yield Promise.race([ai,C2]),Ys=yield ai}catch(Ds){let A1="fetch-client-network";throw"AbortError"===(null===(fe=Ds)||void 0===fe?void 0:fe.name)&&(A1="fetch-timeout"),Ae.create(A1,{originalErrorMessage:null===(je=Ds)||void 0===je?void 0:je.message})}let Fi=Ys.status;const ua=Ys.headers.get("ETag")||void 0;let Q2,E1;if(200===Ys.status){let Ds;try{Ds=yield Ys.json()}catch(A1){throw Ae.create("fetch-client-parse",{originalErrorMessage:null===(Je=A1)||void 0===Je?void 0:Je.message})}Q2=Ds.entries,E1=Ds.state}if("INSTANCE_STATE_UNSPECIFIED"===E1?Fi=500:"NO_CHANGE"===E1?Fi=304:("NO_TEMPLATE"===E1||"EMPTY_CONFIG"===E1)&&(Q2={}),304!==Fi&&200!==Fi)throw Ae.create("fetch-status",{httpStatus:Fi});return{status:Fi,eTag:ua,config:Q2}})()}}class Gn{constructor(B,Q){this.client=B,this.storage=Q}fetch(B){var Q=this;return(0,P.Z)(function*(){const fe=(yield Q.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return Q.attemptFetch(B,fe)})()}attemptFetch(B,{throttleEndTimeMillis:Q,backoffCount:fe}){var je=this;return(0,P.Z)(function*(){yield function Qe(z,B){return new Promise((Q,fe)=>{const je=Math.max(B-Date.now(),0),Je=setTimeout(Q,je);z.addEventListener(()=>{clearTimeout(Je),fe(Ae.create("fetch-throttle",{throttleEndTimeMillis:B}))})})}(B.signal,Q);try{const Je=yield je.client.fetch(B);return yield je.storage.deleteThrottleMetadata(),Je}catch(Je){if(!function Cn(z){if(!(z instanceof ge.ZR&&z.customData))return!1;const B=Number(z.customData.httpStatus);return 429===B||500===B||503===B||504===B}(Je))throw Je;const Mt={throttleEndTimeMillis:Date.now()+(0,ge.$s)(fe),backoffCount:fe+1};return yield je.storage.setThrottleMetadata(Mt),je.attemptFetch(B,Mt)}})()}}class Gt{constructor(B,Q,fe,je,Je){this.app=B,this._client=Q,this._storageCache=fe,this._storage=je,this._logger=Je,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function At(z,B){var Q;const fe=z.target.error||void 0;return Ae.create(B,{originalErrorMessage:fe&&(null===(Q=fe)||void 0===Q?void 0:Q.message)})}const In="app_namespace_store";class ri{constructor(B,Q,fe,je=function On(){return new Promise((z,B)=>{var Q;try{const fe=indexedDB.open("firebase_remote_config",1);fe.onerror=je=>{B(At(je,"storage-open"))},fe.onsuccess=je=>{z(je.target.result)},fe.onupgradeneeded=je=>{0===je.oldVersion&&je.target.result.createObjectStore(In,{keyPath:"compositeKey"})}}catch(fe){B(Ae.create("storage-open",{originalErrorMessage:null===(Q=fe)||void 0===Q?void 0:Q.message}))}})}()){this.appId=B,this.appName=Q,this.namespace=fe,this.openDbPromise=je}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(B){return this.set("last_fetch_status",B)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(B){return this.set("last_successful_fetch_timestamp_millis",B)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(B){return this.set("last_successful_fetch_response",B)}getActiveConfig(){return this.get("active_config")}setActiveConfig(B){return this.set("active_config",B)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(B){return this.set("active_config_etag",B)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(B){return this.set("throttle_metadata",B)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(B){var Q=this;return(0,P.Z)(function*(){const fe=yield Q.openDbPromise;return new Promise((je,Je)=>{var Mt;const oi=fe.transaction([In],"readonly").objectStore(In),Ve=Q.createCompositeKey(B);try{const Et=oi.get(Ve);Et.onerror=Wt=>{Je(At(Wt,"storage-get"))},Et.onsuccess=Wt=>{const Qr=Wt.target.result;je(Qr?Qr.value:void 0)}}catch(Et){Je(Ae.create("storage-get",{originalErrorMessage:null===(Mt=Et)||void 0===Mt?void 0:Mt.message}))}})})()}set(B,Q){var fe=this;return(0,P.Z)(function*(){const je=yield fe.openDbPromise;return new Promise((Je,Mt)=>{var on;const Ve=je.transaction([In],"readwrite").objectStore(In),Et=fe.createCompositeKey(B);try{const Wt=Ve.put({compositeKey:Et,value:Q});Wt.onerror=Qr=>{Mt(At(Qr,"storage-set"))},Wt.onsuccess=()=>{Je()}}catch(Wt){Mt(Ae.create("storage-set",{originalErrorMessage:null===(on=Wt)||void 0===on?void 0:on.message}))}})})()}delete(B){var Q=this;return(0,P.Z)(function*(){const fe=yield Q.openDbPromise;return new Promise((je,Je)=>{var Mt;const oi=fe.transaction([In],"readwrite").objectStore(In),Ve=Q.createCompositeKey(B);try{const Et=oi.delete(Ve);Et.onerror=Wt=>{Je(At(Wt,"storage-delete"))},Et.onsuccess=()=>{je()}}catch(Et){Je(Ae.create("storage-delete",{originalErrorMessage:null===(Mt=Et)||void 0===Mt?void 0:Mt.message}))}})})()}createCompositeKey(B){return[this.appId,this.appName,this.namespace,B].join()}}class $i{constructor(B){this.storage=B}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var B=this;return(0,P.Z)(function*(){const Q=B.storage.getLastFetchStatus(),fe=B.storage.getLastSuccessfulFetchTimestampMillis(),je=B.storage.getActiveConfig(),Je=yield Q;Je&&(B.lastFetchStatus=Je);const Mt=yield fe;Mt&&(B.lastSuccessfulFetchTimestampMillis=Mt);const on=yield je;on&&(B.activeConfig=on)})()}setLastFetchStatus(B){return this.lastFetchStatus=B,this.storage.setLastFetchStatus(B)}setLastSuccessfulFetchTimestampMillis(B){return this.lastSuccessfulFetchTimestampMillis=B,this.storage.setLastSuccessfulFetchTimestampMillis(B)}setActiveConfig(B){return this.activeConfig=B,this.storage.setActiveConfig(B)}}function sr(){return it.apply(this,arguments)}function it(){return(it=(0,P.Z)(function*(){if(!(0,ge.hl)())return!1;try{return yield(0,ge.eu)()}catch{return!1}})).apply(this,arguments)}!function Zn(){(0,se._registerComponent)(new ye.wA("remote-config",function z(B,{instanceIdentifier:Q}){const fe=B.getProvider("app").getImmediate(),je=B.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Ae.create("registration-window");if(!(0,ge.hl)())throw Ae.create("indexed-db-unavailable");const{projectId:Je,apiKey:Mt,appId:on}=fe.options;if(!Je)throw Ae.create("registration-project-id");if(!Mt)throw Ae.create("registration-api-key");if(!on)throw Ae.create("registration-app-id");const oi=new ri(on,fe.name,Q=Q||"firebase"),Ve=new $i(oi),Et=new re.Yd(_e);Et.logLevel=re.in.ERROR;const Wt=new Ft(je,se.SDK_VERSION,Q,Je,Mt,on),Qr=new Gn(Wt,oi),ai=new _t(Qr,oi,Ve,Et),C2=new Gt(fe,ai,Ve,oi,Et);return function Xe(z){const B=(0,ge.m9)(z);B._initializePromise||(B._initializePromise=B._storageCache.loadFromStorage().then(()=>{B._isInitializationComplete=!0}))}(C2),C2},"PUBLIC").setMultipleInstances(!0)),(0,se.registerVersion)(_e,K),(0,se.registerVersion)(_e,K,"esm2017")}();var Sn=R(8766);const jn="/firebase-messaging-sw.js",wn="/firebase-cloud-messaging-push-scope",di="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",En="google.c.a.c_id",Tn="google.c.a.c_l",un="google.c.a.ts",mt="google.c.a.e";var gt=(()=>{return(z=gt||(gt={})).PUSH_RECEIVED="push-received",z.NOTIFICATION_CLICKED="notification-clicked",gt;var z})();function Dn(z){const B=new Uint8Array(z);return btoa(String.fromCharCode(...B)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Qn(z){const Q=(z+"=".repeat((4-z.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),fe=atob(Q),je=new Uint8Array(fe.length);for(let Je=0;Je<fe.length;++Je)je[Je]=fe.charCodeAt(Je);return je}const fi="fcm_token_details_db",_i="fcm_token_object_Store";function Rt(z){return yi.apply(this,arguments)}function yi(){return yi=(0,P.Z)(function*(z){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Je=>Je.name).includes(fi))return null;let B=null;return(yield(0,Sn.X3)(fi,5,{upgrade:(fe=(0,P.Z)(function*(je,Je,Mt,on){var oi;if(Je<2||!je.objectStoreNames.contains(_i))return;const Ve=on.objectStore(_i),Et=yield Ve.index("fcmSenderId").get(z);if(yield Ve.clear(),Et)if(2===Je){const Wt=Et;if(!Wt.auth||!Wt.p256dh||!Wt.endpoint)return;B={token:Wt.fcmToken,createTime:null!==(oi=Wt.createTime)&&void 0!==oi?oi:Date.now(),subscriptionOptions:{auth:Wt.auth,p256dh:Wt.p256dh,endpoint:Wt.endpoint,swScope:Wt.swScope,vapidKey:"string"==typeof Wt.vapidKey?Wt.vapidKey:Dn(Wt.vapidKey)}}}else if(3===Je){const Wt=Et;B={token:Wt.fcmToken,createTime:Wt.createTime,subscriptionOptions:{auth:Dn(Wt.auth),p256dh:Dn(Wt.p256dh),endpoint:Wt.endpoint,swScope:Wt.swScope,vapidKey:Dn(Wt.vapidKey)}}}else if(4===Je){const Wt=Et;B={token:Wt.fcmToken,createTime:Wt.createTime,subscriptionOptions:{auth:Dn(Wt.auth),p256dh:Dn(Wt.p256dh),endpoint:Wt.endpoint,swScope:Wt.swScope,vapidKey:Dn(Wt.vapidKey)}}}}),function(Je,Mt,on,oi){return fe.apply(this,arguments)})})).close(),yield(0,Sn.Lj)(fi),yield(0,Sn.Lj)("fcm_vapid_details_db"),yield(0,Sn.Lj)("undefined"),Zt(B)?B:null;var fe}),yi.apply(this,arguments)}function Zt(z){if(!z||!z.subscriptionOptions)return!1;const{subscriptionOptions:B}=z;return"number"==typeof z.createTime&&z.createTime>0&&"string"==typeof z.token&&z.token.length>0&&"string"==typeof B.auth&&B.auth.length>0&&"string"==typeof B.p256dh&&B.p256dh.length>0&&"string"==typeof B.endpoint&&B.endpoint.length>0&&"string"==typeof B.swScope&&B.swScope.length>0&&"string"==typeof B.vapidKey&&B.vapidKey.length>0}const nt="firebase-messaging-store";let Ie=null;function st(){return Ie||(Ie=(0,Sn.X3)("firebase-messaging-database",1,{upgrade:(z,B)=>{0===B&&z.createObjectStore(nt)}})),Ie}function wt(z){return It.apply(this,arguments)}function It(){return(It=(0,P.Z)(function*(z){const B=V(z),fe=yield(yield st()).transaction(nt).objectStore(nt).get(B);if(fe)return fe;{const je=yield Rt(z.appConfig.senderId);if(je)return yield Qt(z,je),je}})).apply(this,arguments)}function Qt(z,B){return W.apply(this,arguments)}function W(){return(W=(0,P.Z)(function*(z,B){const Q=V(z),je=(yield st()).transaction(nt,"readwrite");return yield je.objectStore(nt).put(B,Q),yield je.done,B})).apply(this,arguments)}function $(z){return N.apply(this,arguments)}function N(){return(N=(0,P.Z)(function*(z){const B=V(z),fe=(yield st()).transaction(nt,"readwrite");yield fe.objectStore(nt).delete(B),yield fe.done})).apply(this,arguments)}function V({appConfig:z}){return z.appId}const H=new ge.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function q(z,B){return ue.apply(this,arguments)}function ue(){return(ue=(0,P.Z)(function*(z,B){var Q;const fe=yield tn(z),je=qt(B),Je={method:"POST",headers:fe,body:JSON.stringify(je)};let Mt;try{Mt=yield(yield fetch(ft(z.appConfig),Je)).json()}catch(on){throw H.create("token-subscribe-failed",{errorInfo:null===(Q=on)||void 0===Q?void 0:Q.toString()})}if(Mt.error)throw H.create("token-subscribe-failed",{errorInfo:Mt.error.message});if(!Mt.token)throw H.create("token-subscribe-no-token");return Mt.token})).apply(this,arguments)}function Oe(z,B){return We.apply(this,arguments)}function We(){return(We=(0,P.Z)(function*(z,B){var Q;const fe=yield tn(z),je=qt(B.subscriptionOptions),Je={method:"PATCH",headers:fe,body:JSON.stringify(je)};let Mt;try{Mt=yield(yield fetch(`${ft(z.appConfig)}/${B.token}`,Je)).json()}catch(on){throw H.create("token-update-failed",{errorInfo:null===(Q=on)||void 0===Q?void 0:Q.toString()})}if(Mt.error)throw H.create("token-update-failed",{errorInfo:Mt.error.message});if(!Mt.token)throw H.create("token-update-no-token");return Mt.token})).apply(this,arguments)}function ve(z,B){return Te.apply(this,arguments)}function Te(){return(Te=(0,P.Z)(function*(z,B){var Q;const je={method:"DELETE",headers:yield tn(z)};try{const Mt=yield(yield fetch(`${ft(z.appConfig)}/${B}`,je)).json();if(Mt.error)throw H.create("token-unsubscribe-failed",{errorInfo:Mt.error.message})}catch(Je){throw H.create("token-unsubscribe-failed",{errorInfo:null===(Q=Je)||void 0===Q?void 0:Q.toString()})}})).apply(this,arguments)}function ft({projectId:z}){return`https://fcmregistrations.googleapis.com/v1/projects/${z}/registrations`}function tn(z){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,P.Z)(function*({appConfig:z,installations:B}){const Q=yield B.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":z.apiKey,"x-goog-firebase-installations-auth":`FIS ${Q}`})})).apply(this,arguments)}function qt({p256dh:z,auth:B,endpoint:Q,vapidKey:fe}){const je={web:{endpoint:Q,auth:B,p256dh:z}};return fe!==di&&(je.web.applicationPubKey=fe),je}const Er=6048e5;function kn(z){return bs.apply(this,arguments)}function bs(){return(bs=(0,P.Z)(function*(z){const B=yield Xt(z.swRegistration,z.vapidKey),Q={vapidKey:z.vapidKey,swScope:z.swRegistration.scope,endpoint:B.endpoint,auth:Dn(B.getKey("auth")),p256dh:Dn(B.getKey("p256dh"))},fe=yield wt(z.firebaseDependencies);if(fe){if(Pn(fe.subscriptionOptions,Q))return Date.now()>=fe.createTime+Er?ne(z,{token:fe.token,createTime:Date.now(),subscriptionOptions:Q}):fe.token;try{yield ve(z.firebaseDependencies,fe.token)}catch(je){console.warn(je)}return $e(z.firebaseDependencies,Q)}return $e(z.firebaseDependencies,Q)})).apply(this,arguments)}function Gs(z){return xt.apply(this,arguments)}function xt(){return(xt=(0,P.Z)(function*(z){const B=yield wt(z.firebaseDependencies);B&&(yield ve(z.firebaseDependencies,B.token),yield $(z.firebaseDependencies));const Q=yield z.swRegistration.pushManager.getSubscription();return!Q||Q.unsubscribe()})).apply(this,arguments)}function ne(z,B){return we.apply(this,arguments)}function we(){return(we=(0,P.Z)(function*(z,B){try{const Q=yield Oe(z.firebaseDependencies,B),fe=Object.assign(Object.assign({},B),{token:Q,createTime:Date.now()});return yield Qt(z.firebaseDependencies,fe),Q}catch(Q){throw yield Gs(z),Q}})).apply(this,arguments)}function $e(z,B){return vt.apply(this,arguments)}function vt(){return(vt=(0,P.Z)(function*(z,B){const fe={token:yield q(z,B),createTime:Date.now(),subscriptionOptions:B};return yield Qt(z,fe),fe.token})).apply(this,arguments)}function Xt(z,B){return vn.apply(this,arguments)}function vn(){return(vn=(0,P.Z)(function*(z,B){return(yield z.pushManager.getSubscription())||z.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Qn(B)})})).apply(this,arguments)}function Pn(z,B){return B.vapidKey===z.vapidKey&&B.endpoint===z.endpoint&&B.auth===z.auth&&B.p256dh===z.p256dh}function Nn(z){const B={from:z.from,collapseKey:z.collapse_key,messageId:z.fcmMessageId};return function or(z,B){if(!B.notification)return;z.notification={};const Q=B.notification.title;Q&&(z.notification.title=Q);const fe=B.notification.body;fe&&(z.notification.body=fe);const je=B.notification.image;je&&(z.notification.image=je);const Je=B.notification.icon;Je&&(z.notification.icon=Je)}(B,z),function ar(z,B){!B.data||(z.data=B.data)}(B,z),function _n(z,B){var Q,fe,je,Je,Mt;if(!(B.fcmOptions||null!==(Q=B.notification)&&void 0!==Q&&Q.click_action))return;z.fcmOptions={};const on=null!==(je=null===(fe=B.fcmOptions)||void 0===fe?void 0:fe.link)&&void 0!==je?je:null===(Je=B.notification)||void 0===Je?void 0:Je.click_action;on&&(z.fcmOptions.link=on);const oi=null===(Mt=B.fcmOptions)||void 0===Mt?void 0:Mt.analytics_label;oi&&(z.fcmOptions.analyticsLabel=oi)}(B,z),B}function U3(z){return"object"==typeof z&&!!z&&En in z}function M1(z,B){const Q=[];for(let fe=0;fe<z.length;fe++)Q.push(z.charAt(fe)),fe<B.length&&Q.push(B.charAt(fe));return Q.join("")}function m2(z){return H.create("missing-app-config-values",{valueName:z})}M1("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),M1("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class cs{constructor(B,Q,fe){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const je=function b1(z){if(!z||!z.options)throw m2("App Configuration Object");if(!z.name)throw m2("App Name");const B=["projectId","apiKey","appId","messagingSenderId"],{options:Q}=z;for(const fe of B)if(!Q[fe])throw m2(fe);return{appName:z.name,projectId:Q.projectId,apiKey:Q.apiKey,appId:Q.appId,senderId:Q.messagingSenderId}}(B);this.firebaseDependencies={app:B,appConfig:je,installations:Q,analyticsProvider:fe}}_delete(){return Promise.resolve()}}function js(z){return ws.apply(this,arguments)}function ws(){return(ws=(0,P.Z)(function*(z){var B;try{z.swRegistration=yield navigator.serviceWorker.register(jn,{scope:wn}),z.swRegistration.update().catch(()=>{})}catch(Q){throw H.create("failed-service-worker-registration",{browserErrorMessage:null===(B=Q)||void 0===B?void 0:B.message})}})).apply(this,arguments)}function Bn(z,B){return oa.apply(this,arguments)}function oa(){return(oa=(0,P.Z)(function*(z,B){if(!B&&!z.swRegistration&&(yield js(z)),B||!z.swRegistration){if(!(B instanceof ServiceWorkerRegistration))throw H.create("invalid-sw-registration");z.swRegistration=B}})).apply(this,arguments)}function Pi(z,B){return cr.apply(this,arguments)}function cr(){return(cr=(0,P.Z)(function*(z,B){B?z.vapidKey=B:z.vapidKey||(z.vapidKey=di)})).apply(this,arguments)}function g2(){return(g2=(0,P.Z)(function*(z,B){if(!navigator)throw H.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw H.create("permission-blocked");return yield Pi(z,B?.vapidKey),yield Bn(z,B?.serviceWorkerRegistration),kn(z)})).apply(this,arguments)}function q2(z,B,Q){return kr.apply(this,arguments)}function kr(){return(kr=(0,P.Z)(function*(z,B,Q){const fe=fo(B);(yield z.firebaseDependencies.analyticsProvider.get()).logEvent(fe,{message_id:Q[En],message_name:Q[Tn],message_time:Q[un],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function fo(z){switch(z){case gt.NOTIFICATION_CLICKED:return"notification_open";case gt.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Ss(){return(Ss=(0,P.Z)(function*(z,B){const Q=B.data;if(!Q.isFirebaseMessaging)return;z.onMessageHandler&&Q.messageType===gt.PUSH_RECEIVED&&("function"==typeof z.onMessageHandler?z.onMessageHandler(Nn(Q)):z.onMessageHandler.next(Nn(Q)));const fe=Q.data;U3(fe)&&"1"===fe[mt]&&(yield q2(z,Q.messageType,fe))})).apply(this,arguments)}const W2="@firebase/messaging",Nr=z=>{const B=new cs(z.getProvider("app").getImmediate(),z.getProvider("installations-internal").getImmediate(),z.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",Q=>function G0(z,B){return Ss.apply(this,arguments)}(B,Q)),B},j0=z=>{const B=z.getProvider("messaging").getImmediate();return{getToken:fe=>function xs(z,B){return g2.apply(this,arguments)}(B,fe)}};function G3(){return ho.apply(this,arguments)}function ho(){return(ho=(0,P.Z)(function*(){try{yield(0,ge.eu)()}catch{return!1}return typeof window<"u"&&(0,ge.hl)()&&(0,ge.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Es(){(0,se._registerComponent)(new ye.wA("messaging",Nr,"PUBLIC")),(0,se._registerComponent)(new ye.wA("messaging-internal",j0,"PRIVATE")),(0,se.registerVersion)(W2,"0.10.0"),(0,se.registerVersion)(W2,"0.10.0","esm2017")}();var Hc=R(7982),aa=R(4408),Ef=R(7565);const qi=new class zc extends Ef.v{}(class mo extends aa.o{constructor(B,Q){super(B,Q),this.scheduler=B,this.work=Q}schedule(B,Q=0){return Q>0?super.schedule(B,Q):(this.delay=Q,this.state=B,this.scheduler.flush(this),this)}execute(B,Q){return Q>0||this.closed?super.execute(B,Q):this._execute(B,Q)}requestAsyncId(B,Q,fe=0){return null!=fe&&fe>0||null==fe&&this.delay>0?super.requestAsyncId(B,Q,fe):(B.flush(this),0)}});var v2=R(4986),kc=R(8505),go=R(5363),ca=R(9468);const Nc=new c.GfV("7.4.1"),qs="__angularfire_symbol__analyticsIsSupportedValue",Y2="__angularfire_symbol__analyticsIsSupported",As="__angularfire_symbol__remoteConfigIsSupportedValue",la="__angularfire_symbol__remoteConfigIsSupported",lr="__angularfire_symbol__messagingIsSupportedValue",_2="__angularfire_symbol__messagingIsSupported";globalThis[Y2]||(globalThis[Y2]=(0,Hc.Gb)().then(z=>globalThis[qs]=z).catch(()=>globalThis[qs]=!1)),globalThis[_2]||(globalThis[_2]=G3().then(z=>globalThis[lr]=z).catch(()=>globalThis[lr]=!1)),globalThis[la]||(globalThis[la]=sr().then(z=>globalThis[As]=z).catch(()=>globalThis[As]=!1));const $3={async:()=>globalThis[Y2],sync:()=>{const z=globalThis[qs];if(void 0===z)throw new Error((z=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${z} in the constructor, first ensure that ${z} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${z})\`.`)("Analytics"));return z}};function Jn(z,B,Q){if(B){if(1===B.length)return B[0];const Je=B.filter(Mt=>Mt.app===Q);if(1===Je.length)return Je[0]}return Q.container.getProvider(z).getImmediate({optional:!0})}const Rc=(z,B)=>{const Q=B?[B]:(0,G.C6)(),fe=[];return Q.forEach(je=>{je.container.getProvider(z).instances.forEach(Mt=>{fe.includes(Mt)||fe.push(Mt)})}),fe};function K2(){}class Z2{constructor(B,Q=qi){this.zone=B,this.delegate=Q}now(){return this.delegate.now()}schedule(B,Q,fe){const je=this.zone;return this.delegate.schedule(function(Mt){je.runGuarded(()=>{B.apply(this,[Mt])})},Q,fe)}}class vr{constructor(B){this.zone=B,this.task=null}call(B,Q){const fe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",K2,{},K2,K2)),Q.pipe((0,kc.b)({next:fe,complete:fe,error:fe})).subscribe(B).add(fe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Pc=(()=>{class z{constructor(Q){this.ngZone=Q,this.outsideAngular=Q.runOutsideAngular(()=>new Z2(Zone.current)),this.insideAngular=Q.run(()=>new Z2(Zone.current,v2.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return z.\u0275fac=function(Q){return new(Q||z)(c.LFG(c.R0b))},z.\u0275prov=c.Yz7({token:z,factory:z.\u0275fac,providedIn:"root"}),z})();function Zr(){const z=globalThis.\u0275AngularFireScheduler;if(!z)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return z}function q3(z){return z.pipe((0,go.Q)(Zr().outsideAngular))}function Fc(z){return Zr(),function ls(z){return function(Q){return(Q=Q.lift(new vr(z.ngZone))).pipe((0,ca.R)(z.outsideAngular),(0,go.Q)(z.insideAngular))}}(Zr())(z)}},8247:(pt,He,R)=>{R.d(He,{$:()=>Mt,A:()=>Y,B:()=>Ae,G:()=>we,H:()=>Pn,J:()=>Es,L:()=>W,M:()=>zc,N:()=>kc,P:()=>nm,Q:()=>go,R:()=>$f,T:()=>ca,U:()=>v2,V:()=>As,W:()=>la,X:()=>Af,Y:()=>S1,Z:()=>z,_:()=>Q,a:()=>J2,a0:()=>Wt,a1:()=>ai,a2:()=>Ys,a3:()=>ua,a4:()=>E1,a5:()=>A1,a6:()=>Oi,a7:()=>Ks,a8:()=>fa,a9:()=>X2,aA:()=>$,aB:()=>o4,aC:()=>pl,aD:()=>Kf,aE:()=>xt,aI:()=>yo,aL:()=>qs,aa:()=>Xp,ab:()=>W3,ac:()=>K3,af:()=>If,ag:()=>Tf,ah:()=>Y0,ak:()=>Z2,al:()=>kf,an:()=>Nf,ao:()=>il,ap:()=>be,aq:()=>Te,ar:()=>Oe,as:()=>et,at:()=>O1,au:()=>F1,av:()=>ft,aw:()=>Pe,ax:()=>ie,ay:()=>La,az:()=>te,b:()=>I1,c:()=>im,d:()=>Yf,e:()=>Wf,f:()=>Zf,g:()=>Qf,h:()=>cu,i:()=>Qc,j:()=>vl,k:()=>e2,l:()=>xa,m:()=>E2,o:()=>me,r:()=>Qs,s:()=>wa,u:()=>su});var c=R(5861),G=R(2090),P=R(9681),se=R(1877),ge=R(655),ye=R(4859);const me={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Y={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ae=function J(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},De=function Re(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},tt=new G.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),de=new se.Yd("@firebase/auth");function lt(M,...g){de.logLevel<=se.in.ERROR&&de.error(`Auth (${P.SDK_VERSION}): ${M}`,...g)}function et(M,...g){throw Xe(M,...g)}function Pe(M,...g){return Xe(M,...g)}function Ne(M,g,_){const x=Object.assign(Object.assign({},De()),{[g]:_});return new G.LL("auth","Firebase",x).create(g,{appName:M.name})}function Ee(M,g,_){if(!(g instanceof _))throw _.name!==g.constructor.name&&et(M,"argument-error"),Ne(M,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Xe(M,...g){if("string"!=typeof M){const _=g[0],x=[...g.slice(1)];return x[0]&&(x[0].appName=M.name),M._errorFactory.create(_,...x)}return tt.create(M,...g)}function ie(M,g,..._){if(!M)throw Xe(g,..._)}function le(M){const g="INTERNAL ASSERTION FAILED: "+M;throw lt(g),new Error(g)}function be(M,g){M||le(g)}const ee=new Map;function te(M){be(M instanceof Function,"Expected a class definition");let g=ee.get(M);return g?(be(g instanceof M,"Instance stored in cache mismatched with class"),g):(g=new M,ee.set(M,g),g)}function Ge(){var M;return typeof self<"u"&&(null===(M=self.location)||void 0===M?void 0:M.href)||""}function Be(){return"http:"===_t()||"https:"===_t()}function _t(){var M;return typeof self<"u"&&(null===(M=self.location)||void 0===M?void 0:M.protocol)||null}class Qe{constructor(g,_){this.shortDelay=g,this.longDelay=_,be(_>g,"Short delay should be less than long delay!"),this.isMobile=(0,G.uI)()||(0,G.b$)()}get(){return function an(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Be()||(0,G.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Cn(M,g){be(M.emulator,"Emulator should always be set here");const{url:_}=M.emulator;return g?`${_}${g.startsWith("/")?g.slice(1):g}`:_}class Gn{static initialize(g,_,x){this.fetchImpl=g,_&&(this.headersImpl=_),x&&(this.responseImpl=x)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void le("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void le("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void le("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const gn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},cn=new Qe(3e4,6e4);function Gt(M,g){return M.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:M.tenantId}):g}function At(M,g,_,x){return In.apply(this,arguments)}function In(){return(In=(0,c.Z)(function*(M,g,_,x,L={}){return rr(M,L,(0,c.Z)(function*(){let F={},oe={};x&&("GET"===g?oe=x:F={body:JSON.stringify(x)});const ze=(0,G.xO)(Object.assign({key:M.config.apiKey},oe)).slice(1),ut=yield M._getAdditionalHeaders();return ut["Content-Type"]="application/json",M.languageCode&&(ut["X-Firebase-Locale"]=M.languageCode),Gn.fetch()($i(M,M.config.apiHost,_,ze),Object.assign({method:g,headers:ut,referrerPolicy:"no-referrer"},F))}))})).apply(this,arguments)}function rr(M,g,_){return gr.apply(this,arguments)}function gr(){return(gr=(0,c.Z)(function*(M,g,_){M._canInitEmulator=!1;const x=Object.assign(Object.assign({},gn),g);try{const L=new Zn(M),F=yield Promise.race([_(),L.promise]);L.clearNetworkTimeout();const oe=yield F.json();if("needConfirmation"in oe)throw Wn(M,"account-exists-with-different-credential",oe);if(F.ok&&!("errorMessage"in oe))return oe;{const ze=F.ok?oe.errorMessage:oe.error.message,[ut,Nt]=ze.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ut)throw Wn(M,"credential-already-in-use",oe);if("EMAIL_EXISTS"===ut)throw Wn(M,"email-already-in-use",oe);if("USER_DISABLED"===ut)throw Wn(M,"user-disabled",oe);const Ot=x[ut]||ut.toLowerCase().replace(/[_\s]+/g,"-");if(Nt)throw Ne(M,Ot,Nt);et(M,Ot)}}catch(L){if(L instanceof G.ZR)throw L;et(M,"network-request-failed")}})).apply(this,arguments)}function On(M,g,_,x){return ri.apply(this,arguments)}function ri(){return(ri=(0,c.Z)(function*(M,g,_,x,L={}){const F=yield At(M,g,_,x,L);return"mfaPendingCredential"in F&&et(M,"multi-factor-auth-required",{_serverResponse:F}),F})).apply(this,arguments)}function $i(M,g,_,x){const L=`${g}${_}?${x}`;return M.config.emulator?Cn(M.config,L):`${M.config.apiScheme}://${L}`}class Zn{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((_,x)=>{this.timer=setTimeout(()=>x(Pe(this.auth,"network-request-failed")),cn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Wn(M,g,_){const x={appName:M.name};_.email&&(x.email=_.email),_.phoneNumber&&(x.phoneNumber=_.phoneNumber);const L=Pe(M,g,x);return L.customData._tokenResponse=_,L}function sr(){return(sr=(0,c.Z)(function*(M,g){return At(M,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function it(M,g){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,c.Z)(function*(M,g){return At(M,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function jn(M,g){return wn.apply(this,arguments)}function wn(){return(wn=(0,c.Z)(function*(M,g){return At(M,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function di(M){if(M)try{const g=new Date(Number(M));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function Tn(){return(Tn=(0,c.Z)(function*(M,g=!1){const _=(0,G.m9)(M),x=yield _.getIdToken(g),L=mt(x);ie(L&&L.exp&&L.auth_time&&L.iat,_.auth,"internal-error");const F="object"==typeof L.firebase?L.firebase:void 0,oe=F?.sign_in_provider;return{claims:L,token:x,authTime:di(un(L.auth_time)),issuedAtTime:di(un(L.iat)),expirationTime:di(un(L.exp)),signInProvider:oe||null,signInSecondFactor:F?.sign_in_second_factor||null}})).apply(this,arguments)}function un(M){return 1e3*Number(M)}function mt(M){var g;const[_,x,L]=M.split(".");if(void 0===_||void 0===x||void 0===L)return lt("JWT malformed, contained fewer than 3 sections"),null;try{const F=(0,G.tV)(x);return F?JSON.parse(F):(lt("Failed to decode base64 JWT payload"),null)}catch(F){return lt("Caught error parsing JWT payload as JSON",null===(g=F)||void 0===g?void 0:g.toString()),null}}function gt(M,g){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,c.Z)(function*(M,g,_=!1){if(_)return g;try{return yield g}catch(x){throw x instanceof G.ZR&&Qn(x)&&M.auth.currentUser===M&&(yield M.auth.signOut()),x}})).apply(this,arguments)}function Qn({code:M}){return"auth/user-disabled"===M||"auth/user-token-expired"===M}class fi{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var _;if(g){const x=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),x}{this.errorBackoff=3e4;const L=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,L)}}schedule(g=!1){var _=this;if(!this.isRunning)return;const x=this.getInterval(g);this.timerId=setTimeout((0,c.Z)(function*(){yield _.iteration()}),x)}iteration(){var g=this;return(0,c.Z)(function*(){var _;try{yield g.user.getIdToken(!0)}catch(x){return void("auth/network-request-failed"===(null===(_=x)||void 0===_?void 0:_.code)&&g.schedule(!0))}g.schedule()})()}}class Vt{constructor(g,_){this.createdAt=g,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=di(this.lastLoginAt),this.creationTime=di(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function _i(M){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,c.Z)(function*(M){var g;const _=M.auth,x=yield M.getIdToken(),L=yield gt(M,jn(_,{idToken:x}));ie(L?.users.length,_,"internal-error");const F=L.users[0];M._notifyReloadListener(F);const oe=null!==(g=F.providerUserInfo)&&void 0!==g&&g.length?zn(F.providerUserInfo):[],ze=Xn(M.providerData,oe),Ot=!!M.isAnonymous&&!(M.email&&F.passwordHash||ze?.length),Un={uid:F.localId,displayName:F.displayName||null,photoURL:F.photoUrl||null,email:F.email||null,emailVerified:F.emailVerified||!1,phoneNumber:F.phoneNumber||null,tenantId:F.tenantId||null,providerData:ze,metadata:new Vt(F.createdAt,F.lastLoginAt),isAnonymous:Ot};Object.assign(M,Un)})).apply(this,arguments)}function Zt(){return(Zt=(0,c.Z)(function*(M){const g=(0,G.m9)(M);yield _i(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function Xn(M,g){return[...M.filter(x=>!g.some(L=>L.providerId===x.providerId)),...g]}function zn(M){return M.map(g=>{var{providerId:_}=g,x=(0,ge._T)(g,["providerId"]);return{providerId:_,uid:x.rawId||"",displayName:x.displayName||null,email:x.email||null,phoneNumber:x.phoneNumber||null,photoURL:x.photoUrl||null}})}function Ie(){return(Ie=(0,c.Z)(function*(M,g){const _=yield rr(M,{},(0,c.Z)(function*(){const x=(0,G.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:L,apiKey:F}=M.config,oe=$i(M,L,"/v1/token",`key=${F}`),ze=yield M._getAdditionalHeaders();return ze["Content-Type"]="application/x-www-form-urlencoded",Gn.fetch()(oe,{method:"POST",headers:ze,body:x})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class st{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){ie(g.idToken,"internal-error"),ie(typeof g.idToken<"u","internal-error"),ie(typeof g.refreshToken<"u","internal-error");const _="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function ht(M){const g=mt(M);return ie(g,"internal-error"),ie(typeof g.exp<"u","internal-error"),ie(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,_)}getToken(g,_=!1){var x=this;return(0,c.Z)(function*(){return ie(!x.accessToken||x.refreshToken,g,"user-token-expired"),_||!x.accessToken||x.isExpired?x.refreshToken?(yield x.refresh(g,x.refreshToken),x.accessToken):null:x.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,_){var x=this;return(0,c.Z)(function*(){const{accessToken:L,refreshToken:F,expiresIn:oe}=yield function nt(M,g){return Ie.apply(this,arguments)}(g,_);x.updateTokensAndExpiration(L,F,Number(oe))})()}updateTokensAndExpiration(g,_,x){this.refreshToken=_||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*x}static fromJSON(g,_){const{refreshToken:x,accessToken:L,expirationTime:F}=_,oe=new st;return x&&(ie("string"==typeof x,"internal-error",{appName:g}),oe.refreshToken=x),L&&(ie("string"==typeof L,"internal-error",{appName:g}),oe.accessToken=L),F&&(ie("number"==typeof F,"internal-error",{appName:g}),oe.expirationTime=F),oe}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new st,this.toJSON())}_performRefresh(){return le("not implemented")}}function wt(M,g){ie("string"==typeof M||typeof M>"u","internal-error",{appName:g})}class It{constructor(g){var{uid:_,auth:x,stsTokenManager:L}=g,F=(0,ge._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new fi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=x,this.stsTokenManager=L,this.accessToken=L.accessToken,this.displayName=F.displayName||null,this.email=F.email||null,this.emailVerified=F.emailVerified||!1,this.phoneNumber=F.phoneNumber||null,this.photoURL=F.photoURL||null,this.isAnonymous=F.isAnonymous||!1,this.tenantId=F.tenantId||null,this.providerData=F.providerData?[...F.providerData]:[],this.metadata=new Vt(F.createdAt||void 0,F.lastLoginAt||void 0)}getIdToken(g){var _=this;return(0,c.Z)(function*(){const x=yield gt(_,_.stsTokenManager.getToken(_.auth,g));return ie(x,_.auth,"internal-error"),_.accessToken!==x&&(_.accessToken=x,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),x})()}getIdTokenResult(g){return function En(M){return Tn.apply(this,arguments)}(this,g)}reload(){return function yi(M){return Zt.apply(this,arguments)}(this)}_assign(g){this!==g&&(ie(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(_=>Object.assign({},_)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new It(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,_=!1){var x=this;return(0,c.Z)(function*(){let L=!1;g.idToken&&g.idToken!==x.stsTokenManager.accessToken&&(x.stsTokenManager.updateFromServerResponse(g),L=!0),_&&(yield _i(x)),yield x.auth._persistUserIfCurrent(x),L&&x.auth._notifyListenersIfCurrent(x)})()}delete(){var g=this;return(0,c.Z)(function*(){const _=yield g.getIdToken();return yield gt(g,function Ei(M,g){return sr.apply(this,arguments)}(g.auth,{idToken:_})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,_){var x,L,F,oe,ze,ut,Nt,Ot;const Un=null!==(x=_.displayName)&&void 0!==x?x:void 0,Ar=null!==(L=_.email)&&void 0!==L?L:void 0,t2=null!==(F=_.phoneNumber)&&void 0!==F?F:void 0,Dl=null!==(oe=_.photoURL)&&void 0!==oe?oe:void 0,Ll=null!==(ze=_.tenantId)&&void 0!==ze?ze:void 0,Il=null!==(ut=_._redirectEventId)&&void 0!==ut?ut:void 0,o5=null!==(Nt=_.createdAt)&&void 0!==Nt?Nt:void 0,a5=null!==(Ot=_.lastLoginAt)&&void 0!==Ot?Ot:void 0,{uid:So,emailVerified:Tl,isAnonymous:ka,providerData:p4,stsTokenManager:U1}=_;ie(So&&U1,g,"internal-error");const m4=st.fromJSON(this.name,U1);ie("string"==typeof So,g,"internal-error"),wt(Un,g.name),wt(Ar,g.name),ie("boolean"==typeof Tl,g,"internal-error"),ie("boolean"==typeof ka,g,"internal-error"),wt(t2,g.name),wt(Dl,g.name),wt(Ll,g.name),wt(Il,g.name),wt(o5,g.name),wt(a5,g.name);const ei=new It({uid:So,auth:g,email:Ar,emailVerified:Tl,displayName:Un,isAnonymous:ka,photoURL:Dl,phoneNumber:t2,tenantId:Ll,stsTokenManager:m4,createdAt:o5,lastLoginAt:a5});return p4&&Array.isArray(p4)&&(ei.providerData=p4.map(Vl=>Object.assign({},Vl))),Il&&(ei._redirectEventId=Il),ei}static _fromIdTokenResponse(g,_,x=!1){return(0,c.Z)(function*(){const L=new st;L.updateFromServerResponse(_);const F=new It({uid:_.localId,auth:g,stsTokenManager:L,isAnonymous:x});return yield _i(F),F})()}}const W=(()=>{class M{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(_,x){var L=this;return(0,c.Z)(function*(){L.storage[_]=x})()}_get(_){var x=this;return(0,c.Z)(function*(){const L=x.storage[_];return void 0===L?null:L})()}_remove(_){var x=this;return(0,c.Z)(function*(){delete x.storage[_]})()}_addListener(_,x){}_removeListener(_,x){}}return M.type="NONE",M})();function $(M,g,_){return`firebase:${M}:${g}:${_}`}class N{constructor(g,_,x){this.persistence=g,this.auth=_,this.userKey=x;const{config:L,name:F}=this.auth;this.fullUserKey=$(this.userKey,L.apiKey,F),this.fullPersistenceKey=$("persistence",L.apiKey,F),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,c.Z)(function*(){const _=yield g.persistence._get(g.fullUserKey);return _?It._fromJSON(g.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var _=this;return(0,c.Z)(function*(){if(_.persistence===g)return;const x=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=g,x?_.setCurrentUser(x):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,_,x="authUser"){return(0,c.Z)(function*(){if(!_.length)return new N(te(W),g,x);const L=(yield Promise.all(_.map(function(){var Nt=(0,c.Z)(function*(Ot){if(yield Ot._isAvailable())return Ot});return function(Ot){return Nt.apply(this,arguments)}}()))).filter(Nt=>Nt);let F=L[0]||te(W);const oe=$(x,g.config.apiKey,g.name);let ze=null;for(const Nt of _)try{const Ot=yield Nt._get(oe);if(Ot){const Un=It._fromJSON(g,Ot);Nt!==F&&(ze=Un),F=Nt;break}}catch{}const ut=L.filter(Nt=>Nt._shouldAllowMigration);return F._shouldAllowMigration&&ut.length?(F=ut[0],ze&&(yield F._set(oe,ze.toJSON())),yield Promise.all(_.map(function(){var Nt=(0,c.Z)(function*(Ot){if(Ot!==F)try{yield Ot._remove(oe)}catch{}});return function(Ot){return Nt.apply(this,arguments)}}())),new N(F,g,x)):new N(F,g,x)})()}}function V(M){const g=M.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(ue(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(D(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(We(g))return"Blackberry";if(ve(g))return"Webos";if(H(g))return"Safari";if((g.includes("chrome/")||q(g))&&!g.includes("edge/"))return"Chrome";if(Oe(g))return"Android";{const x=M.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===x?.length)return x[1]}return"Other"}function D(M=(0,G.z$)()){return/firefox\//i.test(M)}function H(M=(0,G.z$)()){const g=M.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function q(M=(0,G.z$)()){return/crios\//i.test(M)}function ue(M=(0,G.z$)()){return/iemobile/i.test(M)}function Oe(M=(0,G.z$)()){return/android/i.test(M)}function We(M=(0,G.z$)()){return/blackberry/i.test(M)}function ve(M=(0,G.z$)()){return/webos/i.test(M)}function Te(M=(0,G.z$)()){return/iphone|ipad|ipod/i.test(M)||/macintosh/i.test(M)&&/mobile/i.test(M)}function ft(M=(0,G.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(M)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(M)}function qt(M=(0,G.z$)()){return Te(M)||Oe(M)||ve(M)||We(M)||/windows phone/i.test(M)||ue(M)}function kn(M,g=[]){let _;switch(M){case"Browser":_=V((0,G.z$)());break;case"Worker":_=`${V((0,G.z$)())}-${M}`;break;default:_=M}const x=g.length?g.join(","):"FirebaseCore-web";return`${_}/JsCore/${P.SDK_VERSION}/${x}`}class bs{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,_){const x=F=>new Promise((oe,ze)=>{try{oe(g(F))}catch(ut){ze(ut)}});x.onAbort=_,this.queue.push(x);const L=this.queue.length-1;return()=>{this.queue[L]=()=>Promise.resolve()}}runMiddleware(g){var _=this;return(0,c.Z)(function*(){var x;if(_.auth.currentUser===g)return;const L=[];try{for(const F of _.queue)yield F(g),F.onAbort&&L.push(F.onAbort)}catch(F){L.reverse();for(const oe of L)try{oe()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:null===(x=F)||void 0===x?void 0:x.message})}})()}}class Gs{constructor(g,_,x){this.app=g,this.heartbeatServiceProvider=_,this.config=x,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ne(this),this.idTokenSubscription=new ne(this),this.beforeStateQueue=new bs(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=x.sdkClientVersion}_initializeWithPersistence(g,_){var x=this;return _&&(this._popupRedirectResolver=te(_)),this._initializationPromise=this.queue((0,c.Z)(function*(){var L,F;if(!x._deleted&&(x.persistenceManager=yield N.create(x,g),!x._deleted)){if(null!==(L=x._popupRedirectResolver)&&void 0!==L&&L._shouldInitProactively)try{yield x._popupRedirectResolver._initialize(x)}catch{}yield x.initializeCurrentUser(_),x.lastNotifiedUid=(null===(F=x.currentUser)||void 0===F?void 0:F.uid)||null,!x._deleted&&(x._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,c.Z)(function*(){if(g._deleted)return;const _=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||_){if(g.currentUser&&_&&g.currentUser.uid===_.uid)return g._currentUser._assign(_),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(_,!0)}})()}initializeCurrentUser(g){var _=this;return(0,c.Z)(function*(){var x;const L=yield _.assertedPersistence.getCurrentUser();let F=L,oe=!1;if(g&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const ze=null===(x=_.redirectUser)||void 0===x?void 0:x._redirectEventId,ut=F?._redirectEventId,Nt=yield _.tryRedirectSignIn(g);(!ze||ze===ut)&&Nt?.user&&(F=Nt.user,oe=!0)}if(!F)return _.directlySetCurrentUser(null);if(!F._redirectEventId){if(oe)try{yield _.beforeStateQueue.runMiddleware(F)}catch(ze){F=L,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(ze))}return F?_.reloadAndSetCurrentUserOrClear(F):_.directlySetCurrentUser(null)}return ie(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===F._redirectEventId?_.directlySetCurrentUser(F):_.reloadAndSetCurrentUserOrClear(F)})()}tryRedirectSignIn(g){var _=this;return(0,c.Z)(function*(){let x=null;try{x=yield _._popupRedirectResolver._completeRedirectFn(_,g,!0)}catch{yield _._setRedirectUser(null)}return x})()}reloadAndSetCurrentUserOrClear(g){var _=this;return(0,c.Z)(function*(){var x;try{yield _i(g)}catch(L){if("auth/network-request-failed"!==(null===(x=L)||void 0===x?void 0:x.code))return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function Ft(){if(typeof navigator>"u")return null;const M=navigator;return M.languages&&M.languages[0]||M.language||null}()}_delete(){var g=this;return(0,c.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var _=this;return(0,c.Z)(function*(){const x=g?(0,G.m9)(g):null;return x&&ie(x.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(x&&x._clone(_))})()}_updateCurrentUser(g,_=!1){var x=this;return(0,c.Z)(function*(){if(!x._deleted)return g&&ie(x.tenantId===g.tenantId,x,"tenant-id-mismatch"),_||(yield x.beforeStateQueue.runMiddleware(g)),x.queue((0,c.Z)(function*(){yield x.directlySetCurrentUser(g),x.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,c.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var _=this;return this.queue((0,c.Z)(function*(){yield _.assertedPersistence.setPersistence(te(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new G.LL("auth","Firebase",g())}onAuthStateChanged(g,_,x){return this.registerStateListener(this.authStateSubscription,g,_,x)}beforeAuthStateChanged(g,_){return this.beforeStateQueue.pushCallback(g,_)}onIdTokenChanged(g,_,x){return this.registerStateListener(this.idTokenSubscription,g,_,x)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,_){var x=this;return(0,c.Z)(function*(){const L=yield x.getOrInitRedirectPersistenceManager(_);return null===g?L.removeCurrentUser():L.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var _=this;return(0,c.Z)(function*(){if(!_.redirectPersistenceManager){const x=g&&te(g)||_._popupRedirectResolver;ie(x,_,"argument-error"),_.redirectPersistenceManager=yield N.create(_,[te(x._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(g){var _=this;return(0,c.Z)(function*(){var x,L;return _._isInitialized&&(yield _.queue((0,c.Z)(function*(){}))),(null===(x=_._currentUser)||void 0===x?void 0:x._redirectEventId)===g?_._currentUser:(null===(L=_.redirectUser)||void 0===L?void 0:L._redirectEventId)===g?_.redirectUser:null})()}_persistUserIfCurrent(g){var _=this;return(0,c.Z)(function*(){if(g===_.currentUser)return _.queue((0,c.Z)(function*(){return _.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const x=null!==(_=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==x&&(this.lastNotifiedUid=x,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,_,x,L){if(this._deleted)return()=>{};const F="function"==typeof _?_:_.next.bind(_),oe=this._isInitialized?Promise.resolve():this._initializationPromise;return ie(oe,this,"internal-error"),oe.then(()=>F(this.currentUser)),"function"==typeof _?g.addObserver(_,x,L):g.addObserver(_)}directlySetCurrentUser(g){var _=this;return(0,c.Z)(function*(){_.currentUser&&_.currentUser!==g&&_._currentUser._stopProactiveRefresh(),g&&_.isProactiveRefreshEnabled&&g._startProactiveRefresh(),_.currentUser=g,g?yield _.assertedPersistence.setCurrentUser(g):yield _.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=kn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,c.Z)(function*(){var _;const x={"X-Client-Version":g.clientVersion};g.app.options.appId&&(x["X-Firebase-gmpid"]=g.app.options.appId);const L=yield null===(_=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();return L&&(x["X-Firebase-Client"]=L),x})()}}function xt(M){return(0,G.m9)(M)}class ne{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,G.ne)(_=>this.observer=_)}get next(){return ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function we(M,g,_){const x=xt(M);ie(x._canInitEmulator,x,"emulator-config-failed"),ie(/^https?:\/\//.test(g),x,"invalid-emulator-scheme");const L=!!_?.disableWarnings,F=$e(g),{host:oe,port:ze}=function vt(M){const g=$e(M),_=/(\/\/)?([^?#/]+)/.exec(M.substr(g.length));if(!_)return{host:"",port:null};const x=_[2].split("@").pop()||"",L=/^(\[[^\]]+\])(:|$)/.exec(x);if(L){const F=L[1];return{host:F,port:Xt(x.substr(F.length+1))}}{const[F,oe]=x.split(":");return{host:F,port:Xt(oe)}}}(g);x.config.emulator={url:`${F}//${oe}${null===ze?"":`:${ze}`}/`},x.settings.appVerificationDisabledForTesting=!0,x.emulatorConfig=Object.freeze({host:oe,port:ze,protocol:F.replace(":",""),options:Object.freeze({disableWarnings:L})}),L||function vn(){function M(){const g=document.createElement("p"),_=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",M):M())}()}function $e(M){const g=M.indexOf(":");return g<0?"":M.substr(0,g+1)}function Xt(M){if(!M)return null;const g=Number(M);return isNaN(g)?null:g}class Pn{constructor(g,_){this.providerId=g,this.signInMethod=_}toJSON(){return le("not implemented")}_getIdTokenResponse(g){return le("not implemented")}_linkToIdToken(g,_){return le("not implemented")}_getReauthenticationResolver(g){return le("not implemented")}}function Nn(M,g){return or.apply(this,arguments)}function or(){return(or=(0,c.Z)(function*(M,g){return At(M,"POST","/v1/accounts:resetPassword",Gt(M,g))})).apply(this,arguments)}function ar(M,g){return _n.apply(this,arguments)}function _n(){return(_n=(0,c.Z)(function*(M,g){return At(M,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function U3(M,g){return M1.apply(this,arguments)}function M1(){return(M1=(0,c.Z)(function*(M,g){return At(M,"POST","/v1/accounts:update",Gt(M,g))})).apply(this,arguments)}function m2(){return(m2=(0,c.Z)(function*(M,g){return On(M,"POST","/v1/accounts:signInWithPassword",Gt(M,g))})).apply(this,arguments)}function cs(M,g){return js.apply(this,arguments)}function js(){return(js=(0,c.Z)(function*(M,g){return At(M,"POST","/v1/accounts:sendOobCode",Gt(M,g))})).apply(this,arguments)}function ws(M,g){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,c.Z)(function*(M,g){return cs(M,g)})).apply(this,arguments)}function oa(M,g){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,c.Z)(function*(M,g){return cs(M,g)})).apply(this,arguments)}function cr(M,g){return xs.apply(this,arguments)}function xs(){return(xs=(0,c.Z)(function*(M,g){return cs(M,g)})).apply(this,arguments)}function g2(M,g){return q2.apply(this,arguments)}function q2(){return(q2=(0,c.Z)(function*(M,g){return cs(M,g)})).apply(this,arguments)}function fo(){return(fo=(0,c.Z)(function*(M,g){return On(M,"POST","/v1/accounts:signInWithEmailLink",Gt(M,g))})).apply(this,arguments)}function Ss(){return(Ss=(0,c.Z)(function*(M,g){return On(M,"POST","/v1/accounts:signInWithEmailLink",Gt(M,g))})).apply(this,arguments)}class W2 extends Pn{constructor(g,_,x,L=null){super("password",x),this._email=g,this._password=_,this._tenantId=L}static _fromEmailAndPassword(g,_){return new W2(g,_,"password")}static _fromEmailAndCode(g,_,x=null){return new W2(g,_,"emailLink",x)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(g){var _=this;return(0,c.Z)(function*(){switch(_.signInMethod){case"password":return function b1(M,g){return m2.apply(this,arguments)}(g,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function kr(M,g){return fo.apply(this,arguments)}(g,{email:_._email,oobCode:_._password});default:et(g,"internal-error")}})()}_linkToIdToken(g,_){var x=this;return(0,c.Z)(function*(){switch(x.signInMethod){case"password":return ar(g,{idToken:_,returnSecureToken:!0,email:x._email,password:x._password});case"emailLink":return function G0(M,g){return Ss.apply(this,arguments)}(g,{idToken:_,email:x._email,oobCode:x._password});default:et(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function $s(M,g){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,c.Z)(function*(M,g){return On(M,"POST","/v1/accounts:signInWithIdp",Gt(M,g))})).apply(this,arguments)}class Es extends Pn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const _=new Es(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(_.idToken=g.idToken),g.accessToken&&(_.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(_.nonce=g.nonce),g.pendingToken&&(_.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(_.accessToken=g.oauthToken,_.secret=g.oauthTokenSecret):et("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:x,signInMethod:L}=_,F=(0,ge._T)(_,["providerId","signInMethod"]);if(!x||!L)return null;const oe=new Es(x,L);return oe.idToken=F.idToken||void 0,oe.accessToken=F.accessToken||void 0,oe.secret=F.secret,oe.nonce=F.nonce,oe.pendingToken=F.pendingToken||null,oe}_getIdTokenResponse(g){return $s(g,this.buildRequest())}_linkToIdToken(g,_){const x=this.buildRequest();return x.idToken=_,$s(g,x)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,$s(g,_)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),g.postBody=(0,G.xO)(_)}return g}}function G3(M,g){return ho.apply(this,arguments)}function ho(){return(ho=(0,c.Z)(function*(M,g){return At(M,"POST","/v1/accounts:sendVerificationCode",Gt(M,g))})).apply(this,arguments)}function po(){return(po=(0,c.Z)(function*(M,g){return On(M,"POST","/v1/accounts:signInWithPhoneNumber",Gt(M,g))})).apply(this,arguments)}function Ic(){return(Ic=(0,c.Z)(function*(M,g){const _=yield On(M,"POST","/v1/accounts:signInWithPhoneNumber",Gt(M,g));if(_.temporaryProof)throw Wn(M,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const Sf={USER_NOT_FOUND:"user-not-found"};function Vc(){return(Vc=(0,c.Z)(function*(M,g){return On(M,"POST","/v1/accounts:signInWithPhoneNumber",Gt(M,Object.assign(Object.assign({},g),{operation:"REAUTH"})),Sf)})).apply(this,arguments)}class w1 extends Pn{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,_){return new w1({verificationId:g,verificationCode:_})}static _fromTokenResponse(g,_){return new w1({phoneNumber:g,temporaryProof:_})}_getIdTokenResponse(g){return function j3(M,g){return po.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,_){return function $0(M,g){return Ic.apply(this,arguments)}(g,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function Tc(M,g){return Vc.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:_,verificationId:x,verificationCode:L}=this.params;return g&&_?{temporaryProof:g,phoneNumber:_}:{sessionInfo:x,code:L}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:_,verificationCode:x,phoneNumber:L,temporaryProof:F}=g;return x||_||L||F?new w1({verificationId:_,verificationCode:x,phoneNumber:L,temporaryProof:F}):null}}class mo{constructor(g){var _,x,L,F,oe,ze;const ut=(0,G.zd)((0,G.pd)(g)),Nt=null!==(_=ut.apiKey)&&void 0!==_?_:null,Ot=null!==(x=ut.oobCode)&&void 0!==x?x:null,Un=function Hc(M){switch(M){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(L=ut.mode)&&void 0!==L?L:null);ie(Nt&&Ot&&Un,"argument-error"),this.apiKey=Nt,this.operation=Un,this.code=Ot,this.continueUrl=null!==(F=ut.continueUrl)&&void 0!==F?F:null,this.languageCode=null!==(oe=ut.languageCode)&&void 0!==oe?oe:null,this.tenantId=null!==(ze=ut.tenantId)&&void 0!==ze?ze:null}static parseLink(g){const _=function aa(M){const g=(0,G.zd)((0,G.pd)(M)).link,_=g?(0,G.zd)((0,G.pd)(g)).deep_link_id:null,x=(0,G.zd)((0,G.pd)(M)).deep_link_id;return(x?(0,G.zd)((0,G.pd)(x)).link:null)||x||_||g||M}(g);try{return new mo(_)}catch{return null}}}let zc=(()=>{class M{constructor(){this.providerId=M.PROVIDER_ID}static credential(_,x){return W2._fromEmailAndPassword(_,x)}static credentialWithLink(_,x){const L=mo.parseLink(x);return ie(L,"argument-error"),W2._fromEmailAndCode(_,L.code,L.tenantId)}}return M.PROVIDER_ID="password",M.EMAIL_PASSWORD_SIGN_IN_METHOD="password",M.EMAIL_LINK_SIGN_IN_METHOD="emailLink",M})();class qi{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class x1 extends qi{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class v2 extends x1{static credentialFromJSON(g){const _="string"==typeof g?JSON.parse(g):g;return ie("providerId"in _&&"signInMethod"in _,"argument-error"),Es._fromParams(_)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return ie(g.idToken||g.accessToken,"argument-error"),Es._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return v2.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return v2.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:_,oauthAccessToken:x,oauthTokenSecret:L,pendingToken:F,nonce:oe,providerId:ze}=g;if(!x&&!L&&!_&&!F||!ze)return null;try{return new v2(ze)._credential({idToken:_,accessToken:x,nonce:oe,pendingToken:F})}catch{return null}}}let kc=(()=>{class M extends x1{constructor(){super("facebook.com")}static credential(_){return Es._fromParams({providerId:M.PROVIDER_ID,signInMethod:M.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return M.credentialFromTaggedObject(_)}static credentialFromError(_){return M.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return M.credential(_.oauthAccessToken)}catch{return null}}}return M.FACEBOOK_SIGN_IN_METHOD="facebook.com",M.PROVIDER_ID="facebook.com",M})(),go=(()=>{class M extends x1{constructor(){super("google.com"),this.addScope("profile")}static credential(_,x){return Es._fromParams({providerId:M.PROVIDER_ID,signInMethod:M.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:x})}static credentialFromResult(_){return M.credentialFromTaggedObject(_)}static credentialFromError(_){return M.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:x,oauthAccessToken:L}=_;if(!x&&!L)return null;try{return M.credential(x,L)}catch{return null}}}return M.GOOGLE_SIGN_IN_METHOD="google.com",M.PROVIDER_ID="google.com",M})(),ca=(()=>{class M extends x1{constructor(){super("github.com")}static credential(_){return Es._fromParams({providerId:M.PROVIDER_ID,signInMethod:M.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return M.credentialFromTaggedObject(_)}static credentialFromError(_){return M.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return M.credential(_.oauthAccessToken)}catch{return null}}}return M.GITHUB_SIGN_IN_METHOD="github.com",M.PROVIDER_ID="github.com",M})();class qs extends Pn{constructor(g,_){super(g,g),this.pendingToken=_}_getIdTokenResponse(g){return $s(g,this.buildRequest())}_linkToIdToken(g,_){const x=this.buildRequest();return x.idToken=_,$s(g,x)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,$s(g,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:x,signInMethod:L,pendingToken:F}=_;return x&&L&&F&&x===L?new qs(x,F):null}static _create(g,_){return new qs(g,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class As extends qi{constructor(g){ie(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return As.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return As.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const _=qs.fromJSON(g);return ie(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:_,providerId:x}=g;if(!_||!x)return null;try{return qs._create(x,_)}catch{return null}}}let la=(()=>{class M extends x1{constructor(){super("twitter.com")}static credential(_,x){return Es._fromParams({providerId:M.PROVIDER_ID,signInMethod:M.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:x})}static credentialFromResult(_){return M.credentialFromTaggedObject(_)}static credentialFromError(_){return M.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:x,oauthTokenSecret:L}=_;if(!x||!L)return null;try{return M.credential(x,L)}catch{return null}}}return M.TWITTER_SIGN_IN_METHOD="twitter.com",M.PROVIDER_ID="twitter.com",M})();function lr(M,g){return _2.apply(this,arguments)}function _2(){return(_2=(0,c.Z)(function*(M,g){return On(M,"POST","/v1/accounts:signUp",Gt(M,g))})).apply(this,arguments)}class si{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,_,x,L=!1){return(0,c.Z)(function*(){const F=yield It._fromIdTokenResponse(g,x,L),oe=Kr(x);return new si({user:F,providerId:oe,_tokenResponse:x,operationType:_})})()}static _forOperation(g,_,x){return(0,c.Z)(function*(){yield g._updateTokensIfNecessary(x,!0);const L=Kr(x);return new si({user:g,providerId:L,_tokenResponse:x,operationType:_})})()}}function Kr(M){return M.providerId?M.providerId:"phoneNumber"in M?"phone":null}function Af(M){return $3.apply(this,arguments)}function $3(){return($3=(0,c.Z)(function*(M){var g;const _=xt(M);if(yield _._initializationPromise,null!==(g=_.currentUser)&&void 0!==g&&g.isAnonymous)return new si({user:_.currentUser,providerId:null,operationType:"signIn"});const x=yield lr(_,{returnSecureToken:!0}),L=yield si._fromIdTokenResponse(_,"signIn",x,!0);return yield _._updateCurrentUser(L.user),L})).apply(this,arguments)}class Jn extends G.ZR{constructor(g,_,x,L){var F;super(_.code,_.message),this.operationType=x,this.user=L,Object.setPrototypeOf(this,Jn.prototype),this.customData={appName:g.name,tenantId:null!==(F=g.tenantId)&&void 0!==F?F:void 0,_serverResponse:_.customData._serverResponse,operationType:x}}static _fromErrorAndOperation(g,_,x,L){return new Jn(g,_,x,L)}}function Rc(M,g,_,x){return("reauthenticate"===g?_._getReauthenticationResolver(M):_._getIdTokenResponse(M)).catch(F=>{throw"auth/multi-factor-auth-required"===F.code?Jn._fromErrorAndOperation(M,F,g,x):F})}function K2(M){return new Set(M.map(({providerId:g})=>g).filter(g=>!!g))}function Z2(M,g){return vr.apply(this,arguments)}function vr(){return(vr=(0,c.Z)(function*(M,g){const _=(0,G.m9)(M);yield Ws(!0,_,g);const{providerUserInfo:x}=yield it(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[g]}),L=K2(x||[]);return _.providerData=_.providerData.filter(F=>L.has(F.providerId)),L.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function Pc(M,g){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,c.Z)(function*(M,g,_=!1){const x=yield gt(M,g._linkToIdToken(M.auth,yield M.getIdToken()),_);return si._forOperation(M,"link",x)})).apply(this,arguments)}function Ws(M,g,_){return dn.apply(this,arguments)}function dn(){return(dn=(0,c.Z)(function*(M,g,_){yield _i(g);const L=!1===M?"provider-already-linked":"no-such-provider";ie(K2(g.providerData).has(_)===M,g.auth,L)})).apply(this,arguments)}function q3(M,g){return y2.apply(this,arguments)}function y2(){return(y2=(0,c.Z)(function*(M,g,_=!1){var x;const{auth:L}=M,F="reauthenticate";try{const oe=yield gt(M,Rc(L,F,g,M),_);ie(oe.idToken,L,"internal-error");const ze=mt(oe.idToken);ie(ze,L,"internal-error");const{sub:ut}=ze;return ie(M.uid===ut,L,"user-mismatch"),si._forOperation(M,F,oe)}catch(oe){throw"auth/user-not-found"===(null===(x=oe)||void 0===x?void 0:x.code)&&et(L,"user-mismatch"),oe}})).apply(this,arguments)}function Fc(M,g){return ls.apply(this,arguments)}function ls(){return(ls=(0,c.Z)(function*(M,g,_=!1){const x="signIn",L=yield Rc(M,x,g),F=yield si._fromIdTokenResponse(M,x,L);return _||(yield M._updateCurrentUser(F.user)),F})).apply(this,arguments)}function S1(M,g){return vo.apply(this,arguments)}function vo(){return(vo=(0,c.Z)(function*(M,g){return Fc(xt(M),g)})).apply(this,arguments)}function z(M,g){return B.apply(this,arguments)}function B(){return(B=(0,c.Z)(function*(M,g){const _=(0,G.m9)(M);return yield Ws(!1,_,g.providerId),Pc(_,g)})).apply(this,arguments)}function Q(M,g){return fe.apply(this,arguments)}function fe(){return(fe=(0,c.Z)(function*(M,g){return q3((0,G.m9)(M),g)})).apply(this,arguments)}function je(M,g){return Je.apply(this,arguments)}function Je(){return(Je=(0,c.Z)(function*(M,g){return On(M,"POST","/v1/accounts:signInWithCustomToken",Gt(M,g))})).apply(this,arguments)}function Mt(M,g){return on.apply(this,arguments)}function on(){return(on=(0,c.Z)(function*(M,g){const _=xt(M),x=yield je(_,{token:g,returnSecureToken:!0}),L=yield si._fromIdTokenResponse(_,"signIn",x);return yield _._updateCurrentUser(L.user),L})).apply(this,arguments)}class oi{constructor(g,_){this.factorId=g,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(g,_){return"phoneInfo"in _?Ve._fromServerResponse(g,_):et(g,"internal-error")}}class Ve extends oi{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,_){return new Ve(_)}}function Et(M,g,_){var x;ie((null===(x=_.url)||void 0===x?void 0:x.length)>0,M,"invalid-continue-uri"),ie(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,M,"invalid-dynamic-link-domain"),g.continueUrl=_.url,g.dynamicLinkDomain=_.dynamicLinkDomain,g.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(ie(_.iOS.bundleId.length>0,M,"missing-ios-bundle-id"),g.iOSBundleId=_.iOS.bundleId),_.android&&(ie(_.android.packageName.length>0,M,"missing-android-pkg-name"),g.androidInstallApp=_.android.installApp,g.androidMinimumVersionCode=_.android.minimumVersion,g.androidPackageName=_.android.packageName)}function Wt(M,g,_){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,c.Z)(function*(M,g,_){const x=(0,G.m9)(M),L={requestType:"PASSWORD_RESET",email:g};_&&Et(x,L,_),yield oa(x,L)})).apply(this,arguments)}function ai(M,g,_){return C2.apply(this,arguments)}function C2(){return(C2=(0,c.Z)(function*(M,g,_){yield Nn((0,G.m9)(M),{oobCode:g,newPassword:_})})).apply(this,arguments)}function Ys(M,g){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,c.Z)(function*(M,g){yield U3((0,G.m9)(M),{oobCode:g})})).apply(this,arguments)}function ua(M,g){return Q2.apply(this,arguments)}function Q2(){return(Q2=(0,c.Z)(function*(M,g){const _=(0,G.m9)(M),x=yield Nn(_,{oobCode:g}),L=x.requestType;switch(ie(L,_,"internal-error"),L){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ie(x.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ie(x.mfaInfo,_,"internal-error");default:ie(x.email,_,"internal-error")}let F=null;return x.mfaInfo&&(F=oi._fromServerResponse(xt(_),x.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===x.requestType?x.newEmail:x.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===x.requestType?x.email:x.newEmail)||null,multiFactorInfo:F},operation:L}})).apply(this,arguments)}function E1(M,g){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,c.Z)(function*(M,g){const{data:_}=yield ua((0,G.m9)(M),g);return _.email})).apply(this,arguments)}function A1(M,g,_){return M2.apply(this,arguments)}function M2(){return(M2=(0,c.Z)(function*(M,g,_){const x=xt(M),L=yield lr(x,{returnSecureToken:!0,email:g,password:_}),F=yield si._fromIdTokenResponse(x,"signIn",L);return yield x._updateCurrentUser(F.user),F})).apply(this,arguments)}function Oi(M,g,_){return S1((0,G.m9)(M),zc.credential(g,_))}function Ks(M,g,_){return da.apply(this,arguments)}function da(){return(da=(0,c.Z)(function*(M,g,_){const x=(0,G.m9)(M),L={requestType:"EMAIL_SIGNIN",email:g};ie(_.handleCodeInApp,x,"argument-error"),_&&Et(x,L,_),yield cr(x,L)})).apply(this,arguments)}function fa(M,g){return"EMAIL_SIGNIN"===mo.parseLink(g)?.operation}function X2(M,g,_){return q0.apply(this,arguments)}function q0(){return(q0=(0,c.Z)(function*(M,g,_){const x=(0,G.m9)(M),L=zc.credentialWithLink(g,_||Ge());return ie(L._tenantId===(x.tenantId||null),x,"tenant-id-mismatch"),S1(x,L)})).apply(this,arguments)}function Df(M,g){return W0.apply(this,arguments)}function W0(){return(W0=(0,c.Z)(function*(M,g){return At(M,"POST","/v1/accounts:createAuthUri",Gt(M,g))})).apply(this,arguments)}function Xp(M,g){return Oc.apply(this,arguments)}function Oc(){return(Oc=(0,c.Z)(function*(M,g){const x={identifier:g,continueUri:Be()?Ge():"http://localhost"},{signinMethods:L}=yield Df((0,G.m9)(M),x);return L||[]})).apply(this,arguments)}function W3(M,g){return Y3.apply(this,arguments)}function Y3(){return(Y3=(0,c.Z)(function*(M,g){const _=(0,G.m9)(M),L={requestType:"VERIFY_EMAIL",idToken:yield M.getIdToken()};g&&Et(_.auth,L,g);const{email:F}=yield ws(_.auth,L);F!==M.email&&(yield M.reload())})).apply(this,arguments)}function K3(M,g,_){return Z3.apply(this,arguments)}function Z3(){return(Z3=(0,c.Z)(function*(M,g,_){const x=(0,G.m9)(M),F={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield M.getIdToken(),newEmail:g};_&&Et(x.auth,F,_);const{email:oe}=yield g2(x.auth,F);oe!==M.email&&(yield M.reload())})).apply(this,arguments)}function Lf(M,g){return Bc.apply(this,arguments)}function Bc(){return(Bc=(0,c.Z)(function*(M,g){return At(M,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function If(M,g){return Q3.apply(this,arguments)}function Q3(){return(Q3=(0,c.Z)(function*(M,{displayName:g,photoURL:_}){if(void 0===g&&void 0===_)return;const x=(0,G.m9)(M),F={idToken:yield x.getIdToken(),displayName:g,photoUrl:_,returnSecureToken:!0},oe=yield gt(x,Lf(x.auth,F));x.displayName=oe.displayName||null,x.photoURL=oe.photoUrl||null;const ze=x.providerData.find(({providerId:ut})=>"password"===ut);ze&&(ze.displayName=x.displayName,ze.photoURL=x.photoURL),yield x._updateTokensIfNecessary(oe)})).apply(this,arguments)}function Tf(M,g){return _o((0,G.m9)(M),g,null)}function Y0(M,g){return _o((0,G.m9)(M),null,g)}function _o(M,g,_){return D1.apply(this,arguments)}function D1(){return(D1=(0,c.Z)(function*(M,g,_){const{auth:x}=M,F={idToken:yield M.getIdToken(),returnSecureToken:!0};g&&(F.email=g),_&&(F.password=_);const oe=yield gt(M,ar(x,F));yield M._updateTokensIfNecessary(oe,!0)})).apply(this,arguments)}class ci{constructor(g,_,x={}){this.isNewUser=g,this.providerId=_,this.profile=x}}class b2 extends ci{constructor(g,_,x,L){super(g,_,x),this.username=L}}class li extends ci{constructor(g,_){super(g,"facebook.com",_)}}class K0 extends b2{constructor(g,_){super(g,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class Hf extends ci{constructor(g,_){super(g,"google.com",_)}}class zf extends b2{constructor(g,_,x){super(g,"twitter.com",_,x)}}function kf(M){const{user:g,_tokenResponse:_}=M;return g.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function Vf(M){var g,_;if(!M)return null;const{providerId:x}=M,L=M.rawUserInfo?JSON.parse(M.rawUserInfo):{},F=M.isNewUser||"identitytoolkit#SignupNewUserResponse"===M.kind;if(!x&&M?.idToken){const oe=null===(_=null===(g=mt(M.idToken))||void 0===g?void 0:g.firebase)||void 0===_?void 0:_.sign_in_provider;if(oe)return new ci(F,"anonymous"!==oe&&"custom"!==oe?oe:null)}if(!x)return null;switch(x){case"facebook.com":return new li(F,L);case"github.com":return new K0(F,L);case"google.com":return new Hf(F,L);case"twitter.com":return new zf(F,L,M.screenName||null);case"custom":case"anonymous":return new ci(F,null);default:return new ci(F,x,L)}}(_)}class us{constructor(g,_,x){this.type=g,this.credential=_,this.auth=x}static _fromIdtoken(g,_){return new us("enroll",g,_)}static _fromMfaPendingCredential(g){return new us("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var _,x;if(g?.multiFactorSession){if(null!==(_=g.multiFactorSession)&&void 0!==_&&_.pendingCredential)return us._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(x=g.multiFactorSession)&&void 0!==x&&x.idToken)return us._fromIdtoken(g.multiFactorSession.idToken)}return null}}class tl{constructor(g,_,x){this.session=g,this.hints=_,this.signInResolver=x}static _fromError(g,_){const x=xt(g),L=_.customData._serverResponse,F=(L.mfaInfo||[]).map(ze=>oi._fromServerResponse(x,ze));ie(L.mfaPendingCredential,x,"internal-error");const oe=us._fromMfaPendingCredential(L.mfaPendingCredential);return new tl(oe,F,function(){var ze=(0,c.Z)(function*(ut){const Nt=yield ut._process(x,oe);delete L.mfaInfo,delete L.mfaPendingCredential;const Ot=Object.assign(Object.assign({},L),{idToken:Nt.idToken,refreshToken:Nt.refreshToken});switch(_.operationType){case"signIn":const Un=yield si._fromIdTokenResponse(x,_.operationType,Ot);return yield x._updateCurrentUser(Un.user),Un;case"reauthenticate":return ie(_.user,x,"internal-error"),si._forOperation(_.user,_.operationType,Ot);default:et(x,"internal-error")}});return function(ut){return ze.apply(this,arguments)}}())}resolveSignIn(g){var _=this;return(0,c.Z)(function*(){return _.signInResolver(g)})()}}function Nf(M,g){var _;const x=(0,G.m9)(M),L=g;return ie(g.customData.operationType,x,"argument-error"),ie(null===(_=L.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,x,"argument-error"),tl._fromError(x,L)}function pa(M,g){return At(M,"POST","/v2/accounts/mfaEnrollment:start",Gt(M,g))}class $c{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(x=>oi._fromServerResponse(g.auth,x)))})}static _fromUser(g){return new $c(g)}getSession(){var g=this;return(0,c.Z)(function*(){return us._fromIdtoken(yield g.user.getIdToken(),g.user.auth)})()}enroll(g,_){var x=this;return(0,c.Z)(function*(){const L=g,F=yield x.getSession(),oe=yield gt(x.user,L._process(x.user.auth,F,_));return yield x.user._updateTokensIfNecessary(oe),x.user.reload()})()}unenroll(g){var _=this;return(0,c.Z)(function*(){var x;const L="string"==typeof g?g:g.uid,F=yield _.user.getIdToken(),oe=yield gt(_.user,function jc(M,g){return At(M,"POST","/v2/accounts/mfaEnrollment:withdraw",Gt(M,g))}(_.user.auth,{idToken:F,mfaEnrollmentId:L}));_.enrolledFactors=_.enrolledFactors.filter(({uid:ze})=>ze!==L),yield _.user._updateTokensIfNecessary(oe);try{yield _.user.reload()}catch(ze){if("auth/user-token-expired"!==(null===(x=ze)||void 0===x?void 0:x.code))throw ze}})()}}const Rf=new WeakMap;function il(M){const g=(0,G.m9)(M);return Rf.has(g)||Rf.set(g,$c._fromUser(g)),Rf.get(g)}const w2="__sak";class rl{constructor(g,_){this.storageRetriever=g,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(w2,"1"),this.storage.removeItem(w2),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,_){return this.storage.setItem(g,JSON.stringify(_)),Promise.resolve()}_get(g){const _=this.storage.getItem(g);return Promise.resolve(_?JSON.parse(_):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const I1=(()=>{class M extends rl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,x)=>this.onStorageEvent(_,x),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function sl(){const M=(0,G.z$)();return H(M)||Te(M)}()&&function Er(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=qt(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const x of Object.keys(this.listeners)){const L=this.storage.getItem(x),F=this.localCache[x];L!==F&&_(x,F,L)}}onStorageEvent(_,x=!1){if(!_.key)return void this.forAllChangedKeys((ze,ut,Nt)=>{this.notifyListeners(ze,Nt)});const L=_.key;if(x?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ze=this.storage.getItem(L);if(_.newValue!==ze)null!==_.newValue?this.storage.setItem(L,_.newValue):this.storage.removeItem(L);else if(this.localCache[L]===_.newValue&&!x)return}const F=()=>{const ze=this.storage.getItem(L);!x&&this.localCache[L]===ze||this.notifyListeners(L,ze)},oe=this.storage.getItem(L);!function Ht(){return(0,G.w1)()&&10===document.documentMode}()||oe===_.newValue||_.newValue===_.oldValue?F():setTimeout(F,10)}notifyListeners(_,x){this.localCache[_]=x;const L=this.listeners[_];if(L)for(const F of Array.from(L))F(x&&JSON.parse(x))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,x,L)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:x,newValue:L}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,x){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(x)}_removeListener(_,x){this.listeners[_]&&(this.listeners[_].delete(x),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,x){var L=()=>super._set,F=this;return(0,c.Z)(function*(){yield L().call(F,_,x),F.localCache[_]=JSON.stringify(x)})()}_get(_){var x=()=>super._get,L=this;return(0,c.Z)(function*(){const F=yield x().call(L,_);return L.localCache[_]=JSON.stringify(F),F})()}_remove(_){var x=()=>super._remove,L=this;return(0,c.Z)(function*(){yield x().call(L,_),delete L.localCache[_]})()}}return M.type="LOCAL",M})(),J2=(()=>{class M extends rl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,x){}_removeListener(_,x){}}return M.type="SESSION",M})();let qc=(()=>{class M{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const x=this.receivers.find(F=>F.isListeningto(_));if(x)return x;const L=new M(_);return this.receivers.push(L),L}isListeningto(_){return this.eventTarget===_}handleEvent(_){var x=this;return(0,c.Z)(function*(){const L=_,{eventId:F,eventType:oe,data:ze}=L.data,ut=x.handlersMap[oe];if(!ut?.size)return;L.ports[0].postMessage({status:"ack",eventId:F,eventType:oe});const Nt=Array.from(ut).map(function(){var Un=(0,c.Z)(function*(Ar){return Ar(L.origin,ze)});return function(Ar){return Un.apply(this,arguments)}}()),Ot=yield function ol(M){return Promise.all(M.map(function(){var g=(0,c.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(x){return{fulfilled:!1,reason:x}}});return function(_){return g.apply(this,arguments)}}()))}(Nt);L.ports[0].postMessage({status:"done",eventId:F,eventType:oe,response:Ot})})()}_subscribe(_,x){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(x)}_unsubscribe(_,x){this.handlersMap[_]&&x&&this.handlersMap[_].delete(x),(!x||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return M.receivers=[],M})();function yo(M="",g=10){let _="";for(let x=0;x<g;x++)_+=Math.floor(10*Math.random());return M+_}class Of{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,_,x=50){var L=this;return(0,c.Z)(function*(){const F=typeof MessageChannel<"u"?new MessageChannel:null;if(!F)throw new Error("connection_unavailable");let oe,ze;return new Promise((ut,Nt)=>{const Ot=yo("",20);F.port1.start();const Un=setTimeout(()=>{Nt(new Error("unsupported_event"))},x);ze={messageChannel:F,onMessage(Ar){const t2=Ar;if(t2.data.eventId===Ot)switch(t2.data.status){case"ack":clearTimeout(Un),oe=setTimeout(()=>{Nt(new Error("timeout"))},3e3);break;case"done":clearTimeout(oe),ut(t2.data.response);break;default:clearTimeout(Un),clearTimeout(oe),Nt(new Error("invalid_response"))}}},L.handlers.add(ze),F.port1.addEventListener("message",ze.onMessage),L.target.postMessage({eventType:g,eventId:Ot,data:_},[F.port2])}).finally(()=>{ze&&L.removeMessageHandler(ze)})})()}}function Bi(){return window}function Is(){return typeof Bi().WorkerGlobalScope<"u"&&"function"==typeof Bi().importScripts}function T1(){return(T1=(0,c.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ga="firebaseLocalStorageDb",_a="firebaseLocalStorage",Yc="fbase_key";class V1{constructor(g){this.request=g}toPromise(){return new Promise((g,_)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function Kc(M,g){return M.transaction([_a],g?"readwrite":"readonly").objectStore(_a)}function eu(){const M=indexedDB.open(ga,1);return new Promise((g,_)=>{M.addEventListener("error",()=>{_(M.error)}),M.addEventListener("upgradeneeded",()=>{const x=M.result;try{x.createObjectStore(_a,{keyPath:Yc})}catch(L){_(L)}}),M.addEventListener("success",(0,c.Z)(function*(){const x=M.result;x.objectStoreNames.contains(_a)?g(x):(x.close(),yield function J0(){const M=indexedDB.deleteDatabase(ga);return new V1(M).toPromise()}(),g(yield eu()))}))})}function ya(M,g,_){return x2.apply(this,arguments)}function x2(){return(x2=(0,c.Z)(function*(M,g,_){const x=Kc(M,!0).put({[Yc]:g,value:_});return new V1(x).toPromise()})).apply(this,arguments)}function Zc(){return(Zc=(0,c.Z)(function*(M,g){const _=Kc(M,!1).get(g),x=yield new V1(_).toPromise();return void 0===x?null:x.value})).apply(this,arguments)}function tu(M,g){const _=Kc(M,!0).delete(g);return new V1(_).toPromise()}const Qc=(()=>{class M{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,c.Z)(function*(){return _.db||(_.db=yield eu()),_.db})()}_withRetries(_){var x=this;return(0,c.Z)(function*(){let L=0;for(;;)try{const F=yield x._openDb();return yield _(F)}catch(F){if(L++>3)throw F;x.db&&(x.db.close(),x.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,c.Z)(function*(){return Is()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,c.Z)(function*(){_.receiver=qc._getInstance(function Wc(){return Is()?self:null}()),_.receiver._subscribe("keyChanged",function(){var x=(0,c.Z)(function*(L,F){return{keyProcessed:(yield _._poll()).includes(F.key)}});return function(L,F){return x.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var x=(0,c.Z)(function*(L,F){return["keyChanged"]});return function(L,F){return x.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,c.Z)(function*(){var x,L;if(_.activeServiceWorker=yield function Bf(){return T1.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new Of(_.activeServiceWorker);const F=yield _.sender._send("ping",{},800);!F||(null===(x=F[0])||void 0===x?void 0:x.fulfilled)&&(null===(L=F[0])||void 0===L?void 0:L.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var x=this;return(0,c.Z)(function*(){if(x.sender&&x.activeServiceWorker&&function al(){var M;return(null===(M=navigator?.serviceWorker)||void 0===M?void 0:M.controller)||null}()===x.activeServiceWorker)try{yield x.sender._send("keyChanged",{key:_},x.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const _=yield eu();return yield ya(_,w2,"1"),yield tu(_,w2),!0}catch{}return!1})()}_withPendingWrite(_){var x=this;return(0,c.Z)(function*(){x.pendingWrites++;try{yield _()}finally{x.pendingWrites--}})()}_set(_,x){var L=this;return(0,c.Z)(function*(){return L._withPendingWrite((0,c.Z)(function*(){return yield L._withRetries(F=>ya(F,_,x)),L.localCache[_]=x,L.notifyServiceWorker(_)}))})()}_get(_){var x=this;return(0,c.Z)(function*(){const L=yield x._withRetries(F=>function Uf(M,g){return Zc.apply(this,arguments)}(F,_));return x.localCache[_]=L,L})()}_remove(_){var x=this;return(0,c.Z)(function*(){return x._withPendingWrite((0,c.Z)(function*(){return yield x._withRetries(L=>tu(L,_)),delete x.localCache[_],x.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,c.Z)(function*(){const x=yield _._withRetries(oe=>{const ze=Kc(oe,!1).getAll();return new V1(ze).toPromise()});if(!x)return[];if(0!==_.pendingWrites)return[];const L=[],F=new Set;for(const{fbase_key:oe,value:ze}of x)F.add(oe),JSON.stringify(_.localCache[oe])!==JSON.stringify(ze)&&(_.notifyListeners(oe,ze),L.push(oe));for(const oe of Object.keys(_.localCache))_.localCache[oe]&&!F.has(oe)&&(_.notifyListeners(oe,null),L.push(oe));return L})()}notifyListeners(_,x){this.localCache[_]=x;const L=this.listeners[_];if(L)for(const F of Array.from(L))F(x)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,x){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(x)}_removeListener(_,x){this.listeners[_]&&(this.listeners[_].delete(x),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return M.type="LOCAL",M})();function Gf(M,g){return At(M,"POST","/v2/accounts/mfaSignIn:start",Gt(M,g))}function H1(){return(H1=(0,c.Z)(function*(M){return(yield At(M,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Co(M){return new Promise((g,_)=>{const x=document.createElement("script");x.setAttribute("src",M),x.onload=g,x.onerror=L=>{const F=Pe("internal-error");F.customData=L,_(F)},x.type="text/javascript",x.charset="UTF-8",function Ma(){var M,g;return null!==(g=null===(M=document.getElementsByTagName("head"))||void 0===M?void 0:M[0])&&void 0!==g?g:document}().appendChild(x)})}function cl(M){return`__${M}${Math.floor(1e6*Math.random())}`}const ru=1e12;class Jp{constructor(g){this.auth=g,this.counter=ru,this._widgets=new Map}render(g,_){const x=this.counter;return this._widgets.set(x,new $n(g,this.auth.name,_||{})),this.counter++,x}reset(g){var _;const x=g||ru;null===(_=this._widgets.get(x))||void 0===_||_.delete(),this._widgets.delete(x)}getResponse(g){var _;return(null===(_=this._widgets.get(g||ru))||void 0===_?void 0:_.getResponse())||""}execute(g){var _=this;return(0,c.Z)(function*(){var x;return null===(x=_._widgets.get(g||ru))||void 0===x||x.execute(),""})()}}class $n{constructor(g,_,x){this.params=x,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const L="string"==typeof g?document.getElementById(g):g;ie(L,"argument-error",{appName:_}),this.container=L,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function em(M){const g=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let x=0;x<M;x++)g.push(_.charAt(Math.floor(Math.random()*_.length)));return g.join("")}(50);const{callback:g,"expired-callback":_}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const jf=cl("rcb"),EM=new Qe(3e4,6e4);class DM{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=Bi().grecaptcha)||void 0===g||!g.render)}load(g,_=""){return ie(function LM(M){return M.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(M)}(_),g,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(Bi().grecaptcha):new Promise((x,L)=>{const F=Bi().setTimeout(()=>{L(Pe(g,"network-request-failed"))},EM.get());Bi()[jf]=()=>{Bi().clearTimeout(F),delete Bi()[jf];const ze=Bi().grecaptcha;if(!ze)return void L(Pe(g,"internal-error"));const ut=ze.render;ze.render=(Nt,Ot)=>{const Un=ut(Nt,Ot);return this.counter++,Un},this.hostLanguage=_,x(ze)},Co(`https://www.google.com/recaptcha/api.js??${(0,G.xO)({onload:jf,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(F),L(Pe(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var _;return!(null===(_=Bi().grecaptcha)||void 0===_||!_.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class IM{load(g){return(0,c.Z)(function*(){return new Jp(g)})()}clearedOneInstance(){}}const t1="recaptcha",tm={theme:"light",type:"image"};class $f{constructor(g,_=Object.assign({},tm),x){this.parameters=_,this.type=t1,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=xt(x),this.isInvisible="invisible"===this.parameters.size,ie(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const L="string"==typeof g?document.getElementById(g):g;ie(L,this.auth,"argument-error"),this.container=L,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new IM:new DM,this.validateStartingState()}verify(){var g=this;return(0,c.Z)(function*(){g.assertNotDestroyed();const _=yield g.render(),x=g.getAssertedRecaptcha();return x.getResponse(_)||new Promise(F=>{const oe=ze=>{!ze||(g.tokenChangeListeners.delete(oe),F(ze))};g.tokenChangeListeners.add(oe),g.isInvisible&&x.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){ie(!this.parameters.sitekey,this.auth,"argument-error"),ie(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ie(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return _=>{if(this.tokenChangeListeners.forEach(x=>x(_)),"function"==typeof g)g(_);else if("string"==typeof g){const x=Bi()[g];"function"==typeof x&&x(_)}}}assertNotDestroyed(){ie(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,c.Z)(function*(){if(yield g.init(),!g.widgetId){let _=g.container;if(!g.isInvisible){const x=document.createElement("div");_.appendChild(x),_=x}g.widgetId=g.getAssertedRecaptcha().render(_,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,c.Z)(function*(){ie(Be()&&!Is(),g.auth,"internal-error"),yield function Wi(){let M=null;return new Promise(g=>{"complete"!==document.readyState?(M=()=>g(),window.addEventListener("load",M)):g()}).catch(g=>{throw M&&window.removeEventListener("load",M),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const _=yield function Jc(M){return H1.apply(this,arguments)}(g.auth);ie(_,g.auth,"internal-error"),g.parameters.sitekey=_})()}getAssertedRecaptcha(){return ie(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Mo{constructor(g,_){this.verificationId=g,this.onConfirmation=_}confirm(g){const _=w1._fromVerification(this.verificationId,g);return this.onConfirmation(_)}}function wa(M,g,_){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,c.Z)(function*(M,g,_){const x=xt(M),L=yield Yn(x,g,(0,G.m9)(_));return new Mo(L,F=>S1(x,F))})).apply(this,arguments)}function xa(M,g,_){return hi.apply(this,arguments)}function hi(){return(hi=(0,c.Z)(function*(M,g,_){const x=(0,G.m9)(M);yield Ws(!1,x,"phone");const L=yield Yn(x.auth,g,(0,G.m9)(_));return new Mo(L,F=>z(x,F))})).apply(this,arguments)}function Qs(M,g,_){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,c.Z)(function*(M,g,_){const x=(0,G.m9)(M),L=yield Yn(x.auth,g,(0,G.m9)(_));return new Mo(L,F=>Q(x,F))})).apply(this,arguments)}function Yn(M,g,_){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,c.Z)(function*(M,g,_){var x;const L=yield _.verify();try{let F;if(ie("string"==typeof L,M,"argument-error"),ie(_.type===t1,M,"argument-error"),F="string"==typeof g?{phoneNumber:g}:g,"session"in F){const oe=F.session;if("phoneNumber"in F)return ie("enroll"===oe.type,M,"internal-error"),(yield pa(M,{idToken:oe.credential,phoneEnrollmentInfo:{phoneNumber:F.phoneNumber,recaptchaToken:L}})).phoneSessionInfo.sessionInfo;{ie("signin"===oe.type,M,"internal-error");const ze=(null===(x=F.multiFactorHint)||void 0===x?void 0:x.uid)||F.multiFactorUid;return ie(ze,M,"missing-multi-factor-info"),(yield Gf(M,{mfaPendingCredential:oe.credential,mfaEnrollmentId:ze,phoneSignInInfo:{recaptchaToken:L}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:oe}=yield G3(M,{phoneNumber:F.phoneNumber,recaptchaToken:L});return oe}}finally{_._reset()}})).apply(this,arguments)}function su(M,g){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,c.Z)(function*(M,g){yield Pc((0,G.m9)(M),g)})).apply(this,arguments)}let nm=(()=>{class M{constructor(_){this.providerId=M.PROVIDER_ID,this.auth=xt(_)}verifyPhoneNumber(_,x){return Yn(this.auth,_,(0,G.m9)(x))}static credential(_,x){return w1._fromVerification(_,x)}static credentialFromResult(_){return M.credentialFromTaggedObject(_)}static credentialFromError(_){return M.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:x,temporaryProof:L}=_;return x&&L?w1._fromTokenResponse(x,L):null}}return M.PROVIDER_ID="phone",M.PHONE_SIGN_IN_METHOD="phone",M})();function z1(M,g){return g?te(g):(ie(M._popupRedirectResolver,M,"argument-error"),M._popupRedirectResolver)}class qf extends Pn{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return $s(g,this._buildIdpRequest())}_linkToIdToken(g,_){return $s(g,this._buildIdpRequest(_))}_getReauthenticationResolver(g){return $s(g,this._buildIdpRequest())}_buildIdpRequest(g){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(_.idToken=g),_}}function ll(M){return Fc(M.auth,new qf(M),M.bypassAuthState)}function ds(M){const{auth:g,user:_}=M;return ie(_,g,"internal-error"),q3(_,new qf(M),M.bypassAuthState)}function e4(M){return fs.apply(this,arguments)}function fs(){return(fs=(0,c.Z)(function*(M){const{auth:g,user:_}=M;return ie(_,g,"internal-error"),Pc(_,new qf(M),M.bypassAuthState)})).apply(this,arguments)}class ou{constructor(g,_,x,L,F=!1){this.auth=g,this.resolver=x,this.user=L,this.bypassAuthState=F,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var g=this;return new Promise(function(){var _=(0,c.Z)(function*(x,L){g.pendingPromise={resolve:x,reject:L};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(F){g.reject(F)}});return function(x,L){return _.apply(this,arguments)}}())}onAuthEvent(g){var _=this;return(0,c.Z)(function*(){const{urlResponse:x,sessionId:L,postBody:F,tenantId:oe,error:ze,type:ut}=g;if(ze)return void _.reject(ze);const Nt={auth:_.auth,requestUri:x,sessionId:L,tenantId:oe||void 0,postBody:F||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(ut)(Nt))}catch(Ot){_.reject(Ot)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return ll;case"linkViaPopup":case"linkViaRedirect":return e4;case"reauthViaPopup":case"reauthViaRedirect":return ds;default:et(this.auth,"internal-error")}}resolve(g){be(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){be(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const t4=new Qe(2e3,1e4);function im(M,g,_){return n4.apply(this,arguments)}function n4(){return(n4=(0,c.Z)(function*(M,g,_){const x=xt(M);Ee(M,g,qi);const L=z1(x,_);return new Ea(x,"signInViaPopup",g,L).executeNotNull()})).apply(this,arguments)}function Wf(M,g,_){return ul.apply(this,arguments)}function ul(){return(ul=(0,c.Z)(function*(M,g,_){const x=(0,G.m9)(M);Ee(x.auth,g,qi);const L=z1(x.auth,_);return new Ea(x.auth,"reauthViaPopup",g,L,x).executeNotNull()})).apply(this,arguments)}function Yf(M,g,_){return dl.apply(this,arguments)}function dl(){return(dl=(0,c.Z)(function*(M,g,_){const x=(0,G.m9)(M);Ee(x.auth,g,qi);const L=z1(x.auth,_);return new Ea(x.auth,"linkViaPopup",g,L,x).executeNotNull()})).apply(this,arguments)}let Ea=(()=>{class M extends ou{constructor(_,x,L,F,oe){super(_,x,F,oe),this.provider=L,this.authWindow=null,this.pollId=null,M.currentPopupAction&&M.currentPopupAction.cancel(),M.currentPopupAction=this}executeNotNull(){var _=this;return(0,c.Z)(function*(){const x=yield _.execute();return ie(x,_.auth,"internal-error"),x})()}onExecution(){var _=this;return(0,c.Z)(function*(){be(1===_.filter.length,"Popup operations only handle one event");const x=yo();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],x),_.authWindow.associatedEvent=x,_.resolver._originValidation(_.auth).catch(L=>{_.reject(L)}),_.resolver._isIframeWebStorageSupported(_.auth,L=>{L||_.reject(Pe(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(Pe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,M.currentPopupAction=null}pollUserCancellation(){const _=()=>{var x,L;this.pollId=null!==(L=null===(x=this.authWindow)||void 0===x?void 0:x.window)&&void 0!==L&&L.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Pe(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,t4.get())};_()}}return M.currentPopupAction=null,M})();const r4=new Map;class Aa extends ou{constructor(g,_,x=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,x),this.eventId=null}execute(){var g=()=>super.execute,_=this;return(0,c.Z)(function*(){let x=r4.get(_.auth._key());if(!x){try{const F=(yield function fl(M,g){return bo.apply(this,arguments)}(_.resolver,_.auth))?yield g().call(_):null;x=()=>Promise.resolve(F)}catch(L){x=()=>Promise.reject(L)}r4.set(_.auth._key(),x)}return _.bypassAuthState||r4.set(_.auth._key(),()=>Promise.resolve(null)),x()})()}onAuthEvent(g){var _=()=>super.onAuthEvent,x=this;return(0,c.Z)(function*(){if("signInViaRedirect"===g.type)return _().call(x,g);if("unknown"!==g.type){if(g.eventId){const L=yield x.auth._redirectUserForId(g.eventId);if(L)return x.user=L,_().call(x,g);x.resolve(null)}}else x.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function bo(){return(bo=(0,c.Z)(function*(M,g){const _=k1(g),x=wo(M);if(!(yield x._isAvailable()))return!1;const L="true"===(yield x._get(_));return yield x._remove(_),L})).apply(this,arguments)}function au(M,g){return hl.apply(this,arguments)}function hl(){return(hl=(0,c.Z)(function*(M,g){return wo(M)._set(k1(g),"true")})).apply(this,arguments)}function Kf(){r4.clear()}function pl(M,g){r4.set(M._key(),g)}function wo(M){return te(M._redirectPersistence)}function k1(M){return $("pendingRedirect",M.config.apiKey,M.name)}function Zf(M,g,_){return function Ai(M,g,_){return s4.apply(this,arguments)}(M,g,_)}function s4(){return(s4=(0,c.Z)(function*(M,g,_){const x=xt(M);Ee(M,g,qi);const L=z1(x,_);return yield au(L,x),L._openRedirect(x,g,"signInViaRedirect")})).apply(this,arguments)}function cu(M,g,_){return function ml(M,g,_){return N1.apply(this,arguments)}(M,g,_)}function N1(){return(N1=(0,c.Z)(function*(M,g,_){const x=(0,G.m9)(M);Ee(x.auth,g,qi);const L=z1(x.auth,_);yield au(L,x.auth);const F=yield lu(x);return L._openRedirect(x.auth,g,"reauthViaRedirect",F)})).apply(this,arguments)}function Qf(M,g,_){return function Xf(M,g,_){return gl.apply(this,arguments)}(M,g,_)}function gl(){return(gl=(0,c.Z)(function*(M,g,_){const x=(0,G.m9)(M);Ee(x.auth,g,qi);const L=z1(x.auth,_);yield Ws(!1,x,g.providerId),yield au(L,x.auth);const F=yield lu(x);return L._openRedirect(x.auth,g,"linkViaRedirect",F)})).apply(this,arguments)}function vl(M,g){return R1.apply(this,arguments)}function R1(){return(R1=(0,c.Z)(function*(M,g){return yield xt(M)._initializationPromise,o4(M,g,!1)})).apply(this,arguments)}function o4(M,g){return P1.apply(this,arguments)}function P1(){return(P1=(0,c.Z)(function*(M,g,_=!1){const x=xt(M),L=z1(x,g),oe=yield new Aa(x,L,_).execute();return oe&&!_&&(delete oe.user._redirectEventId,yield x._persistUserIfCurrent(oe.user),yield x._setRedirectUser(null,g)),oe})).apply(this,arguments)}function lu(M){return a4.apply(this,arguments)}function a4(){return(a4=(0,c.Z)(function*(M){const g=yo(`${M.uid}:::`);return M._redirectEventId=g,yield M.auth._setRedirectUser(M),yield M.auth._persistUserIfCurrent(M),g})).apply(this,arguments)}class La{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let _=!1;return this.consumers.forEach(x=>{this.isEventForConsumer(g,x)&&(_=!0,this.sendToConsumer(g,x),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function Jf(M){switch(M.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return du(M);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=g,_=!0)),_}sendToConsumer(g,_){var x;if(g.error&&!du(g)){const L=(null===(x=g.error.code)||void 0===x?void 0:x.split("auth/")[1])||"internal-error";_.onError(Pe(this.auth,L))}else _.onAuthEvent(g)}isEventForConsumer(g,_){const x=null===_.eventId||!!g.eventId&&g.eventId===_.eventId;return _.filter.includes(g.type)&&x}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(uu(g))}saveEventToCache(g){this.cachedEventUids.add(uu(g)),this.lastProcessedEventTime=Date.now()}}function uu(M){return[M.type,M.eventId,M.sessionId,M.tenantId].filter(g=>g).join("-")}function du({type:M,error:g}){return"unknown"===M&&"auth/no-auth-event"===g?.code}function F1(M){return S2.apply(this,arguments)}function S2(){return(S2=(0,c.Z)(function*(M,g={}){return At(M,"GET","/v1/projects",g)})).apply(this,arguments)}const n1=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,e5=/^https?/;function Ia(){return(Ia=(0,c.Z)(function*(M){if(M.config.emulator)return;const{authorizedDomains:g}=yield F1(M);for(const _ of g)try{if(fu(_))return}catch{}et(M,"unauthorized-domain")})).apply(this,arguments)}function fu(M){const g=Ge(),{protocol:_,hostname:x}=new URL(g);if(M.startsWith("chrome-extension://")){const oe=new URL(M);return""===oe.hostname&&""===x?"chrome-extension:"===_&&M.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===_&&oe.hostname===x}if(!e5.test(_))return!1;if(n1.test(M))return x===M;const L=M.replace(/\./g,"\\.");return new RegExp("^(.+\\."+L+"|"+L+")$","i").test(x)}const Jr=new Qe(3e4,6e4);function _l(){const M=Bi().___jsl;if(M?.H)for(const g of Object.keys(M.H))if(M.H[g].r=M.H[g].r||[],M.H[g].L=M.H[g].L||[],M.H[g].r=[...M.H[g].L],M.CP)for(let _=0;_<M.CP.length;_++)M.CP[_]=null}let r1=null;function Cl(M){return r1=r1||function yl(M){return new Promise((g,_)=>{var x,L,F;function oe(){_l(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{_l(),_(Pe(M,"network-request-failed"))},timeout:Jr.get()})}if(null!==(L=null===(x=Bi().gapi)||void 0===x?void 0:x.iframes)&&void 0!==L&&L.Iframe)g(gapi.iframes.getContext());else{if(null===(F=Bi().gapi)||void 0===F||!F.load){const ze=cl("iframefcb");return Bi()[ze]=()=>{gapi.load?oe():_(Pe(M,"network-request-failed"))},Co(`https://apis.google.com/js/api.js?onload=${ze}`).catch(ut=>_(ut))}oe()}}).catch(g=>{throw r1=null,g})}(M),r1}const Ml=new Qe(5e3,15e3),s1={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},n5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bl(M){const g=M.config;ie(g.authDomain,M,"auth-domain-config-required");const _=g.emulator?Cn(g,"emulator/auth/iframe"):`https://${M.config.authDomain}/__/auth/iframe`,x={apiKey:g.apiKey,appName:M.name,v:P.SDK_VERSION},L=n5.get(M.config.apiHost);L&&(x.eid=L);const F=M._getFrameworks();return F.length&&(x.fw=F.join(",")),`${_}?${(0,G.xO)(x).slice(1)}`}function l4(){return l4=(0,c.Z)(function*(M){const g=yield Cl(M),_=Bi().gapi;return ie(_,M,"internal-error"),g.open({where:document.body,url:bl(M),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:s1,dontclear:!0},x=>new Promise(function(){var L=(0,c.Z)(function*(F,oe){yield x.restyle({setHideOnLeave:!1});const ze=Pe(M,"network-request-failed"),ut=Bi().setTimeout(()=>{oe(ze)},Ml.get());function Nt(){Bi().clearTimeout(ut),F(x)}x.ping(Nt).then(Nt,()=>{oe(ze)})});return function(F,oe){return L.apply(this,arguments)}}()))}),l4.apply(this,arguments)}const Ta={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class r5{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function O1(M,g,_,x,L,F){ie(M.config.authDomain,M,"auth-domain-config-required"),ie(M.config.apiKey,M,"invalid-api-key");const oe={apiKey:M.config.apiKey,appName:M.name,authType:_,redirectUrl:x,v:P.SDK_VERSION,eventId:L};if(g instanceof qi){g.setDefaultLanguage(M.languageCode),oe.providerId=g.providerId||"",(0,G.xb)(g.getCustomParameters())||(oe.customParameters=JSON.stringify(g.getCustomParameters()));for(const[ut,Nt]of Object.entries(F||{}))oe[ut]=Nt}if(g instanceof x1){const ut=g.getScopes().filter(Nt=>""!==Nt);ut.length>0&&(oe.scopes=ut.join(","))}M.tenantId&&(oe.tid=M.tenantId);const ze=oe;for(const ut of Object.keys(ze))void 0===ze[ut]&&delete ze[ut];return`${function Js({config:M}){return M.emulator?Cn(M,"emulator/auth/handler"):`https://${M.authDomain}/__/auth/handler`}(M)}?${(0,G.xO)(ze).slice(1)}`}const f4="webStorageSupport",e2=class Sl{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=J2,this._completeRedirectFn=o4,this._overrideRedirectResult=pl}_openPopup(g,_,x,L){var F=this;return(0,c.Z)(function*(){var oe;be(null===(oe=F.eventManagers[g._key()])||void 0===oe?void 0:oe.manager,"_initialize() not called before _openPopup()");const ze=O1(g,_,x,Ge(),L);return function Ha(M,g,_,x=500,L=600){const F=Math.max((window.screen.availHeight-L)/2,0).toString(),oe=Math.max((window.screen.availWidth-x)/2,0).toString();let ze="";const ut=Object.assign(Object.assign({},Ta),{width:x.toString(),height:L.toString(),top:F,left:oe}),Nt=(0,G.z$)().toLowerCase();_&&(ze=q(Nt)?"_blank":_),D(Nt)&&(g=g||"http://localhost",ut.scrollbars="yes");const Ot=Object.entries(ut).reduce((Ar,[t2,Dl])=>`${Ar}${t2}=${Dl},`,"");if(function tn(M=(0,G.z$)()){var g;return Te(M)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(Nt)&&"_self"!==ze)return function xl(M,g){const _=document.createElement("a");_.href=M,_.target=g;const x=document.createEvent("MouseEvent");x.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(x)}(g||"",ze),new r5(null);const Un=window.open(g||"",ze,Ot);ie(Un,M,"popup-blocked");try{Un.focus()}catch{}return new r5(Un)}(g,ze,yo())})()}_openRedirect(g,_,x,L){var F=this;return(0,c.Z)(function*(){return yield F._originValidation(g),function X0(M){Bi().location.href=M}(O1(g,_,x,Ge(),L)),new Promise(()=>{})})()}_initialize(g){const _=g._key();if(this.eventManagers[_]){const{manager:L,promise:F}=this.eventManagers[_];return L?Promise.resolve(L):(be(F,"If manager is not set, promise should be"),F)}const x=this.initAndGetManager(g);return this.eventManagers[_]={promise:x},x.catch(()=>{delete this.eventManagers[_]}),x}initAndGetManager(g){var _=this;return(0,c.Z)(function*(){const x=yield function sm(M){return l4.apply(this,arguments)}(g),L=new La(g);return x.register("authEvent",F=>(ie(F?.authEvent,g,"invalid-auth-event"),{status:L.onEvent(F.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[g._key()]={manager:L},_.iframes[g._key()]=x,L})()}_isIframeWebStorageSupported(g,_){this.iframes[g._key()].send(f4,{type:f4},L=>{var F;const oe=null===(F=L?.[0])||void 0===F?void 0:F[f4];void 0!==oe&&_(!!oe),et(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const _=g._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function c4(M){return Ia.apply(this,arguments)}(g)),this.originValidationPromises[_]}get _shouldInitProactively(){return qt()||H()||Te()}};class xo extends class El{constructor(g){this.factorId=g}_process(g,_,x){switch(_.type){case"enroll":return this._finalizeEnroll(g,_.credential,x);case"signin":return this._finalizeSignIn(g,_.credential);default:return le("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new xo(g)}_finalizeEnroll(g,_,x){return function nl(M,g){return At(M,"POST","/v2/accounts/mfaEnrollment:finalize",Gt(M,g))}(g,{idToken:_,displayName:x,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,_){return function Xc(M,g){return At(M,"POST","/v2/accounts/mfaSignIn:finalize",Gt(M,g))}(g,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let E2=(()=>{class M{constructor(){}static assertion(_){return xo._fromCredential(_)}}return M.FACTOR_ID="phone",M})();var Ts="@firebase/auth",Al="0.20.11";class s5{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var _=this;return(0,c.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const _=this.auth.onIdTokenChanged(x=>{var L;g((null===(L=x)||void 0===L?void 0:L.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,_),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const _=this.internalListeners.get(g);!_||(this.internalListeners.delete(g),_(),this.updateProactiveRefresh())}assertAuthConfigured(){ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,G.Pz)("authIdTokenMaxAge"),function o1(M){(0,P._registerComponent)(new ye.wA("auth",(g,{options:_})=>{const x=g.getProvider("app").getImmediate(),L=g.getProvider("heartbeat"),{apiKey:F,authDomain:oe}=x.options;return((ze,ut)=>{ie(F&&!F.includes(":"),"invalid-api-key",{appName:ze.name}),ie(!oe?.includes(":"),"argument-error",{appName:ze.name});const Nt={apiKey:F,authDomain:oe,clientPlatform:M,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kn(M)},Ot=new Gs(ze,ut,Nt);return function ce(M,g){const _=g?.persistence||[],x=(Array.isArray(_)?_:[_]).map(te);g?.errorMap&&M._updateErrorMap(g.errorMap),M._initializeWithPersistence(x,g?.popupRedirectResolver)}(Ot,_),Ot})(x,L)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,_,x)=>{g.getProvider("auth-internal").initialize()})),(0,P._registerComponent)(new ye.wA("auth-internal",g=>{const _=xt(g.getProvider("auth").getImmediate());return new s5(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,P.registerVersion)(Ts,Al,function pu(M){switch(M){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(M)),(0,P.registerVersion)(Ts,Al,"esm2017")}("Browser")},2090:(pt,He,R)=>{R.d(He,{$s:()=>st,BH:()=>Ft,DV:()=>Wn,Dv:()=>Dn,G6:()=>Ee,GJ:()=>$i,L:()=>me,LL:()=>gn,Pz:()=>an,Sg:()=>Qe,UG:()=>De,UI:()=>sr,US:()=>ye,Wj:()=>Vt,Wl:()=>In,Yr:()=>Ne,ZB:()=>Y,ZR:()=>Gn,aH:()=>_t,b$:()=>de,cI:()=>At,dS:()=>Rt,eu:()=>ie,g5:()=>P,gK:()=>Qn,gQ:()=>En,h$:()=>re,hl:()=>Xe,hu:()=>G,jU:()=>tt,lb:()=>_i,m9:()=>Qt,ne:()=>Tn,p$:()=>K,pd:()=>Ri,r3:()=>Zn,ru:()=>Me,tV:()=>_e,uI:()=>Ae,ug:()=>yi,vZ:()=>it,w1:()=>et,w9:()=>ri,xO:()=>wn,xb:()=>Ei,z$:()=>Re,zI:()=>le,zd:()=>di});const G=function(W,$){if(!W)throw P($)},P=function(W){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+W)},se=function(W){const $=[];let N=0;for(let V=0;V<W.length;V++){let D=W.charCodeAt(V);D<128?$[N++]=D:D<2048?($[N++]=D>>6|192,$[N++]=63&D|128):55296==(64512&D)&&V+1<W.length&&56320==(64512&W.charCodeAt(V+1))?(D=65536+((1023&D)<<10)+(1023&W.charCodeAt(++V)),$[N++]=D>>18|240,$[N++]=D>>12&63|128,$[N++]=D>>6&63|128,$[N++]=63&D|128):($[N++]=D>>12|224,$[N++]=D>>6&63|128,$[N++]=63&D|128)}return $},ye={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(W,$){if(!Array.isArray(W))throw Error("encodeByteArray takes an array as a parameter");this.init_();const N=$?this.byteToCharMapWebSafe_:this.byteToCharMap_,V=[];for(let D=0;D<W.length;D+=3){const H=W[D],q=D+1<W.length,ue=q?W[D+1]:0,Oe=D+2<W.length,We=Oe?W[D+2]:0;let ft=(15&ue)<<2|We>>6,tn=63&We;Oe||(tn=64,q||(ft=64)),V.push(N[H>>2],N[(3&H)<<4|ue>>4],N[ft],N[tn])}return V.join("")},encodeString(W,$){return this.HAS_NATIVE_SUPPORT&&!$?btoa(W):this.encodeByteArray(se(W),$)},decodeString(W,$){return this.HAS_NATIVE_SUPPORT&&!$?atob(W):function(W){const $=[];let N=0,V=0;for(;N<W.length;){const D=W[N++];if(D<128)$[V++]=String.fromCharCode(D);else if(D>191&&D<224){const H=W[N++];$[V++]=String.fromCharCode((31&D)<<6|63&H)}else if(D>239&&D<365){const Oe=((7&D)<<18|(63&W[N++])<<12|(63&W[N++])<<6|63&W[N++])-65536;$[V++]=String.fromCharCode(55296+(Oe>>10)),$[V++]=String.fromCharCode(56320+(1023&Oe))}else{const H=W[N++],q=W[N++];$[V++]=String.fromCharCode((15&D)<<12|(63&H)<<6|63&q)}}return $.join("")}(this.decodeStringToByteArray(W,$))},decodeStringToByteArray(W,$){this.init_();const N=$?this.charToByteMapWebSafe_:this.charToByteMap_,V=[];for(let D=0;D<W.length;){const H=N[W.charAt(D++)],ue=D<W.length?N[W.charAt(D)]:0;++D;const We=D<W.length?N[W.charAt(D)]:64;++D;const Te=D<W.length?N[W.charAt(D)]:64;if(++D,null==H||null==ue||null==We||null==Te)throw Error();V.push(H<<2|ue>>4),64!==We&&(V.push(ue<<4&240|We>>2),64!==Te&&V.push(We<<6&192|Te))}return V},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let W=0;W<this.ENCODED_VALS.length;W++)this.byteToCharMap_[W]=this.ENCODED_VALS.charAt(W),this.charToByteMap_[this.byteToCharMap_[W]]=W,this.byteToCharMapWebSafe_[W]=this.ENCODED_VALS_WEBSAFE.charAt(W),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[W]]=W,W>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(W)]=W,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(W)]=W)}}},re=function(W){const $=se(W);return ye.encodeByteArray($,!0)},me=function(W){return re(W).replace(/\./g,"")},_e=function(W){try{return ye.decodeString(W,!0)}catch($){console.error("base64Decode failed: ",$)}return null};function K(W){return Y(void 0,W)}function Y(W,$){if(!($ instanceof Object))return $;switch($.constructor){case Date:return new Date($.getTime());case Object:void 0===W&&(W={});break;case Array:W=[];break;default:return $}for(const N in $)!$.hasOwnProperty(N)||!J(N)||(W[N]=Y(W[N],$[N]));return W}function J(W){return"__proto__"!==W}function Re(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ae(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Re())}function De(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function tt(){return"object"==typeof self&&self.self===self}function Me(){const W="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof W&&void 0!==W.id}function de(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function et(){const W=Re();return W.indexOf("MSIE ")>=0||W.indexOf("Trident/")>=0}function Ne(){return!1}function Ee(){return!De()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Xe(){return"object"==typeof indexedDB}function ie(){return new Promise((W,$)=>{try{let N=!0;const V="validate-browser-context-for-indexeddb-analytics-module",D=self.indexedDB.open(V);D.onsuccess=()=>{D.result.close(),N||self.indexedDB.deleteDatabase(V),W(!0)},D.onupgradeneeded=()=>{N=!1},D.onerror=()=>{var H;$((null===(H=D.error)||void 0===H?void 0:H.message)||"")}}catch(N){$(N)}})}function le(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const ce=()=>{try{return function be(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const W=process.env.__FIREBASE_DEFAULTS__;return W?JSON.parse(W):void 0})()||(()=>{if(typeof document>"u")return;let W;try{W=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const $=W&&_e(W[1]);return $&&JSON.parse($)})()}catch(W){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${W}`)}},_t=()=>{var W;return null===(W=ce())||void 0===W?void 0:W.config},an=W=>{var $;return null===($=ce())||void 0===$?void 0:$[`_${W}`]};class Ft{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(($,N)=>{this.resolve=$,this.reject=N})}wrapCallback($){return(N,V)=>{N?this.reject(N):this.resolve(V),"function"==typeof $&&(this.promise.catch(()=>{}),1===$.length?$(N):$(N,V))}}}function Qe(W,$){if(W.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const V=$||"demo-project",D=W.iat||0,H=W.sub||W.user_id;if(!H)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const q=Object.assign({iss:`https://securetoken.google.com/${V}`,aud:V,iat:D,exp:D+3600,auth_time:D,sub:H,user_id:H,firebase:{sign_in_provider:"custom",identities:{}}},W);return[me(JSON.stringify({alg:"none",type:"JWT"})),me(JSON.stringify(q)),""].join(".")}class Gn extends Error{constructor($,N,V){super(N),this.code=$,this.customData=V,this.name="FirebaseError",Object.setPrototypeOf(this,Gn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gn.prototype.create)}}class gn{constructor($,N,V){this.service=$,this.serviceName=N,this.errors=V}create($,...N){const V=N[0]||{},D=`${this.service}/${$}`,H=this.errors[$],q=H?function cn(W,$){return W.replace(Gt,(N,V)=>{const D=$[V];return null!=D?String(D):`<${V}?>`})}(H,V):"Error";return new Gn(D,`${this.serviceName}: ${q} (${D}).`,V)}}const Gt=/\{\$([^}]+)}/g;function At(W){return JSON.parse(W)}function In(W){return JSON.stringify(W)}const rr=function(W){let $={},N={},V={},D="";try{const H=W.split(".");$=At(_e(H[0])||""),N=At(_e(H[1])||""),D=H[2],V=N.d||{},delete N.d}catch{}return{header:$,claims:N,data:V,signature:D}},ri=function(W){const N=rr(W).claims;return!!N&&"object"==typeof N&&N.hasOwnProperty("iat")},$i=function(W){const $=rr(W).claims;return"object"==typeof $&&!0===$.admin};function Zn(W,$){return Object.prototype.hasOwnProperty.call(W,$)}function Wn(W,$){if(Object.prototype.hasOwnProperty.call(W,$))return W[$]}function Ei(W){for(const $ in W)if(Object.prototype.hasOwnProperty.call(W,$))return!1;return!0}function sr(W,$,N){const V={};for(const D in W)Object.prototype.hasOwnProperty.call(W,D)&&(V[D]=$.call(N,W[D],D,W));return V}function it(W,$){if(W===$)return!0;const N=Object.keys(W),V=Object.keys($);for(const D of N){if(!V.includes(D))return!1;const H=W[D],q=$[D];if(Sn(H)&&Sn(q)){if(!it(H,q))return!1}else if(H!==q)return!1}for(const D of V)if(!N.includes(D))return!1;return!0}function Sn(W){return null!==W&&"object"==typeof W}function wn(W){const $=[];for(const[N,V]of Object.entries(W))Array.isArray(V)?V.forEach(D=>{$.push(encodeURIComponent(N)+"="+encodeURIComponent(D))}):$.push(encodeURIComponent(N)+"="+encodeURIComponent(V));return $.length?"&"+$.join("&"):""}function di(W){const $={};return W.replace(/^\?/,"").split("&").forEach(V=>{if(V){const[D,H]=V.split("=");$[decodeURIComponent(D)]=decodeURIComponent(H)}}),$}function Ri(W){const $=W.indexOf("?");if(!$)return"";const N=W.indexOf("#",$);return W.substring($,N>0?N:void 0)}class En{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let $=1;$<this.blockSize;++$)this.pad_[$]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_($,N){N||(N=0);const V=this.W_;if("string"==typeof $)for(let Te=0;Te<16;Te++)V[Te]=$.charCodeAt(N)<<24|$.charCodeAt(N+1)<<16|$.charCodeAt(N+2)<<8|$.charCodeAt(N+3),N+=4;else for(let Te=0;Te<16;Te++)V[Te]=$[N]<<24|$[N+1]<<16|$[N+2]<<8|$[N+3],N+=4;for(let Te=16;Te<80;Te++){const ft=V[Te-3]^V[Te-8]^V[Te-14]^V[Te-16];V[Te]=4294967295&(ft<<1|ft>>>31)}let We,ve,D=this.chain_[0],H=this.chain_[1],q=this.chain_[2],ue=this.chain_[3],Oe=this.chain_[4];for(let Te=0;Te<80;Te++){Te<40?Te<20?(We=ue^H&(q^ue),ve=1518500249):(We=H^q^ue,ve=1859775393):Te<60?(We=H&q|ue&(H|q),ve=2400959708):(We=H^q^ue,ve=3395469782);const ft=(D<<5|D>>>27)+We+Oe+ve+V[Te]&4294967295;Oe=ue,ue=q,q=4294967295&(H<<30|H>>>2),H=D,D=ft}this.chain_[0]=this.chain_[0]+D&4294967295,this.chain_[1]=this.chain_[1]+H&4294967295,this.chain_[2]=this.chain_[2]+q&4294967295,this.chain_[3]=this.chain_[3]+ue&4294967295,this.chain_[4]=this.chain_[4]+Oe&4294967295}update($,N){if(null==$)return;void 0===N&&(N=$.length);const V=N-this.blockSize;let D=0;const H=this.buf_;let q=this.inbuf_;for(;D<N;){if(0===q)for(;D<=V;)this.compress_($,D),D+=this.blockSize;if("string"==typeof $){for(;D<N;)if(H[q]=$.charCodeAt(D),++q,++D,q===this.blockSize){this.compress_(H),q=0;break}}else for(;D<N;)if(H[q]=$[D],++q,++D,q===this.blockSize){this.compress_(H),q=0;break}}this.inbuf_=q,this.total_+=N}digest(){const $=[];let N=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let D=this.blockSize-1;D>=56;D--)this.buf_[D]=255&N,N/=256;this.compress_(this.buf_);let V=0;for(let D=0;D<5;D++)for(let H=24;H>=0;H-=8)$[V]=this.chain_[D]>>H&255,++V;return $}}function Tn(W,$){const N=new un(W,$);return N.subscribe.bind(N)}class un{constructor($,N){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=N,this.task.then(()=>{$(this)}).catch(V=>{this.error(V)})}next($){this.forEachObserver(N=>{N.next($)})}error($){this.forEachObserver(N=>{N.error($)}),this.close($)}complete(){this.forEachObserver($=>{$.complete()}),this.close()}subscribe($,N,V){let D;if(void 0===$&&void 0===N&&void 0===V)throw new Error("Missing Observer.");D=function ht(W,$){if("object"!=typeof W||null===W)return!1;for(const N of $)if(N in W&&"function"==typeof W[N])return!0;return!1}($,["next","error","complete"])?$:{next:$,error:N,complete:V},void 0===D.next&&(D.next=gt),void 0===D.error&&(D.error=gt),void 0===D.complete&&(D.complete=gt);const H=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?D.error(this.finalError):D.complete()}catch{}}),this.observers.push(D),H}unsubscribeOne($){void 0===this.observers||void 0===this.observers[$]||(delete this.observers[$],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver($){if(!this.finalized)for(let N=0;N<this.observers.length;N++)this.sendOne(N,$)}sendOne($,N){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[$])try{N(this.observers[$])}catch(V){typeof console<"u"&&console.error&&console.error(V)}})}close($){this.finalized||(this.finalized=!0,void 0!==$&&(this.finalError=$),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gt(){}const Dn=function(W,$,N,V){let D;if(V<$?D="at least "+$:V>N&&(D=0===N?"none":"no more than "+N),D)throw new Error(W+" failed: Was called with "+V+(1===V?" argument.":" arguments.")+" Expects "+D+".")};function Qn(W,$){return`${W} failed: ${$} argument `}function Vt(W,$,N,V){if((!V||N)&&"function"!=typeof N)throw new Error(Qn(W,$)+"must be a valid function.")}function _i(W,$,N,V){if((!V||N)&&("object"!=typeof N||null===N))throw new Error(Qn(W,$)+"must be a valid context object.")}const Rt=function(W){const $=[];let N=0;for(let V=0;V<W.length;V++){let D=W.charCodeAt(V);if(D>=55296&&D<=56319){const H=D-55296;V++,G(V<W.length,"Surrogate pair missing trail surrogate."),D=65536+(H<<10)+(W.charCodeAt(V)-56320)}D<128?$[N++]=D:D<2048?($[N++]=D>>6|192,$[N++]=63&D|128):D<65536?($[N++]=D>>12|224,$[N++]=D>>6&63|128,$[N++]=63&D|128):($[N++]=D>>18|240,$[N++]=D>>12&63|128,$[N++]=D>>6&63|128,$[N++]=63&D|128)}return $},yi=function(W){let $=0;for(let N=0;N<W.length;N++){const V=W.charCodeAt(N);V<128?$++:V<2048?$+=2:V>=55296&&V<=56319?($+=4,N++):$+=3}return $};function st(W,$=1e3,N=2){const V=$*Math.pow(N,W),D=Math.round(.5*V*(Math.random()-.5)*2);return Math.min(144e5,V+D)}function Qt(W){return W&&W._delegate?W._delegate:W}},1378:(pt,He,R)=>{var c=R(4650);let G=null;function P(){return G}const re=new c.OlP("DocumentToken");let me=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function _e(){return(0,c.LFG)(Y)}()},providedIn:"platform"}),n})();const K=new c.OlP("Location Initialized");let Y=(()=>{class n extends me{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return P().getBaseHref(this._doc)}onPopState(t){const i=P().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=P().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,i,r){J()?this._history.pushState(t,i,r):this.location.hash=r}replaceState(t,i,r){J()?this._history.replaceState(t,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(re))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Re(){return new Y((0,c.LFG)(re))}()},providedIn:"platform"}),n})();function J(){return!!window.history.pushState}function Ae(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function De(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function tt(n){return n&&"?"!==n[0]?"?"+n:n}let Me=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(lt)},providedIn:"root"}),n})();const de=new c.OlP("appBaseHref");let lt=(()=>{class n extends Me{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,c.f3M)(re).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ae(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+tt(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,s){const l=this.prepareExternalUrl(r+tt(s));this._platformLocation.pushState(t,i,l)}replaceState(t,i,r,s){const l=this.prepareExternalUrl(r+tt(s));this._platformLocation.replaceState(t,i,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(me),c.LFG(de,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),et=(()=>{class n extends Me{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=Ae(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,s){let l=this.prepareExternalUrl(r+tt(s));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(t,i,l)}replaceState(t,i,r,s){let l=this.prepareExternalUrl(r+tt(s));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(me),c.LFG(de,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Pe=(()=>{class n{constructor(t){this._subject=new c.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._baseHref=De(Xe(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+tt(i))}normalize(t){return n.stripTrailingSlash(function Ee(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Xe(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+tt(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+tt(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=tt,n.joinWithSlash=Ae,n.stripTrailingSlash=De,n.\u0275fac=function(t){return new(t||n)(c.LFG(Me))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Ne(){return new Pe((0,c.LFG)(Me))}()},providedIn:"root"}),n})();function Xe(n){return n.replace(/\/index.html$/,"")}var ee=(()=>((ee=ee||{})[ee.Format=0]="Format",ee[ee.Standalone=1]="Standalone",ee))(),te=(()=>((te=te||{})[te.Narrow=0]="Narrow",te[te.Abbreviated=1]="Abbreviated",te[te.Wide=2]="Wide",te[te.Short=3]="Short",te))(),he=(()=>((he=he||{})[he.Short=0]="Short",he[he.Medium=1]="Medium",he[he.Long=2]="Long",he[he.Full=3]="Full",he))(),ce=(()=>((ce=ce||{})[ce.Decimal=0]="Decimal",ce[ce.Group=1]="Group",ce[ce.List=2]="List",ce[ce.PercentSign=3]="PercentSign",ce[ce.PlusSign=4]="PlusSign",ce[ce.MinusSign=5]="MinusSign",ce[ce.Exponential=6]="Exponential",ce[ce.SuperscriptingExponent=7]="SuperscriptingExponent",ce[ce.PerMille=8]="PerMille",ce[ce.Infinity=9]="Infinity",ce[ce.NaN=10]="NaN",ce[ce.TimeSeparator=11]="TimeSeparator",ce[ce.CurrencyDecimal=12]="CurrencyDecimal",ce[ce.CurrencyGroup=13]="CurrencyGroup",ce))();function gn(n,e){return it((0,c.cg1)(n)[c.wAp.DateFormat],e)}function cn(n,e){return it((0,c.cg1)(n)[c.wAp.TimeFormat],e)}function Gt(n,e){return it((0,c.cg1)(n)[c.wAp.DateTimeFormat],e)}function At(n,e){const t=(0,c.cg1)(n),i=t[c.wAp.NumberSymbols][e];if(typeof i>"u"){if(e===ce.CurrencyDecimal)return t[c.wAp.NumberSymbols][ce.Decimal];if(e===ce.CurrencyGroup)return t[c.wAp.NumberSymbols][ce.Group]}return i}function Zn(n){if(!n[c.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[c.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function it(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function Sn(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const Ri=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,En={},Tn=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var un=(()=>((un=un||{})[un.Short=0]="Short",un[un.ShortGMT=1]="ShortGMT",un[un.Long=2]="Long",un[un.Extended=3]="Extended",un))(),mt=(()=>((mt=mt||{})[mt.FullYear=0]="FullYear",mt[mt.Month=1]="Month",mt[mt.Date=2]="Date",mt[mt.Hours=3]="Hours",mt[mt.Minutes=4]="Minutes",mt[mt.Seconds=5]="Seconds",mt[mt.FractionalSeconds=6]="FractionalSeconds",mt[mt.Day=7]="Day",mt))(),ht=(()=>((ht=ht||{})[ht.DayPeriods=0]="DayPeriods",ht[ht.Days=1]="Days",ht[ht.Months=2]="Months",ht[ht.Eras=3]="Eras",ht))();function gt(n,e,t,i){let r=function H(n){if(ue(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,s=1,l=1]=n.split("-").map(d=>+d);return Dn(r,s-1,l)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let i;if(i=n.match(Ri))return function q(n){const e=new Date(0);let t=0,i=0;const r=n[8]?e.setUTCFullYear:e.setFullYear,s=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const l=Number(n[4]||0)-t,d=Number(n[5]||0)-i,p=Number(n[6]||0),v=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(e,l,d,p,v),e}(i)}const e=new Date(n);if(!ue(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=Qn(t,e)||e;let d,l=[];for(;e;){if(d=Tn.exec(e),!d){l.push(e);break}{l=l.concat(d.slice(1));const C=l.pop();if(!C)break;e=C}}let p=r.getTimezoneOffset();i&&(p=N(i,p),r=function D(n,e,t){const i=t?-1:1,r=n.getTimezoneOffset();return function V(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,i*(N(e,r)-r))}(r,i,!0));let v="";return l.forEach(C=>{const w=function $(n){if(W[n])return W[n];let e;switch(n){case"G":case"GG":case"GGG":e=Zt(ht.Eras,te.Abbreviated);break;case"GGGG":e=Zt(ht.Eras,te.Wide);break;case"GGGGG":e=Zt(ht.Eras,te.Narrow);break;case"y":e=Rt(mt.FullYear,1,0,!1,!0);break;case"yy":e=Rt(mt.FullYear,2,0,!0,!0);break;case"yyy":e=Rt(mt.FullYear,3,0,!1,!0);break;case"yyyy":e=Rt(mt.FullYear,4,0,!1,!0);break;case"Y":e=Qt(1);break;case"YY":e=Qt(2,!0);break;case"YYY":e=Qt(3);break;case"YYYY":e=Qt(4);break;case"M":case"L":e=Rt(mt.Month,1,1);break;case"MM":case"LL":e=Rt(mt.Month,2,1);break;case"MMM":e=Zt(ht.Months,te.Abbreviated);break;case"MMMM":e=Zt(ht.Months,te.Wide);break;case"MMMMM":e=Zt(ht.Months,te.Narrow);break;case"LLL":e=Zt(ht.Months,te.Abbreviated,ee.Standalone);break;case"LLLL":e=Zt(ht.Months,te.Wide,ee.Standalone);break;case"LLLLL":e=Zt(ht.Months,te.Narrow,ee.Standalone);break;case"w":e=It(1);break;case"ww":e=It(2);break;case"W":e=It(1,!0);break;case"d":e=Rt(mt.Date,1);break;case"dd":e=Rt(mt.Date,2);break;case"c":case"cc":e=Rt(mt.Day,1);break;case"ccc":e=Zt(ht.Days,te.Abbreviated,ee.Standalone);break;case"cccc":e=Zt(ht.Days,te.Wide,ee.Standalone);break;case"ccccc":e=Zt(ht.Days,te.Narrow,ee.Standalone);break;case"cccccc":e=Zt(ht.Days,te.Short,ee.Standalone);break;case"E":case"EE":case"EEE":e=Zt(ht.Days,te.Abbreviated);break;case"EEEE":e=Zt(ht.Days,te.Wide);break;case"EEEEE":e=Zt(ht.Days,te.Narrow);break;case"EEEEEE":e=Zt(ht.Days,te.Short);break;case"a":case"aa":case"aaa":e=Zt(ht.DayPeriods,te.Abbreviated);break;case"aaaa":e=Zt(ht.DayPeriods,te.Wide);break;case"aaaaa":e=Zt(ht.DayPeriods,te.Narrow);break;case"b":case"bb":case"bbb":e=Zt(ht.DayPeriods,te.Abbreviated,ee.Standalone,!0);break;case"bbbb":e=Zt(ht.DayPeriods,te.Wide,ee.Standalone,!0);break;case"bbbbb":e=Zt(ht.DayPeriods,te.Narrow,ee.Standalone,!0);break;case"B":case"BB":case"BBB":e=Zt(ht.DayPeriods,te.Abbreviated,ee.Format,!0);break;case"BBBB":e=Zt(ht.DayPeriods,te.Wide,ee.Format,!0);break;case"BBBBB":e=Zt(ht.DayPeriods,te.Narrow,ee.Format,!0);break;case"h":e=Rt(mt.Hours,1,-12);break;case"hh":e=Rt(mt.Hours,2,-12);break;case"H":e=Rt(mt.Hours,1);break;case"HH":e=Rt(mt.Hours,2);break;case"m":e=Rt(mt.Minutes,1);break;case"mm":e=Rt(mt.Minutes,2);break;case"s":e=Rt(mt.Seconds,1);break;case"ss":e=Rt(mt.Seconds,2);break;case"S":e=Rt(mt.FractionalSeconds,1);break;case"SS":e=Rt(mt.FractionalSeconds,2);break;case"SSS":e=Rt(mt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=zn(un.Short);break;case"ZZZZZ":e=zn(un.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=zn(un.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=zn(un.Long);break;default:return null}return W[n]=e,e}(C);v+=w?w(r,t,p):"''"===C?"'":C.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),v}function Dn(n,e,t){const i=new Date(0);return i.setFullYear(n,e,t),i.setHours(0,0,0),i}function Qn(n,e){const t=function Be(n){return(0,c.cg1)(n)[c.wAp.LocaleId]}(n);if(En[t]=En[t]||{},En[t][e])return En[t][e];let i="";switch(e){case"shortDate":i=gn(n,he.Short);break;case"mediumDate":i=gn(n,he.Medium);break;case"longDate":i=gn(n,he.Long);break;case"fullDate":i=gn(n,he.Full);break;case"shortTime":i=cn(n,he.Short);break;case"mediumTime":i=cn(n,he.Medium);break;case"longTime":i=cn(n,he.Long);break;case"fullTime":i=cn(n,he.Full);break;case"short":const r=Qn(n,"shortTime"),s=Qn(n,"shortDate");i=fi(Gt(n,he.Short),[r,s]);break;case"medium":const l=Qn(n,"mediumTime"),d=Qn(n,"mediumDate");i=fi(Gt(n,he.Medium),[l,d]);break;case"long":const p=Qn(n,"longTime"),v=Qn(n,"longDate");i=fi(Gt(n,he.Long),[p,v]);break;case"full":const C=Qn(n,"fullTime"),w=Qn(n,"fullDate");i=fi(Gt(n,he.Full),[C,w])}return i&&(En[t][e]=i),i}function fi(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,i){return null!=e&&i in e?e[i]:t})),n}function Vt(n,e,t="-",i,r){let s="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,s=t));let l=String(n);for(;l.length<e;)l="0"+l;return i&&(l=l.slice(l.length-e)),s+l}function Rt(n,e,t=0,i=!1,r=!1){return function(s,l){let d=function yi(n,e){switch(n){case mt.FullYear:return e.getFullYear();case mt.Month:return e.getMonth();case mt.Date:return e.getDate();case mt.Hours:return e.getHours();case mt.Minutes:return e.getMinutes();case mt.Seconds:return e.getSeconds();case mt.FractionalSeconds:return e.getMilliseconds();case mt.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((t>0||d>-t)&&(d+=t),n===mt.Hours)0===d&&-12===t&&(d=12);else if(n===mt.FractionalSeconds)return function _i(n,e){return Vt(n,3).substring(0,e)}(d,e);const p=At(l,ce.MinusSign);return Vt(d,e,p,i,r)}}function Zt(n,e,t=ee.Format,i=!1){return function(r,s){return function Xn(n,e,t,i,r,s){switch(t){case ht.Months:return function Ft(n,e,t){const i=(0,c.cg1)(n),s=it([i[c.wAp.MonthsFormat],i[c.wAp.MonthsStandalone]],e);return it(s,t)}(e,r,i)[n.getMonth()];case ht.Days:return function an(n,e,t){const i=(0,c.cg1)(n),s=it([i[c.wAp.DaysFormat],i[c.wAp.DaysStandalone]],e);return it(s,t)}(e,r,i)[n.getDay()];case ht.DayPeriods:const l=n.getHours(),d=n.getMinutes();if(s){const v=function Wn(n){const e=(0,c.cg1)(n);return Zn(e),(e[c.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?Sn(i):[Sn(i[0]),Sn(i[1])])}(e),C=function Ei(n,e,t){const i=(0,c.cg1)(n);Zn(i);const s=it([i[c.wAp.ExtraData][0],i[c.wAp.ExtraData][1]],e)||[];return it(s,t)||[]}(e,r,i),w=v.findIndex(A=>{if(Array.isArray(A)){const[I,k]=A,j=l>=I.hours&&d>=I.minutes,X=l<k.hours||l===k.hours&&d<k.minutes;if(I.hours<k.hours){if(j&&X)return!0}else if(j||X)return!0}else if(A.hours===l&&A.minutes===d)return!0;return!1});if(-1!==w)return C[w]}return function _t(n,e,t){const i=(0,c.cg1)(n),s=it([i[c.wAp.DayPeriodsFormat],i[c.wAp.DayPeriodsStandalone]],e);return it(s,t)}(e,r,i)[l<12?0:1];case ht.Eras:return function Qe(n,e){return it((0,c.cg1)(n)[c.wAp.Eras],e)}(e,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(r,s,n,e,t,i)}}function zn(n){return function(e,t,i){const r=-1*i,s=At(t,ce.MinusSign),l=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case un.Short:return(r>=0?"+":"")+Vt(l,2,s)+Vt(Math.abs(r%60),2,s);case un.ShortGMT:return"GMT"+(r>=0?"+":"")+Vt(l,1,s);case un.Long:return"GMT"+(r>=0?"+":"")+Vt(l,2,s)+":"+Vt(Math.abs(r%60),2,s);case un.Extended:return 0===i?"Z":(r>=0?"+":"")+Vt(l,2,s)+":"+Vt(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}function wt(n){return Dn(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function It(n,e=!1){return function(t,i){let r;if(e){const s=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,l=t.getDate();r=1+Math.floor((l+s)/7)}else{const s=wt(t),l=function st(n){const e=Dn(n,0,1).getDay();return Dn(n,0,1+(e<=4?4:11)-e)}(s.getFullYear()),d=s.getTime()-l.getTime();r=1+Math.round(d/6048e5)}return Vt(r,n,At(i,ce.MinusSign))}}function Qt(n,e=!1){return function(t,i){return Vt(wt(t).getFullYear(),n,At(i,ce.MinusSign),e)}}const W={};function N(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function ue(n){return n instanceof Date&&!isNaN(n.valueOf())}let _n=(()=>{class n{constructor(t,i,r,s){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,c.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,c.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),t.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!0)):Object.keys(t).forEach(i=>this._toggleClass(i,!!t[i])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!1)):Object.keys(t).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(t,i){(t=t.trim())&&t.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.SBq),c.Y36(c.Qsj))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class m2{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let cs=(()=>{class n{constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,s,l)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new m2(r.item,this._ngForOf,-1,-1),null===l?void 0:l);else if(null==l)i.remove(null===s?void 0:s);else if(null!==s){const d=i.get(s);i.move(d,l),js(d,r)}});for(let r=0,s=i.length;r<s;r++){const d=i.get(r).context;d.index=r,d.count=s,d.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{js(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function js(n,e){n.context.$implicit=e.item}let Bn=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new oa,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Pi("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Pi("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class oa{constructor(){this.$implicit=null,this.ngIf=null}}function Pi(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,c.AaK)(e)}'.`)}class cr{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let xs=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const i=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),g2=(()=>{class n{constructor(t,i,r){this.ngSwitch=r,r._addCase(),this._view=new cr(t,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(xs,9))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),Ss=(()=>{class n{constructor(t,i,r){this._ngEl=t,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,i){const[r,s]=t.split("."),l=-1===r.indexOf("-")?void 0:c.JOm.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,s?`${i}${s}`:i,l):this._renderer.removeStyle(this._ngEl.nativeElement,r,l)}_applyChanges(t){t.forEachRemovedItem(i=>this._setStyle(i.key,null)),t.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),t.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.aQg),c.Y36(c.Qsj))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})();function Nr(n,e){return new c.vHH(2100,!1)}class j0{createSubscription(e,t){return e.subscribe({next:t,error:i=>{throw i}})}dispose(e){e.unsubscribe()}}class Es{createSubscription(e,t){return e.then(t,i=>{throw i})}dispose(e){}}const G3=new Es,ho=new j0;let j3=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,i=>this._updateLatestValue(t,i))}_selectStrategy(t){if((0,c.QGY)(t))return G3;if((0,c.F4k)(t))return ho;throw Nr()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,i){t===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.sBO,16))},n.\u0275pipe=c.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})();const $0=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let Ic=(()=>{class n{transform(t){if(null==t)return null;if("string"!=typeof t)throw Nr();return t.replace($0,i=>i[0].toUpperCase()+i.slice(1).toLowerCase())}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=c.Yjl({name:"titlecase",type:n,pure:!0,standalone:!0}),n})();const Tc=new c.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let Vc=(()=>{class n{constructor(t,i){this.locale=t,this.defaultTimezone=i}transform(t,i="mediumDate",r,s){if(null==t||""===t||t!=t)return null;try{return gt(t,i,s||this.locale,r??this.defaultTimezone??void 0)}catch(l){throw Nr()}}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.soG,16),c.Y36(Tc,24))},n.\u0275pipe=c.Yjl({name:"date",type:n,pure:!0,standalone:!0}),n})(),Y2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const As="browser";function si(n){return n===As}function Kr(n){return"server"===n}let Rc=(()=>{class n{}return n.\u0275prov=(0,c.Yz7)({token:n,providedIn:"root",factory:()=>new K2((0,c.LFG)(re),window)}),n})();class K2{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function vr(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const l=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(l)return l}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Z2(this.window.history)||Z2(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Z2(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class _o extends class Y0 extends class ye{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ge(n){G||(G=n)}(new _o)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Vf(){return D1=D1||document.querySelector("base"),D1?D1.getAttribute("href"):null}();return null==t?null:function b2(n){ci=ci||document.createElement("a"),ci.setAttribute("href",n);const e=ci.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){D1=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function ar(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,s]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let ci,D1=null;const li=new c.OlP("TRANSITION_ID"),Hf=[{provide:c.ip1,useFactory:function K0(n,e,t){return()=>{t.get(c.CZH).donePromise.then(()=>{const i=P(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[li,re,c.zs3],multi:!0}];let kf=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const X3=new c.OlP("EventManagerPlugins");let Uc=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const l=r[s];if(l.supports(t))return this._eventNameToPlugin.set(t,l),l}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(X3),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class ha{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=P().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let Gc=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),L1=(()=>{class n extends Gc{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,r){t.forEach(s=>{const l=this._doc.createElement("style");l.textContent=s,r.push(i.appendChild(l))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(J3),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(t,r,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(J3))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(re))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function J3(n){P().remove(n)}const el={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Z0=/%COMP%/g;function jc(n,e,t){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?jc(n,r,t):(r=r.replace(Z0,n),t.push(r))}return t}function $c(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let il=(()=>{class n{constructor(t,i,r){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new w2(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case c.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new Q0(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(t),r}case 1:case c.ifc.ShadowDom:return new Pf(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const r=jc(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Uc),c.LFG(L1),c.LFG(c.AFp))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class w2{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(el[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(ma(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(ma(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const s=el[r];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=el[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(c.JOm.DashCase|c.JOm.Important)?e.style.setProperty(t,i,r&c.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&c.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,$c(i)):this.eventManager.addEventListener(e,t,$c(i))}}function ma(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Q0 extends w2{constructor(e,t,i,r){super(e),this.component=i;const s=jc(r+"-"+i.id,i.styles,[]);t.addStyles(s),this.contentAttr=function pa(n){return"_ngcontent-%COMP%".replace(Z0,n)}(r+"-"+i.id),this.hostAttr=function nl(n){return"_nghost-%COMP%".replace(Z0,n)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class Pf extends w2{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=jc(r.id,r.styles,[]);for(let l=0;l<s.length;l++){const d=document.createElement("style");d.textContent=s[l],this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let I1=(()=>{class n extends ha{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(re))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Ff=["alt","control","meta","shift"],J2={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ol={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let qc=(()=>{class n extends ha{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const s=n.parseEventName(i),l=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>P().onAndCancel(t,s.domEventName,l))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let l="",d=i.indexOf("code");if(d>-1&&(i.splice(d,1),l="code."),Ff.forEach(v=>{const C=i.indexOf(v);C>-1&&(i.splice(C,1),l+=v+".")}),l+=s,0!=i.length||0===s.length)return null;const p={};return p.domEventName=r,p.fullKey=l,p}static matchEventFullKeyCode(t,i){let r=J2[t.key]||t.key,s="";return i.indexOf("code.")>-1&&(r=t.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Ff.forEach(l=>{l!==r&&(0,ol[l])(t)&&(s+=l+".")}),s+=r,s===i)}static eventCallback(t,i,r){return s=>{n.matchEventFullKeyCode(s,t)&&r.runGuarded(()=>i(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(re))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const ga=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:As},{provide:c.g9A,useValue:function Bf(){_o.makeCurrent()},multi:!0},{provide:re,useFactory:function al(){return(0,c.RDi)(document),document},deps:[]}]),va=new c.OlP(""),_a=[{provide:c.rWj,useClass:class zf{addToWindow(e){c.dqk.getAngularTestability=(i,r=!0)=>{const s=e.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},c.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(i=>{const r=c.dqk.getAllAngularTestabilities();let s=r.length,l=!1;const d=function(p){l=l||p,s--,0==s&&i(l)};r.forEach(function(p){p.whenStable(d)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?P().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:c.lri,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]}],Yc=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function T1(){return new c.qLn},deps:[]},{provide:X3,useClass:I1,multi:!0,deps:[re,c.R0b,c.Lbi]},{provide:X3,useClass:qc,multi:!0,deps:[re]},{provide:il,useClass:il,deps:[Uc,L1,c.AFp]},{provide:c.FYo,useExisting:il},{provide:Gc,useExisting:L1},{provide:L1,useClass:L1,deps:[re]},{provide:Uc,useClass:Uc,deps:[X3,c.R0b]},{provide:class Zr{},useClass:kf,deps:[]},[]];let V1=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:c.AFp,useValue:t.appId},{provide:li,useExisting:c.AFp},Hf]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(va,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[...Yc,..._a],imports:[Y2,c.hGG]}),n})(),x2=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(re))},n.\u0275prov=c.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function ya(){return new x2((0,c.LFG)(re))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let t1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(t){let i=null;return i=t?new(t||n):c.LFG($f),i},providedIn:"root"}),n})(),$f=(()=>{class n extends t1{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case c.q3G.NONE:return i;case c.q3G.HTML:return(0,c.qzn)(i,"HTML")?(0,c.z3N)(i):(0,c.EiD)(this._doc,String(i)).toString();case c.q3G.STYLE:return(0,c.qzn)(i,"Style")?(0,c.z3N)(i):i;case c.q3G.SCRIPT:if((0,c.qzn)(i,"Script"))return(0,c.z3N)(i);throw new Error("unsafe value used in a script context");case c.q3G.URL:return(0,c.qzn)(i,"URL")?(0,c.z3N)(i):(0,c.mCW)(String(i));case c.q3G.RESOURCE_URL:if((0,c.qzn)(i,"ResourceURL"))return(0,c.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,c.JVY)(t)}bypassSecurityTrustStyle(t){return(0,c.L6k)(t)}bypassSecurityTrustScript(t){return(0,c.eBb)(t)}bypassSecurityTrustUrl(t){return(0,c.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,c.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(re))},n.\u0275prov=c.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function tm(n){return new $f(n.get(re))}(c.LFG(c.zs3)),i},providedIn:"root"}),n})();class Mo{}const Zs="*";function xa(n,e){return{type:7,name:n,definitions:e,options:{}}}function hi(n,e=null){return{type:4,styles:e,timings:n}}function Qs(n,e=null){return{type:3,steps:n,options:e}}function Sa(n,e=null){return{type:2,steps:n,options:e}}function Yn(n){return{type:6,styles:n,offset:null}}function Xr(n,e,t){return{type:0,name:n,styles:e,options:t}}function Xs(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function z1(n=null){return{type:9,options:n}}function ll(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}function e4(n){Promise.resolve().then(n)}class fs{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){e4(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class ou{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const s=this.players.length;0==s?e4(()=>this._onFinish()):this.players.forEach(l=>{l.onDone(()=>{++t==s&&this._onFinish()}),l.onDestroy(()=>{++i==s&&this._onDestroy()}),l.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((l,d)=>Math.max(l,d.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}function n4(n){return new c.vHH(3e3,!1)}function F1(){return typeof window<"u"&&typeof window.document<"u"}function S2(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function n1(n){switch(n.length){case 0:return new fs;case 1:return n[0];default:return new ou(n)}}function e5(n,e,t,i,r=new Map,s=new Map){const l=[],d=[];let p=-1,v=null;if(i.forEach(C=>{const w=C.get("offset"),A=w==p,I=A&&v||new Map;C.forEach((k,j)=>{let X=j,xe=k;if("offset"!==j)switch(X=e.normalizePropertyName(X,l),xe){case"!":xe=r.get(j);break;case Zs:xe=s.get(j);break;default:xe=e.normalizeStyleValue(j,X,xe,l)}I.set(X,xe)}),A||d.push(I),v=I,p=w}),l.length)throw function Xf(n){return new c.vHH(3502,!1)}();return d}function c4(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&Ia(t,"start",n)));break;case"done":n.onDone(()=>i(t&&Ia(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&Ia(t,"destroy",n)))}}function Ia(n,e,t){const s=fu(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),l=n._data;return null!=l&&(s._data=l),s}function fu(n,e,t,i,r="",s=0,l){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:s,disabled:!!l}}function Jr(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function _l(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let yl=(n,e)=>!1,r1=(n,e,t)=>[],Cl=null;function Ml(n){const e=n.parentNode||n.host;return e===Cl?null:e}(S2()||typeof Element<"u")&&(F1()?(Cl=(()=>document.documentElement)(),yl=(n,e)=>{for(;e;){if(e===n)return!0;e=Ml(e)}return!1}):yl=(n,e)=>n.contains(e),r1=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let s1=null,n5=!1;const Ta=yl,u4=r1;let hu=(()=>{class n{validateStyleProperty(t){return function bl(n){s1||(s1=function l4(){return typeof document<"u"?document.body:null}()||{},n5=!!s1.style&&"WebkitAppearance"in s1.style);let e=!0;return s1.style&&!function rm(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in s1.style,!e&&n5&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in s1.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return Ta(t,i)}getParentElement(t){return Ml(t)}query(t,i,r){return u4(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,s,l,d=[],p){return new fs(r,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),wl=(()=>{class n{}return n.NOOP=new hu,n})();const d4="ng-enter",za="ng-leave",O1="ng-trigger",Js=".ng-trigger",f4="ng-animating",Sl=".ng-animating";function e2(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:El(parseFloat(e[1]),e[2])}function El(n,e){return"s"===e?1e3*n:n}function xo(n,e,t){return n.hasOwnProperty("duration")?n:function E2(n,e,t){let r,s=0,l="";if("string"==typeof n){const d=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===d)return e.push(n4()),{duration:0,delay:0,easing:""};r=El(parseFloat(d[1]),d[2]);const p=d[3];null!=p&&(s=El(parseFloat(p),d[4]));const v=d[5];v&&(l=v)}else r=n;if(!t){let d=!1,p=e.length;r<0&&(e.push(function Wf(){return new c.vHH(3100,!1)}()),d=!0),s<0&&(e.push(function ul(){return new c.vHH(3101,!1)}()),d=!0),d&&e.splice(p,0,n4())}return{duration:r,delay:s,easing:l}}(n,e,t)}function Ts(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Al(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function o1(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function mu(n,e,t){return t?e+":"+t+";":""}function gu(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=mu(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=mu(0,ze(t),n.style[t]));n.setAttribute("style",e)}function hs(n,e,t){n.style&&(e.forEach((i,r)=>{const s=oe(r);t&&!t.has(r)&&t.set(r,n.style[s]),n.style[s]=i}),S2()&&gu(n))}function B1(n,e){n.style&&(e.forEach((t,i)=>{const r=oe(i);n.style[r]=""}),S2()&&gu(n))}function h4(n){return Array.isArray(n)?1==n.length?n[0]:Sa(n):n}const g=new RegExp("{{\\s*(.+?)\\s*}}","g");function _(n){let e=[];if("string"==typeof n){let t;for(;t=g.exec(n);)e.push(t[1]);g.lastIndex=0}return e}function x(n,e,t){const i=n.toString(),r=i.replace(g,(s,l)=>{let d=e[l];return null==d&&(t.push(function dl(n){return new c.vHH(3003,!1)}()),d=""),d.toString()});return r==i?n:r}function L(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const F=/-+([a-z0-9])/g;function oe(n){return n.replace(F,(...e)=>e[1].toUpperCase())}function ze(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ot(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function Ea(n){return new c.vHH(3004,!1)}()}}function Un(n,e){return window.getComputedStyle(n)[e]}function Tl(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function ka(n,e,t){if(":"==n[0]){const p=function p4(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function cu(n){return new c.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof p)return void e.push(p);n=p}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function s4(n){return new c.vHH(3015,!1)}()),e;const r=i[1],s=i[2],l=i[3];e.push(ei(r,l));"<"==s[0]&&!("*"==r&&"*"==l)&&e.push(ei(l,r))}(i,t,e)):t.push(n),t}const U1=new Set(["true","1"]),m4=new Set(["false","0"]);function ei(n,e){const t=U1.has(n)||m4.has(n),i=U1.has(e)||m4.has(e);return(r,s)=>{let l="*"==n||n==r,d="*"==e||e==s;return!l&&t&&"boolean"==typeof r&&(l=r?U1.has(n):m4.has(n)),!d&&i&&"boolean"==typeof s&&(d=s?U1.has(e):m4.has(e)),l&&d}}const TM=new RegExp("s*:selfs*,?","g");function Hl(n,e,t,i){return new VM(n).build(e,t,i)}class VM{constructor(e){this._driver=e}build(e,t,i){const r=new kM(t);return this._resetContextStyleTimingState(r),Ot(this,h4(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const s=[],l=[];return"@"==e.name.charAt(0)&&t.errors.push(function r4(){return new c.vHH(3006,!1)}()),e.definitions.forEach(d=>{if(this._resetContextStyleTimingState(t),0==d.type){const p=d,v=p.name;v.toString().split(/\s*,\s*/).forEach(C=>{p.name=C,s.push(this.visitState(p,t))}),p.name=v}else if(1==d.type){const p=this.visitTransition(d,t);i+=p.queryCount,r+=p.depCount,l.push(p)}else t.errors.push(function Aa(){return new c.vHH(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:l,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const s=new Set,l=r||{};i.styles.forEach(d=>{d instanceof Map&&d.forEach(p=>{_(p).forEach(v=>{l.hasOwnProperty(v)||s.add(v)})})}),s.size&&(L(s.values()),t.errors.push(function fl(n,e){return new c.vHH(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=Ot(this,h4(e.animation),t);return{type:1,matchers:Tl(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:g4(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>Ot(this,i,t)),options:g4(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const s=e.steps.map(l=>{t.currentTime=i;const d=Ot(this,l,t);return r=Math.max(r,t.currentTime),d});return t.currentTime=r,{type:3,steps:s,options:g4(e.options)}}visitAnimate(e,t){const i=function _T(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return Na(xo(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=Na(0,0,"");return s.dynamic=!0,s.strValue=t,s}const r=xo(t,e);return Na(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,s=e.styles?e.styles:Yn({});if(5==s.type)r=this.visitKeyframes(s,t);else{let l=e.styles,d=!1;if(!l){d=!0;const v={};i.easing&&(v.easing=i.easing),l=Yn(v)}t.currentTime+=i.duration+i.delay;const p=this.visitStyle(l,t);p.isEmptyStep=d,r=p}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let d of r)"string"==typeof d?d===Zs?i.push(d):t.errors.push(new c.vHH(3002,!1)):i.push(Al(d));let s=!1,l=null;return i.forEach(d=>{if(d instanceof Map&&(d.has("easing")&&(l=d.get("easing"),d.delete("easing")),!s))for(let p of d.values())if(p.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:l,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,s=t.currentTime;i&&s>0&&(s-=i.duration+i.delay),e.styles.forEach(l=>{"string"!=typeof l&&l.forEach((d,p)=>{const v=t.collectedStyles.get(t.currentQuerySelector),C=v.get(p);let w=!0;C&&(s!=r&&s>=C.startTime&&r<=C.endTime&&(t.errors.push(function hl(n,e,t,i,r){return new c.vHH(3010,!1)}()),w=!1),s=C.startTime),w&&v.set(p,{startTime:s,endTime:r}),t.options&&function M(n,e,t){const i=e.params||{},r=_(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||t.push(function Yf(n){return new c.vHH(3001,!1)}())})}(d,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function Kf(){return new c.vHH(3011,!1)}()),i;let s=0;const l=[];let d=!1,p=!1,v=0;const C=e.steps.map(xe=>{const ke=this._makeStyleAst(xe,t);let qe=null!=ke.offset?ke.offset:function NM(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(ke.styles),Ze=0;return null!=qe&&(s++,Ze=ke.offset=qe),p=p||Ze<0||Ze>1,d=d||Ze<v,v=Ze,l.push(Ze),ke});p&&t.errors.push(function pl(){return new c.vHH(3012,!1)}()),d&&t.errors.push(function wo(){return new c.vHH(3200,!1)}());const w=e.steps.length;let A=0;s>0&&s<w?t.errors.push(function k1(){return new c.vHH(3202,!1)}()):0==s&&(A=1/(w-1));const I=w-1,k=t.currentTime,j=t.currentAnimateTimings,X=j.duration;return C.forEach((xe,ke)=>{const qe=A>0?ke==I?1:A*ke:l[ke],Ze=qe*X;t.currentTime=k+j.delay+Ze,j.duration=Ze,this._validateStyleAst(xe,t),xe.offset=qe,i.styles.push(xe)}),i}visitReference(e,t){return{type:8,animation:Ot(this,h4(e.animation),t),options:g4(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:g4(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:g4(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[s,l]=function HM(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(TM,"")),n=n.replace(/@\*/g,Js).replace(/@\w+/g,t=>Js+"-"+t.slice(1)).replace(/:animating/g,Sl),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+s:s,Jr(t.collectedStyles,t.currentQuerySelector,new Map);const d=Ot(this,h4(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:l,animation:d,originalSelector:e.selector,options:g4(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function Zf(){return new c.vHH(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:xo(e.timings,t.errors,!0);return{type:12,animation:Ot(this,h4(e.animation),t),timings:i,options:null}}}class kM{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function g4(n){return n?(n=Ts(n)).params&&(n.params=function zM(n){return n?Ts(n):null}(n.params)):n={},n}function Na(n,e,t){return{duration:n,delay:e,easing:t}}function zl(n,e,t,i,r,s,l=null,d=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:l,subTimeline:d}}class kl{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const RM=new RegExp(":enter","g"),lm=new RegExp(":leave","g");function Nl(n,e,t,i,r,s=new Map,l=new Map,d,p,v=[]){return(new yT).buildKeyframes(n,e,t,i,r,s,l,d,p,v)}class yT{buildKeyframes(e,t,i,r,s,l,d,p,v,C=[]){v=v||new kl;const w=new Rl(e,t,v,r,s,C,[]);w.options=p;const A=p.delay?e2(p.delay):0;w.currentTimeline.delayNextStep(A),w.currentTimeline.setStyles([l],null,w.errors,p),Ot(this,i,w);const I=w.timelines.filter(k=>k.containsAnimation());if(I.length&&d.size){let k;for(let j=I.length-1;j>=0;j--){const X=I[j];if(X.element===t){k=X;break}}k&&!k.allowOnlyTimelineStyles()&&k.setStyles([d],null,w.errors,p)}return I.length?I.map(k=>k.buildKeyframes()):[zl(t,[],[],[],0,A,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),s=t.currentTimeline.currentTime,l=this._visitSubInstructions(i,r,r.options);s!=l&&t.transformIntoNewTimeline(l)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const s=r?.delay;if(s){const l="number"==typeof s?s:e2(x(s,r?.params??{},t.errors));i.delayNextStep(l)}}}_visitSubInstructions(e,t,i){let s=t.currentTimeline.currentTime;const l=null!=i.duration?e2(i.duration):null,d=null!=i.delay?e2(i.delay):null;return 0!==l&&e.forEach(p=>{const v=t.appendInstructionToTimeline(p,l,d);s=Math.max(s,v.duration+v.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),Ot(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const s=e.options;if(s&&(s.params||s.delay)&&(r=t.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=vu);const l=e2(s.delay);r.delayNextStep(l)}e.steps.length&&(e.steps.forEach(l=>Ot(this,l,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?e2(e.options.delay):0;e.steps.forEach(l=>{const d=t.createSubContext(e.options);s&&d.delayNextStep(s),Ot(this,l,d),r=Math.max(r,d.currentTimeline.currentTime),i.push(d.currentTimeline)}),i.forEach(l=>t.currentTimeline.mergeTimelineCollectedStyles(l)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return xo(t.params?x(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(i.duration),this.visitStyle(s,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(s):i.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,s=i.duration,d=t.createSubContext().currentTimeline;d.easing=i.easing,e.styles.forEach(p=>{d.forwardTime((p.offset||0)*s),d.setStyles(p.styles,p.easing,t.errors,t.options),d.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(d),t.transformIntoNewTimeline(r+s),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},s=r.delay?e2(r.delay):0;s&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=vu);let l=i;const d=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=d.length;let p=null;d.forEach((v,C)=>{t.currentQueryIndex=C;const w=t.createSubContext(e.options,v);s&&w.delayNextStep(s),v===t.element&&(p=w.currentTimeline),Ot(this,e.animation,w),w.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,w.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(l),p&&(t.currentTimeline.mergeTimelineCollectedStyles(p),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,s=e.timings,l=Math.abs(s.duration),d=l*(t.currentQueryTotal-1);let p=l*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":p=d-p;break;case"full":p=i.currentStaggerTime}const C=t.currentTimeline;p&&C.delayNextStep(p);const w=C.currentTime;Ot(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-w+(r.startTime-i.currentTimeline.startTime)}}const vu={};class Rl{constructor(e,t,i,r,s,l,d,p){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=l,this.timelines=d,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=vu,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=p||new Pl(this._driver,t,0),d.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=e2(i.duration)),null!=i.delay&&(r.delay=e2(i.delay));const s=i.params;if(s){let l=r.params;l||(l=this.options.params={}),Object.keys(s).forEach(d=>{(!t||!l.hasOwnProperty(d))&&(l[d]=x(s[d],l,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,s=new Rl(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=vu,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},s=new um(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,s,l){let d=[];if(r&&d.push(this.element),e.length>0){e=(e=e.replace(RM,"."+this._enterClassName)).replace(lm,"."+this._leaveClassName);let v=this._driver.query(this.element,e,1!=i);0!==i&&(v=i<0?v.slice(v.length+i,v.length):v.slice(0,i)),d.push(...v)}return!s&&0==d.length&&l.push(function Ai(n){return new c.vHH(3014,!1)}()),d}}class Pl{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Pl(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||Zs),this._currentKeyframe.set(t,Zs);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const s=r&&r.params||{},l=function PM(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let s of i)t.set(s,Zs)}else o1(r,t)}),t}(e,this._globalTimelineStyles);for(let[d,p]of l){const v=x(p,s,i);this._pendingStyles.set(d,v),this._localTimelineStyles.has(d)||this._backFill.set(d,this._globalTimelineStyles.get(d)??Zs),this._updateStyle(d,v)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((d,p)=>{const v=o1(d,new Map,this._backFill);v.forEach((C,w)=>{"!"===C?e.add(w):C===Zs&&t.add(w)}),i||v.set("offset",p/this.duration),r.push(v)});const s=e.size?L(e.values()):[],l=t.size?L(t.values()):[];if(i){const d=r[0],p=new Map(d);d.set("offset",0),p.set("offset",1),r=[d,p]}return zl(this.element,r,s,l,this.duration,this.startTime,this.easing,!1)}}class um extends Pl{constructor(e,t,i,r,s,l,d=!1){super(e,t,l.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=d,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],l=i+t,d=t/l,p=o1(e[0]);p.set("offset",0),s.push(p);const v=o1(e[0]);v.set("offset",Eo(d)),s.push(v);const C=e.length-1;for(let w=1;w<=C;w++){let A=o1(e[w]);const I=A.get("offset");A.set("offset",Eo((t+I*i)/l)),s.push(A)}i=l,t=0,r="",e=s}return zl(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function Eo(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class v4{}const l5=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class _u extends v4{normalizePropertyName(e,t){return oe(e)}normalizeStyleValue(e,t,i,r){let s="";const l=i.toString().trim();if(l5.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const d=i.match(/^[+-]?[\d\.]+([a-z]*)$/);d&&0==d[1].length&&r.push(function i4(n,e){return new c.vHH(3005,!1)}())}return l+s}}function Ao(n,e,t,i,r,s,l,d,p,v,C,w,A){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:s,toState:i,toStyles:l,timelines:d,queriedElements:p,preStyleProps:v,postStyleProps:C,totalTime:w,errors:A}}const yu={};class Cu{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function FM(n,e,t,i,r){return n.some(s=>s(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,s,l,d,p,v,C){const w=[],A=this.ast.options&&this.ast.options.params||yu,k=this.buildStyles(i,d&&d.params||yu,w),j=p&&p.params||yu,X=this.buildStyles(r,j,w),xe=new Set,ke=new Map,qe=new Map,Ze="void"===r,dt={params:fm(j,A),delay:this.ast.options?.delay},bt=C?[]:Nl(e,t,this.ast.animation,s,l,k,X,dt,v,w);let en=0;if(bt.forEach(ir=>{en=Math.max(ir.duration+ir.delay,en)}),w.length)return Ao(t,this._triggerName,i,r,Ze,k,X,[],[],ke,qe,en,w);bt.forEach(ir=>{const uo=ir.element,eX=Jr(ke,uo,new Set);ir.preStyleProps.forEach(B0=>eX.add(B0));const Qp=Jr(qe,uo,new Set);ir.postStyleProps.forEach(B0=>Qp.add(B0)),uo!==t&&xe.add(uo)});const Si=L(xe.values());return Ao(t,this._triggerName,i,r,Ze,k,X,bt,Si,ke,qe,en)}}function fm(n,e){const t=Ts(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class _4{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=Ts(this.defaultParams);return Object.keys(e).forEach(s=>{const l=e[s];null!==l&&(r[s]=l)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((l,d)=>{l&&(l=x(l,r,t));const p=this.normalizer.normalizePropertyName(d,t);l=this.normalizer.normalizeStyleValue(d,p,l,t),i.set(p,l)})}),i}}class BM{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new _4(r.style,r.options&&r.options.params||{},i))}),hm(this.states,"true","1"),hm(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new Cu(e,r,this.states))}),this.fallbackTransition=function UM(n,e,t){return new Cu(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(l,d)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(l=>l.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function hm(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const u5=new kl;class GM{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],s=Hl(this._driver,t,i,[]);if(i.length)throw function gl(n){return new c.vHH(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,i){const r=e.element,s=e5(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],s=this._animations.get(e);let l;const d=new Map;if(s?(l=Nl(this._driver,t,s,d4,za,new Map,new Map,i,u5,r),l.forEach(C=>{const w=Jr(d,C.element,new Map);C.postStyleProps.forEach(A=>w.set(A,null))})):(r.push(function vl(){return new c.vHH(3300,!1)}()),l=[]),r.length)throw function R1(n){return new c.vHH(3504,!1)}();d.forEach((C,w)=>{C.forEach((A,I)=>{C.set(I,this._driver.computeStyle(w,I,Zs))})});const v=n1(l.map(C=>{const w=d.get(C.element);return this._buildPlayer(C,new Map,w)}));return this._playersById.set(e,v),v.onDestroy(()=>this.destroy(e)),this.players.push(v),v}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function o4(n){return new c.vHH(3301,!1)}();return t}listen(e,t,i,r){const s=fu(t,"","","");return c4(this._getPlayer(e),i,s,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const d5="ng-animate-queued",Mu="ng-animate-disabled",qM=[],Ra={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ol={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},n2="__ng_removed";class pm{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function h5(n){return n??null}(i?e.value:e),i){const s=Ts(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const y4="void",f5=new pm(y4);class WM{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,ps(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function P1(n,e){return new c.vHH(3302,!1)}();if(null==i||0==i.length)throw function lu(n){return new c.vHH(3303,!1)}();if(!function KM(n){return"start"==n||"done"==n}(i))throw function a4(n,e){return new c.vHH(3400,!1)}();const s=Jr(this._elementListeners,e,[]),l={name:t,phase:i,callback:r};s.push(l);const d=Jr(this._engine.statesByElement,e,new Map);return d.has(t)||(ps(e,O1),ps(e,O1+"-"+t),d.set(t,f5)),()=>{this._engine.afterFlush(()=>{const p=s.indexOf(l);p>=0&&s.splice(p,1),this._triggers.has(t)||d.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function Da(n){return new c.vHH(3401,!1)}();return t}trigger(e,t,i,r=!0){const s=this._getTrigger(t),l=new bu(this.id,t,e);let d=this._engine.statesByElement.get(e);d||(ps(e,O1),ps(e,O1+"-"+t),this._engine.statesByElement.set(e,d=new Map));let p=d.get(t);const v=new pm(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&p&&v.absorbOptions(p.options),d.set(t,v),p||(p=f5),v.value!==y4&&p.value===v.value){if(!function ST(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const s=t[r];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(p.params,v.params)){const j=[],X=s.matchStyles(p.value,p.params,j),xe=s.matchStyles(v.value,v.params,j);j.length?this._engine.reportError(j):this._engine.afterFlush(()=>{B1(e,X),hs(e,xe)})}return}const A=Jr(this._engine.playersByElement,e,[]);A.forEach(j=>{j.namespaceId==this.id&&j.triggerName==t&&j.queued&&j.destroy()});let I=s.matchTransition(p.value,v.value,e,v.params),k=!1;if(!I){if(!r)return;I=s.fallbackTransition,k=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:I,fromState:p,toState:v,player:l,isFallbackTransition:k}),k||(ps(e,d5),l.onStart(()=>{Bl(e,d5)})),l.onDone(()=>{let j=this.players.indexOf(l);j>=0&&this.players.splice(j,1);const X=this._engine.playersByElement.get(e);if(X){let xe=X.indexOf(l);xe>=0&&X.splice(xe,1)}}),this.players.push(l),A.push(l),l}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,Js,!0);i.forEach(r=>{if(r[n2])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(l=>l.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const s=this._engine.statesByElement.get(e),l=new Map;if(s){const d=[];if(s.forEach((p,v)=>{if(l.set(v,p.value),this._triggers.has(v)){const C=this.trigger(e,v,y4,r);C&&d.push(C)}}),d.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,l),i&&n1(d).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(s=>{const l=s.name;if(r.has(l))return;r.add(l);const p=this._triggers.get(l).fallbackTransition,v=i.get(l)||f5,C=new pm(y4),w=new bu(this.id,l,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:l,transition:p,fromState:v,toState:C,player:w,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(e):[];if(s&&s.length)r=!0;else{let l=e;for(;l=l.parentNode;)if(i.statesByElement.get(l)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const s=e[n2];(!s||s===Ra)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){ps(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,l=this._elementListeners.get(s);l&&l.forEach(d=>{if(d.name==i.triggerName){const p=fu(s,i.triggerName,i.fromState.value,i.toState.value);p._data=e,c4(i.player,d.phase,p,d.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const s=i.transition.ast.depCount,l=r.transition.ast.depCount;return 0==s||0==l?s-l:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class YM{constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new WM(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let l=!1,d=this.driver.getParentElement(t);for(;d;){const p=r.get(d);if(p){const v=i.indexOf(p);i.splice(v+1,0,e),l=!0;break}d=this.driver.getParentElement(d)}l||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&t.add(s)}return t}trigger(e,t,i,r){if(wu(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!wu(t))return;const s=t[n2];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const l=this.collectedLeaveElements.indexOf(t);l>=0&&this.collectedLeaveElements.splice(l,1)}if(e){const l=this._fetchNamespace(e);l&&l.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),ps(e,Mu)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Bl(e,Mu))}removeNode(e,t,i,r){if(wu(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const l=this.namespacesByHostElement.get(t);l&&l.id!==e&&l.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,s){this.collectedLeaveElements.push(t),t[n2]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,i,r,s){return wu(t)?this._fetchNamespace(e).listen(t,i,r,s):()=>{}}_buildInstruction(e,t,i,r,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,Js,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Sl,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return n1(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[n2];if(t&&t.setForRemoval){if(e[n2]=Ra,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(Mu)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)ps(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?n1(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function La(n){return new c.vHH(3402,!1)}()}_flushAnimations(e,t){const i=new kl,r=[],s=new Map,l=[],d=new Map,p=new Map,v=new Map,C=new Set;this.disabledNodes.forEach(Lt=>{C.add(Lt);const Ut=this.driver.query(Lt,".ng-animate-queued",!0);for(let Kt=0;Kt<Ut.length;Kt++)C.add(Ut[Kt])});const w=this.bodyNode,A=Array.from(this.statesByElement.keys()),I=QM(A,this.collectedEnterElements),k=new Map;let j=0;I.forEach((Lt,Ut)=>{const Kt=d4+j++;k.set(Ut,Kt),Lt.forEach(Rn=>ps(Rn,Kt))});const X=[],xe=new Set,ke=new Set;for(let Lt=0;Lt<this.collectedLeaveElements.length;Lt++){const Ut=this.collectedLeaveElements[Lt],Kt=Ut[n2];Kt&&Kt.setForRemoval&&(X.push(Ut),xe.add(Ut),Kt.hasAnimation?this.driver.query(Ut,".ng-star-inserted",!0).forEach(Rn=>xe.add(Rn)):ke.add(Ut))}const qe=new Map,Ze=QM(A,Array.from(xe));Ze.forEach((Lt,Ut)=>{const Kt=za+j++;qe.set(Ut,Kt),Lt.forEach(Rn=>ps(Rn,Kt))}),e.push(()=>{I.forEach((Lt,Ut)=>{const Kt=k.get(Ut);Lt.forEach(Rn=>Bl(Rn,Kt))}),Ze.forEach((Lt,Ut)=>{const Kt=qe.get(Ut);Lt.forEach(Rn=>Bl(Rn,Kt))}),X.forEach(Lt=>{this.processLeaveNode(Lt)})});const dt=[],bt=[];for(let Lt=this._namespaceList.length-1;Lt>=0;Lt--)this._namespaceList[Lt].drainQueuedTransitions(t).forEach(Kt=>{const Rn=Kt.player,Yr=Kt.element;if(dt.push(Rn),this.collectedEnterElements.length){const Ms=Yr[n2];if(Ms&&Ms.setForMove){if(Ms.previousTriggersValues&&Ms.previousTriggersValues.has(Kt.triggerName)){const U0=Ms.previousTriggersValues.get(Kt.triggerName),C1=this.statesByElement.get(Kt.element);if(C1&&C1.has(Kt.triggerName)){const SM=C1.get(Kt.triggerName);SM.value=U0,C1.set(Kt.triggerName,SM)}}return void Rn.destroy()}}const sa=!w||!this.driver.containsElement(w,Yr),$2=qe.get(Yr),B3=k.get(Yr),ji=this._buildInstruction(Kt,i,B3,$2,sa);if(ji.errors&&ji.errors.length)return void bt.push(ji);if(sa)return Rn.onStart(()=>B1(Yr,ji.fromStyles)),Rn.onDestroy(()=>hs(Yr,ji.toStyles)),void r.push(Rn);if(Kt.isFallbackTransition)return Rn.onStart(()=>B1(Yr,ji.fromStyles)),Rn.onDestroy(()=>hs(Yr,ji.toStyles)),void r.push(Rn);const iX=[];ji.timelines.forEach(Ms=>{Ms.stretchStartingKeyframe=!0,this.disabledNodes.has(Ms.element)||iX.push(Ms)}),ji.timelines=iX,i.append(Yr,ji.timelines),l.push({instruction:ji,player:Rn,element:Yr}),ji.queriedElements.forEach(Ms=>Jr(d,Ms,[]).push(Rn)),ji.preStyleProps.forEach((Ms,U0)=>{if(Ms.size){let C1=p.get(U0);C1||p.set(U0,C1=new Set),Ms.forEach((SM,vT)=>C1.add(vT))}}),ji.postStyleProps.forEach((Ms,U0)=>{let C1=v.get(U0);C1||v.set(U0,C1=new Set),Ms.forEach((SM,vT)=>C1.add(vT))})});if(bt.length){const Lt=[];bt.forEach(Ut=>{Lt.push(function du(n,e){return new c.vHH(3505,!1)}())}),dt.forEach(Ut=>Ut.destroy()),this.reportError(Lt)}const en=new Map,Si=new Map;l.forEach(Lt=>{const Ut=Lt.element;i.has(Ut)&&(Si.set(Ut,Ut),this._beforeAnimationBuild(Lt.player.namespaceId,Lt.instruction,en))}),r.forEach(Lt=>{const Ut=Lt.element;this._getPreviousPlayers(Ut,!1,Lt.namespaceId,Lt.triggerName,null).forEach(Rn=>{Jr(en,Ut,[]).push(Rn),Rn.destroy()})});const ir=X.filter(Lt=>gm(Lt,p,v)),uo=new Map;ZM(uo,this.driver,ke,v,Zs).forEach(Lt=>{gm(Lt,p,v)&&ir.push(Lt)});const Qp=new Map;I.forEach((Lt,Ut)=>{ZM(Qp,this.driver,new Set(Lt),p,"!")}),ir.forEach(Lt=>{const Ut=uo.get(Lt),Kt=Qp.get(Lt);uo.set(Lt,new Map([...Array.from(Ut?.entries()??[]),...Array.from(Kt?.entries()??[])]))});const B0=[],tX=[],nX={};l.forEach(Lt=>{const{element:Ut,player:Kt,instruction:Rn}=Lt;if(i.has(Ut)){if(C.has(Ut))return Kt.onDestroy(()=>hs(Ut,Rn.toStyles)),Kt.disabled=!0,Kt.overrideTotalTime(Rn.totalTime),void r.push(Kt);let Yr=nX;if(Si.size>1){let $2=Ut;const B3=[];for(;$2=$2.parentNode;){const ji=Si.get($2);if(ji){Yr=ji;break}B3.push($2)}B3.forEach(ji=>Si.set(ji,Yr))}const sa=this._buildAnimation(Kt.namespaceId,Rn,en,s,Qp,uo);if(Kt.setRealPlayer(sa),Yr===nX)B0.push(Kt);else{const $2=this.playersByElement.get(Yr);$2&&$2.length&&(Kt.parentPlayer=n1($2)),r.push(Kt)}}else B1(Ut,Rn.fromStyles),Kt.onDestroy(()=>hs(Ut,Rn.toStyles)),tX.push(Kt),C.has(Ut)&&r.push(Kt)}),tX.forEach(Lt=>{const Ut=s.get(Lt.element);if(Ut&&Ut.length){const Kt=n1(Ut);Lt.setRealPlayer(Kt)}}),r.forEach(Lt=>{Lt.parentPlayer?Lt.syncPlayerEvents(Lt.parentPlayer):Lt.destroy()});for(let Lt=0;Lt<X.length;Lt++){const Ut=X[Lt],Kt=Ut[n2];if(Bl(Ut,za),Kt&&Kt.hasAnimation)continue;let Rn=[];if(d.size){let sa=d.get(Ut);sa&&sa.length&&Rn.push(...sa);let $2=this.driver.query(Ut,Sl,!0);for(let B3=0;B3<$2.length;B3++){let ji=d.get($2[B3]);ji&&ji.length&&Rn.push(...ji)}}const Yr=Rn.filter(sa=>!sa.destroyed);Yr.length?wT(this,Ut,Yr):this.processLeaveNode(Ut)}return X.length=0,B0.forEach(Lt=>{this.players.push(Lt),Lt.onDone(()=>{Lt.destroy();const Ut=this.players.indexOf(Lt);this.players.splice(Ut,1)}),Lt.play()}),B0}elementContainsData(e,t){let i=!1;const r=t[n2];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,s){let l=[];if(t){const d=this.playersByQueriedElement.get(e);d&&(l=d)}else{const d=this.playersByElement.get(e);if(d){const p=!s||s==y4;d.forEach(v=>{v.queued||!p&&v.triggerName!=r||l.push(v)})}}return(i||r)&&(l=l.filter(d=>!(i&&i!=d.namespaceId||r&&r!=d.triggerName))),l}_beforeAnimationBuild(e,t,i){const s=t.element,l=t.isRemovalTransition?void 0:e,d=t.isRemovalTransition?void 0:t.triggerName;for(const p of t.timelines){const v=p.element,C=v!==s,w=Jr(i,v,[]);this._getPreviousPlayers(v,C,l,d,t.toState).forEach(I=>{const k=I.getRealPlayer();k.beforeDestroy&&k.beforeDestroy(),I.destroy(),w.push(I)})}B1(s,t.fromStyles)}_buildAnimation(e,t,i,r,s,l){const d=t.triggerName,p=t.element,v=[],C=new Set,w=new Set,A=t.timelines.map(k=>{const j=k.element;C.add(j);const X=j[n2];if(X&&X.removedBeforeQueried)return new fs(k.duration,k.delay);const xe=j!==p,ke=function xT(n){const e=[];return XM(n,e),e}((i.get(j)||qM).map(en=>en.getRealPlayer())).filter(en=>!!en.element&&en.element===j),qe=s.get(j),Ze=l.get(j),dt=e5(0,this._normalizer,0,k.keyframes,qe,Ze),bt=this._buildPlayer(k,dt,ke);if(k.subTimeline&&r&&w.add(j),xe){const en=new bu(e,d,j);en.setRealPlayer(bt),v.push(en)}return bt});v.forEach(k=>{Jr(this.playersByQueriedElement,k.element,[]).push(k),k.onDone(()=>function mm(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,k.element,k))}),C.forEach(k=>ps(k,f4));const I=n1(A);return I.onDestroy(()=>{C.forEach(k=>Bl(k,f4)),hs(p,t.toStyles)}),w.forEach(k=>{Jr(r,k,[]).push(I)}),I}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new fs(e.duration,e.delay)}}class bu{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new fs,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>c4(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Jr(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function wu(n){return n&&1===n.nodeType}function xu(n,e){const t=n.style.display;return n.style.display=e??"none",t}function ZM(n,e,t,i,r){const s=[];t.forEach(p=>s.push(xu(p)));const l=[];i.forEach((p,v)=>{const C=new Map;p.forEach(w=>{const A=e.computeStyle(v,w,r);C.set(w,A),(!A||0==A.length)&&(v[n2]=Ol,l.push(v))}),n.set(v,C)});let d=0;return t.forEach(p=>xu(p,s[d++])),l}function QM(n,e){const t=new Map;if(n.forEach(d=>t.set(d,[])),0==e.length)return t;const r=new Set(e),s=new Map;function l(d){if(!d)return 1;let p=s.get(d);if(p)return p;const v=d.parentNode;return p=t.has(v)?v:r.has(v)?1:l(v),s.set(d,p),p}return e.forEach(d=>{const p=l(d);1!==p&&t.get(p).push(d)}),t}function ps(n,e){n.classList?.add(e)}function Bl(n,e){n.classList?.remove(e)}function wT(n,e,t){n1(t).onDone(()=>n.processLeaveNode(e))}function XM(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof ou?XM(i.players,e):e.push(i)}}function gm(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(s=>r.add(s)):e.set(n,i),t.delete(n),!0}class Ul{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new YM(e,t,i),this._timelineEngine=new GM(e,t,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(e,t,i,r,s){const l=e+"-"+r;let d=this._triggerCache[l];if(!d){const p=[],C=Hl(this._driver,s,p,[]);if(p.length)throw function Qf(n,e){return new c.vHH(3404,!1)}();d=function OM(n,e,t){return new BM(n,e,t)}(r,C,this._normalizer),this._triggerCache[l]=d}this._transitionEngine.registerTrigger(t,r,d)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[s,l]=_l(i);this._timelineEngine.command(s,t,l,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,s){if("@"==i.charAt(0)){const[l,d]=_l(i);return this._timelineEngine.listen(l,t,d,s)}return this._transitionEngine.listen(e,t,i,r,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let vm=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&hs(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(hs(this._element,this._initialStyles),this._endStyles&&(hs(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(B1(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(B1(this._element,this._endStyles),this._endStyles=null),hs(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Su(n){let e=null;return n.forEach((t,i)=>{(function _m(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class Eu{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:Un(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class JM{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return Ta(e,t)}getParentElement(e){return Ml(e)}query(e,t,i){return u4(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,s,l=[]){const p={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(p.easing=s);const v=new Map,C=l.filter(I=>I instanceof Eu);(function ut(n,e){return 0===n||0===e})(i,r)&&C.forEach(I=>{I.currentSnapshot.forEach((k,j)=>v.set(j,k))});let w=function s5(n){return n.length?n[0]instanceof Map?n:n.map(e=>Al(e)):[]}(t).map(I=>o1(I));w=function Nt(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((s,l)=>{i.has(l)||r.push(l),i.set(l,s)}),r.length)for(let s=1;s<e.length;s++){let l=e[s];r.forEach(d=>l.set(d,Un(n,d)))}}return e}(e,w,v);const A=function p5(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=Su(e[0]),e.length>1&&(i=Su(e[e.length-1]))):e instanceof Map&&(t=Su(e)),t||i?new vm(n,t,i):null}(e,w);return new Eu(e,w,p,A)}}let m5=(()=>{class n extends Mo{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:c.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?Sa(t):t;return ym(this._renderer,null,i,"register",[r]),new Gl(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.FYo),c.LFG(re))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Gl extends class wa{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new eb(this._id,e,t||{},this._renderer)}}class eb{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return ym(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function ym(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const g5="@.disabled";let tb=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,l)=>{const d=l?.parentNode(s);d&&l.removeChild(d,s)}}createRenderer(t,i){const s=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let C=this._rendererCache.get(s);return C||(C=new Cm("",s,this.engine),this._rendererCache.set(s,C)),C}const l=i.id,d=i.id+"-"+this._currentId;this._currentId++,this.engine.register(d,t);const p=C=>{Array.isArray(C)?C.forEach(p):this.engine.registerTrigger(l,d,t,C.name,C)};return i.data.animation.forEach(p),new nb(this,d,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[l,d]=s;l(d)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.FYo),c.LFG(Ul),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Cm{constructor(e,t,i){this.namespaceId=e,this.delegate=t,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>t.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==g5?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class nb extends Cm{constructor(e,t,i,r){super(t,i,r),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==g5?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function ib(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),l="";return"@"!=s.charAt(0)&&([s,l]=function v5(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,r,s,l,d=>{this.factory.scheduleListenerCallback(d._data||-1,i,d)})}return this.delegate.listen(e,t,i)}}let rb=(()=>{class n extends Ul{constructor(t,i,r,s){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(re),c.LFG(wl),c.LFG(v4),c.LFG(c.z2F))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const _5=[{provide:Mo,useClass:m5},{provide:v4,useFactory:function sb(){return new _u}},{provide:Ul,useClass:rb},{provide:c.FYo,useFactory:function ob(n,e,t){return new tb(n,e,t)},deps:[il,Ul,c.R0b]}],y5=[{provide:wl,useFactory:()=>new JM},{provide:c.QbO,useValue:"BrowserAnimations"},..._5],Mm=[{provide:wl,useClass:hu},{provide:c.QbO,useValue:"NoopAnimations"},..._5];let es=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?Mm:y5}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:y5,imports:[V1]}),n})();var nn=R(8996),Di=R(9751);const{isArray:xm}=Array,{getPrototypeOf:cb,prototype:lb,keys:Sm}=Object;function Em(n){if(1===n.length){const e=n[0];if(xm(e))return{args:e,keys:null};if(function Am(n){return n&&"object"==typeof n&&cb(n)===lb}(e)){const t=Sm(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}var G1=R(8421),Do=R(3269),ti=R(5403),Tt=R(4004);const{isArray:ub}=Array;function C5(n){return(0,Tt.U)(e=>function Dm(n,e){return ub(e)?n(...e):n(e)}(n,e))}function Pa(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}let Lm=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n}),n})(),Fa=(()=>{class n extends Lm{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const $1=new c.OlP("NgValueAccessor"),AT={provide:$1,useExisting:(0,c.Gpc)(()=>Oa),multi:!0},b5=new c.OlP("CompositionEventMode");let Oa=(()=>{class n extends Lm{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function a1(){const n=P()?P().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(b5,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&c.NdJ("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[c._Bn([AT]),c.qOj]}),n})();function q1(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function Im(n){return null!=n&&"number"==typeof n.length}const Yi=new c.OlP("NgValidators"),Lo=new c.OlP("NgAsyncValidators"),fb=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Io{static min(e){return function Du(n){return e=>{if(q1(e.value)||q1(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function w5(n){return e=>{if(q1(e.value)||q1(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return hb(e)}static requiredTrue(e){return function Ba(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return Lu(e)}static minLength(e){return function x5(n){return e=>q1(e.value)||!Im(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function Tm(n){return e=>Im(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function Iu(n){if(!n)return Tu;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(q1(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return Vu(e)}static composeAsync(e){return zu(e)}}function hb(n){return q1(n.value)?{required:!0}:null}function Lu(n){return q1(n.value)||fb.test(n.value)?null:{email:!0}}function Tu(n){return null}function Vm(n){return null!=n}function Hm(n){return(0,c.QGY)(n)?(0,nn.D)(n):n}function zm(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function km(n,e){return e.map(t=>t(n))}function S5(n){return n.map(e=>function pb(n){return!n.validate}(e)?e:t=>e.validate(t))}function Vu(n){if(!n)return null;const e=n.filter(Vm);return 0==e.length?null:function(t){return zm(km(t,e))}}function Hu(n){return null!=n?Vu(S5(n)):null}function zu(n){if(!n)return null;const e=n.filter(Vm);return 0==e.length?null:function(t){return function j1(...n){const e=(0,Do.jO)(n),{args:t,keys:i}=Em(n),r=new Di.y(s=>{const{length:l}=t;if(!l)return void s.complete();const d=new Array(l);let p=l,v=l;for(let C=0;C<l;C++){let w=!1;(0,G1.Xf)(t[C]).subscribe((0,ti.x)(s,A=>{w||(w=!0,v--),d[C]=A},()=>p--,void 0,()=>{(!p||!w)&&(v||s.next(i?Pa(i,d):d),s.complete())}))}});return e?r.pipe(C5(e)):r}(km(t,e).map(Hm)).pipe((0,Tt.U)(zm))}}function E5(n){return null!=n?zu(S5(n)):null}function Nm(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function A5(n){return n._rawValidators}function D5(n){return n._rawAsyncValidators}function W1(n){return n?Array.isArray(n)?n:[n]:[]}function jl(n,e){return Array.isArray(n)?n.includes(e):n===e}function L5(n,e){const t=W1(e);return W1(n).forEach(r=>{jl(t,r)||t.push(r)}),t}function Rm(n,e){return W1(e).filter(t=>!jl(n,t))}class mb{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Hu(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=E5(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class _r extends mb{get formDirective(){return null}get path(){return null}}class Y1 extends mb{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class I5{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let $l=(()=>{class n extends I5{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Y1,2))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&c.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[c.qOj]}),n})(),ku=(()=>{class n extends I5{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(_r,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,i){2&t&&c.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[c.qOj]}),n})();const Wl="VALID",Pu="INVALID",Rr="PENDING",Yl="DISABLED";function Fu(n){return(Ou(n)?n.validators:n)||null}function Um(n){return Array.isArray(n)?Hu(n):n||null}function H5(n,e){return(Ou(e)?e.asyncValidators:n)||null}function Gm(n){return Array.isArray(n)?E5(n):n||null}function Ou(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function z5(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new c.vHH(1e3,"");if(!i[t])throw new c.vHH(1001,"")}function jm(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new c.vHH(1002,"")})}class Bu{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=Um(this._rawValidators),this._composedAsyncValidatorFn=Gm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Wl}get invalid(){return this.status===Pu}get pending(){return this.status==Rr}get disabled(){return this.status===Yl}get enabled(){return this.status!==Yl}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Um(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Gm(e)}addValidators(e){this.setValidators(L5(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(L5(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Rm(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Rm(e,this._rawAsyncValidators))}hasValidator(e){return jl(this._rawValidators,e)}hasAsyncValidator(e){return jl(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Rr,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Yl,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Wl,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Wl||this.status===Rr)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Yl:Wl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Rr,this._hasOwnPendingAsyncValidator=!0;const t=Hm(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?Yl:this.errors?Pu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Rr)?Rr:this._anyControlsHaveStatus(Pu)?Pu:Wl}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Ou(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class Kl extends Bu{constructor(e,t,i){super(Fu(t),H5(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){jm(this,0,e),Object.keys(e).forEach(i=>{z5(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,s)=>{i=t(i,r,s)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class k5 extends Kl{}function Uu(n,e){return[...e.path,n]}function Zl(n,e){N5(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function VT(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&R5(n,e)})}(n,e),function Ga(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function qm(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&R5(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function $m(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Ql(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),ju(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Gu(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function N5(n,e){const t=A5(n);null!==e.validator?n.setValidators(Nm(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=D5(n);null!==e.asyncValidator?n.setAsyncValidators(Nm(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();Gu(e._rawValidators,r),Gu(e._rawAsyncValidators,r)}function ju(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=A5(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(l=>l!==e.validator);s.length!==r.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const r=D5(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(l=>l!==e.asyncValidator);s.length!==r.length&&(t=!0,n.setAsyncValidators(s))}}}const i=()=>{};return Gu(e._rawValidators,i),Gu(e._rawAsyncValidators,i),t}function R5(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Wm(n,e){N5(n,e)}function Km(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function F5(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function Zm(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(s=>{s.constructor===Oa?t=s:function Sb(n){return Object.getPrototypeOf(n.constructor)===Fa}(s)?i=s:r=s}),r||i||t||null}const Ab={provide:_r,useExisting:(0,c.Gpc)(()=>To)},M4=(()=>Promise.resolve())();let To=(()=>{class n extends _r{constructor(t,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new c.vpe,this.form=new Kl({},Hu(t),E5(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){M4.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),Zl(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){M4.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){M4.then(()=>{const i=this._findContainer(t.path),r=new Kl({});Wm(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){M4.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){M4.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,F5(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Yi,10),c.Y36(Lo,10))},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,i){1&t&&c.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([Ab]),c.qOj]}),n})();function Qm(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function O5(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Jl=class extends Bu{constructor(e=null,t,i){super(Fu(t),H5(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ou(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=O5(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Qm(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Qm(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){O5(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},NT={provide:Y1,useExisting:(0,c.Gpc)(()=>B5)},qu=(()=>Promise.resolve())();let B5=(()=>{class n extends Y1{constructor(t,i,r,s,l){super(),this._changeDetectorRef=l,this.control=new Jl,this._registered=!1,this.update=new c.vpe,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=Zm(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),Km(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Zl(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){qu.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&(0,c.D6c)(i);qu.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?Uu(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(_r,9),c.Y36(Yi,10),c.Y36(Lo,10),c.Y36($1,10),c.Y36(c.sBO,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c._Bn([NT]),c.qOj,c.TTD]}),n})(),eg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),r2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const e6=new c.OlP("NgModelWithFormControlWarning"),RT={provide:_r,useExisting:(0,c.Gpc)(()=>w4)};let w4=(()=>{class n extends _r{constructor(t,i){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ju(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return Zl(i,t),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){Ql(t.control||null,t,!1),function Eb(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,F5(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(Ql(i||null,t),(n=>n instanceof Jl)(r)&&(Zl(r,t),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);Wm(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function P5(n,e){return ju(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){N5(this.form,this),this._oldForm&&ju(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Yi,10),c.Y36(Lo,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,i){1&t&&c.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([RT]),c.qOj,c.TTD]}),n})();const $5={provide:Y1,useExisting:(0,c.Gpc)(()=>sg)};let sg=(()=>{class n extends Y1{constructor(t,i,r,s,l){super(),this._ngModelWarningConfig=l,this._added=!1,this.update=new c.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=Zm(0,s)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),Km(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Uu(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(c.Y36(_r,13),c.Y36(Yi,10),c.Y36(Lo,10),c.Y36($1,10),c.Y36(e6,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[c._Bn([$5]),c.qOj,c.TTD]}),n})(),S4=(()=>{class n{constructor(){this._validator=Tu}ngOnChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Tu,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,features:[c.TTD]}),n})();const GT={provide:Yi,useExisting:(0,c.Gpc)(()=>W5),multi:!0};let W5=(()=>{class n extends S4{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=c.D6c,this.createValidator=t=>hb}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,i){2&t&&c.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[c._Bn([GT]),c.qOj]}),n})();const Vo={provide:Yi,useExisting:(0,c.Gpc)(()=>n6),multi:!0};let n6=(()=>{class n extends S4{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=c.D6c,this.createValidator=t=>Lu}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[c._Bn([Vo]),c.qOj]}),n})(),ug=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[r2]}),n})(),dg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[ug]}),n})(),fg=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:e6,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[ug]}),n})();class hg extends Bu{constructor(e,t,i){super(Fu(t),H5(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){jm(this,0,e),e.forEach((i,r)=>{z5(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,i)=>!!i._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function Xu(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let E4=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,i=null){const r=this._reduceControls(t);let s={};return Xu(i)?s=i:null!==i&&(s.validators=i.validator,s.asyncValidators=i.asyncValidator),new Kl(r,s)}record(t,i=null){const r=this._reduceControls(t);return new k5(r,i)}control(t,i,r){let s={};return this.useNonNullable?(Xu(i)?s=i:(s.validators=i,s.asyncValidators=r),new Jl(t,{...s,nonNullable:!0})):new Jl(t,i,r)}array(t,i,r){const s=t.map(l=>this._createControl(l));return new hg(s,i,r)}_reduceControls(t){const i={};return Object.keys(t).forEach(r=>{i[r]=this._createControl(t[r])}),i}_createControl(t){return t instanceof Jl||t instanceof Bu?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:fg}),n})();var pi=R(2011),Yt=R(7579);function ct(...n){const e=(0,Do.yG)(n);return(0,nn.D)(n,e)}var s2=R(6451),$a=R(5363),Li=R(4482);function ni(n,e){return(0,Li.e)((t,i)=>{let r=null,s=0,l=!1;const d=()=>l&&!r&&i.complete();t.subscribe((0,ti.x)(i,p=>{r?.unsubscribe();let v=0;const C=s++;(0,G1.Xf)(n(p,C)).subscribe(r=(0,ti.x)(i,w=>i.next(e?e(p,w,C,v++):w),()=>{r=null,d()}))},()=>{l=!0,d()}))})}var Ub=R(6063);class mg extends Yt.x{constructor(e=1/0,t=1/0,i=Ub.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:l}=this;t||(i.push(e),!r&&i.push(s.now()+l)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let l=0;l<s.length&&!e.closed;l+=i?1:2)e.next(s[l]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*e;if(e<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const l=t.now();let d=0;for(let p=1;p<i.length&&i[p]<=l;p+=2)d=p;d&&i.splice(0,d+1)}}}var gg=R(3099);function Ju(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,(0,gg.B)({connector:()=>new mg(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}const e8=(0,R(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function mn(n,e){return(0,Li.e)((t,i)=>{let r=0;t.subscribe((0,ti.x)(i,s=>n.call(e,s,r++)&&i.next(s)))})}var l1=R(515);function yr(n){return n<=0?()=>l1.E:(0,Li.e)((e,t)=>{let i=0;e.subscribe((0,ti.x)(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function eh(n){return(0,Li.e)((e,t)=>{let i=!1;e.subscribe((0,ti.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function _g(n=th){return(0,Li.e)((e,t)=>{let i=!1;e.subscribe((0,ti.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function th(){return new e8}var qa=R(4671);function K1(n,e){const t=arguments.length>=2;return i=>i.pipe(n?mn((r,s)=>n(r,s,i)):qa.y,yr(1),t?eh(e):_g(()=>new e8))}var u1=R(576);function yg(n,e){return(0,u1.m)(e)?ni(()=>n,e):ni(()=>n)}var t8=R(9468),fn=R(880);R(5867);var Se=R(5861),Dr=R(9681),ms=R(4859),O=R(2090),Vs=R(1877);const Yb=new Map,wg={activated:!1,tokenObservers:[]},xg={initialized:!1,enabled:!1};function ur(n){return Yb.get(n)||wg}function Hs(n,e){Yb.set(n,e)}function A4(){return xg}class Eg{constructor(e,t,i,r,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Se.Z)(function*(){t.stop();try{t.pending=new O.BH,yield function Kb(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new O.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const dr=new O.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Qb(n){if(!ur(n).activated)throw dr.create("use-before-activation",{appName:n.name})}function ah(n,e){return ch.apply(this,arguments)}function ch(){return(ch=(0,Se.Z)(function*({url:n,body:e},t){var i,r;const s={"Content-Type":"application/json"},l=t.getImmediate({optional:!0});if(l){const I=yield l.getHeartbeatsHeader();I&&(s["X-Firebase-Client"]=I)}const d={method:"POST",body:JSON.stringify(e),headers:s};let p,v;try{p=yield fetch(n,d)}catch(I){throw dr.create("fetch-network-error",{originalErrorMessage:null===(i=I)||void 0===i?void 0:i.message})}if(200!==p.status)throw dr.create("fetch-status-error",{httpStatus:p.status});try{v=yield p.json()}catch(I){throw dr.create("fetch-parse-error",{originalErrorMessage:null===(r=I)||void 0===r?void 0:r.message})}const C=v.ttl.match(/^([\d.]+)(s)$/);if(!C||!C[2]||isNaN(Number(C[1])))throw dr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${v.ttl}`});const w=1e3*Number(C[1]),A=Date.now();return{token:v.token,expireTimeMillis:A+w,issuedAtTimeMillis:A}})).apply(this,arguments)}function lh(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:e}}}const o6="firebase-app-check-store";let s8=null;function Lg(){return s8||(s8=new Promise((n,e)=>{var t;try{const i=indexedDB.open("firebase-app-check-database",1);i.onsuccess=r=>{n(r.target.result)},i.onerror=r=>{var s;e(dr.create("storage-open",{originalErrorMessage:null===(s=r.target.error)||void 0===s?void 0:s.message}))},i.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(o6,{keyPath:"compositeKey"})}}catch(i){e(dr.create("storage-open",{originalErrorMessage:null===(t=i)||void 0===t?void 0:t.message}))}}),s8)}function Ya(){return(Ya=(0,Se.Z)(function*(n,e){const i=(yield Lg()).transaction(o6,"readwrite"),s=i.objectStore(o6).put({compositeKey:n,value:e});return new Promise((l,d)=>{s.onsuccess=p=>{l()},i.onerror=p=>{var v;d(dr.create("storage-set",{originalErrorMessage:null===(v=p.target.error)||void 0===v?void 0:v.message}))}})})).apply(this,arguments)}const a6=new Vs.Yd("@firebase/app-check");function Cr(n,e){return(0,O.hl)()?function tw(n,e){return function nw(n,e){return Ya.apply(this,arguments)}(function a8(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{a6.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function zs(){return A4().enabled}function c8(){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,Se.Z)(function*(){const n=A4();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const I4={error:"UNKNOWN_ERROR"};function T4(n){return O.US.encodeString(JSON.stringify(n),!1)}function Q1(n){return zo.apply(this,arguments)}function zo(){return(zo=(0,Se.Z)(function*(n,e=!1){const t=n.app;Qb(t);const i=ur(t);let s,r=i.token;if(r&&!Xa(r)&&(Hs(t,Object.assign(Object.assign({},i),{token:void 0})),r=void 0),!r){const p=yield i.cachedTokenPromise;p&&(Xa(p)?r=p:yield Cr(t,void 0))}if(!e&&r&&Xa(r))return{token:r.token};let d,l=!1;if(zs()){i.exchangeTokenPromise||(i.exchangeTokenPromise=ah(lh(t,yield c8()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),l=!0);const p=yield i.exchangeTokenPromise;return yield Cr(t,p),Hs(t,Object.assign(Object.assign({},i),{token:p})),{token:p.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),l=!0),r=yield i.exchangeTokenPromise}catch(p){"appCheck/throttled"===p.code?a6.warn(p.message):a6.error(p),s=p}return r?s?d=Xa(r)?{token:r.token,internalError:s}:hh(s):(d={token:r.token},Hs(t,Object.assign(Object.assign({},i),{token:r})),yield Cr(t,r)):d=hh(s),l&&fh(t,d),d})).apply(this,arguments)}function No(n,e){const t=ur(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Hs(n,Object.assign(Object.assign({},t),{tokenObservers:i}))}function Qa(n){const{app:e}=n,t=ur(e);let i=t.tokenRefresher;i||(i=function Tg(n){const{app:e}=n;return new Eg((0,Se.Z)(function*(){let i;if(i=ur(e).token?yield Q1(n,!0):yield Q1(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=ur(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),Hs(e,Object.assign(Object.assign({},t),{tokenRefresher:i}))),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function fh(n,e){const t=ur(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}function Xa(n){return n.expireTimeMillis-Date.now()>0}function hh(n){return{token:T4(I4),error:n}}class Vg{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=ur(this.app);for(const t of e)No(this.app,t.next);return Promise.resolve()}}const _h="app-check-internal";!function Gg(){(0,Dr._registerComponent)(new ms.wA("app-check",n=>function Hg(n,e){return new Vg(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(_h).initialize()})),(0,Dr._registerComponent)(new ms.wA(_h,n=>function zg(n){return{getToken:e=>Q1(n,e),addTokenListener:e=>function ko(n,e,t,i){const{app:r}=n,s=ur(r),l={next:t,error:i,type:e};if(Hs(r,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,l]})),s.token&&Xa(s.token)){const d=s.token;Promise.resolve().then(()=>{t({token:d.token}),Qa(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>Qa(n))}(n,"INTERNAL",e),removeTokenListener:e=>No(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Dr.registerVersion)("@firebase/app-check","0.5.16")}();class V4{constructor(){return(0,fn.vb)("app-check")}}typeof window<"u"&&window;var Ja=R(127);const h8=new c.OlP("angularfire2.auth.use-emulator"),bh=new c.OlP("angularfire2.auth.settings"),wh=new c.OlP("angularfire2.auth.tenant-id"),p8=new c.OlP("angularfire2.auth.langugage-code"),xh=new c.OlP("angularfire2.auth.use-device-language"),m8=new c.OlP("angularfire.auth.persistence"),g8=(n,e,t,i,r,s,l,d)=>(0,pi.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const p=e.runOutsideAngular(()=>n.auth());if(t&&p.useEmulator(...t),i&&(p.tenantId=i),p.languageCode=r,s&&p.useDeviceLanguage(),l)for(const[v,C]of Object.entries(l))p.settings[v]=C;return d&&p.setPersistence(d),p},[t,i,r,s,l,d]);let o2=(()=>{class n{constructor(t,i,r,s,l,d,p,v,C,w,A,I){const k=new Yt.x,j=ct(void 0).pipe((0,$a.Q)(l.outsideAngular),ni(()=>s.runOutsideAngular(()=>Promise.resolve().then(R.bind(R,5881)))),(0,Tt.U)(()=>(0,pi.on)(t,s,i)),(0,Tt.U)(X=>g8(X,s,d,v,C,w,p,A)),Ju({bufferSize:1,refCount:!1}));if(Kr(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=ct(null);else{j.pipe(K1()).subscribe();const xe=j.pipe(ni(Ze=>Ze.getRedirectResult().then(dt=>dt,()=>null)),fn.iC,Ju({bufferSize:1,refCount:!1})),ke=j.pipe(ni(Ze=>new Di.y(dt=>({unsubscribe:s.runOutsideAngular(()=>Ze.onAuthStateChanged(bt=>dt.next(bt),bt=>dt.error(bt),()=>dt.complete()))})))),qe=j.pipe(ni(Ze=>new Di.y(dt=>({unsubscribe:s.runOutsideAngular(()=>Ze.onIdTokenChanged(bt=>dt.next(bt),bt=>dt.error(bt),()=>dt.complete()))}))));this.authState=xe.pipe(yg(ke),(0,t8.R)(l.outsideAngular),(0,$a.Q)(l.insideAngular)),this.user=xe.pipe(yg(qe),(0,t8.R)(l.outsideAngular),(0,$a.Q)(l.insideAngular)),this.idToken=this.user.pipe(ni(Ze=>Ze?(0,nn.D)(Ze.getIdToken()):ct(null))),this.idTokenResult=this.user.pipe(ni(Ze=>Ze?(0,nn.D)(Ze.getIdTokenResult()):ct(null))),this.credential=(0,s2.T)(xe,k,this.authState.pipe(mn(Ze=>!Ze))).pipe((0,Tt.U)(Ze=>Ze?.user?Ze:null),(0,t8.R)(l.outsideAngular),(0,$a.Q)(l.insideAngular))}return(0,pi.pX)(this,j,s,{spy:{apply:(X,xe,ke)=>{(X.startsWith("signIn")||X.startsWith("createUser"))&&ke.then(qe=>k.next(qe))}}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(pi.Dh),c.LFG(pi.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(fn.HU),c.LFG(h8,8),c.LFG(bh,8),c.LFG(wh,8),c.LFG(p8,8),c.LFG(xh,8),c.LFG(m8,8),c.LFG(V4,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),hw=(()=>{class n{constructor(){Ja.Z.registerVersion("angularfire",fn.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[o2]}),n})();var Yg=R(655),Kg=R(7982);class ts extends Yt.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}var Zg=R(9672);function Qg(...n){const e=(0,Do.yG)(n),t=(0,Do.jO)(n),{args:i,keys:r}=Em(n);if(0===i.length)return(0,nn.D)([],e);const s=new Di.y(function Sh(n,e,t=qa.y){return i=>{v8(e,()=>{const{length:r}=n,s=new Array(r);let l=r,d=r;for(let p=0;p<r;p++)v8(e,()=>{const v=(0,nn.D)(n[p],e);let C=!1;v.subscribe((0,ti.x)(i,w=>{s[p]=w,C||(C=!0,d--),d||i.next(t(s.slice()))},()=>{--l||i.complete()}))},i)},i)}}(i,e,r?l=>Pa(r,l):qa.y));return t?s.pipe(C5(t)):s}function v8(n,e,t){n?(0,Zg.f)(t,n,e):e()}var gs=R(8189);function h6(...n){return function pw(){return(0,gs.J)(1)}()((0,nn.D)(n,(0,Do.yG)(n)))}function ks(n){return new Di.y(e=>{(0,G1.Xf)(n()).subscribe(e)})}var D2=R(9635);function Pr(n,e){const t=(0,u1.m)(n)?n:()=>n,i=r=>r.error(t());return new Di.y(e?r=>e.schedule(i,0,r):i)}var L2=R(727);function _8(){return(0,Li.e)((n,e)=>{let t=null;n._refCount++;const i=(0,ti.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,s=t;t=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class Xg extends Di.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Li.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new L2.w0;const t=this.getSubject();e.add(this.source.subscribe((0,ti.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=L2.w0.EMPTY)}return e}refCount(){return _8()(this)}}function vs(...n){const e=(0,Do.yG)(n);return(0,Li.e)((t,i)=>{(e?h6(n,t,e):h6(n,t)).subscribe(i)})}var Mr=R(5577);function ec(n,e){return(0,u1.m)(e)?(0,Mr.z)(n,e,1):(0,Mr.z)(n,1)}var Ki=R(8505);function a2(n){return(0,Li.e)((e,t)=>{let s,i=null,r=!1;i=e.subscribe((0,ti.x)(t,void 0,void 0,l=>{s=(0,G1.Xf)(n(l,a2(n)(e))),i?(i.unsubscribe(),i=null,s.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(t))})}function mw(n,e,t,i,r){return(s,l)=>{let d=t,p=e,v=0;s.subscribe((0,ti.x)(l,C=>{const w=v++;p=d?n(p,C,w):(d=!0,C),i&&l.next(p)},r&&(()=>{d&&l.next(p),l.complete()})))}}function Ro(n,e){return(0,Li.e)(mw(n,e,arguments.length>=2,!0))}function Eh(n){return n<=0?()=>l1.E:(0,Li.e)((e,t)=>{let i=[];e.subscribe((0,ti.x)(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function Ah(n,e){const t=arguments.length>=2;return i=>i.pipe(n?mn((r,s)=>n(r,s,i)):qa.y,Eh(1),t?eh(e):_g(()=>new e8))}function p6(n){return(0,Tt.U)(()=>n)}function Dh(n){return(0,Li.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const hn="primary",H4=Symbol("RouteTitle");class Lh{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function X1(n){return new Lh(n)}function ev(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const l=i[s],d=n[s];if(l.startsWith(":"))r[l.substring(1)]=d;else if(l!==d.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function I2(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!Ih(n[r],e[r]))return!1;return!0}function Ih(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,s)=>i[s]===r)}return n===e}function Th(n){return Array.prototype.concat.apply([],n)}function Vh(n){return n.length>0?n[n.length-1]:null}function br(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Po(n){return(0,c.CqO)(n)?n:(0,c.QGY)(n)?(0,nn.D)(Promise.resolve(n)):ct(n)}const _w={exact:function rv(n,e,t){if(!nc(n.segments,e.segments)||!y8(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!rv(n.children[i],e.children[i],t))return!1;return!0},subset:sv},nv={exact:function yw(n,e){return I2(n,e)},subset:function Cw(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Ih(n[t],e[t]))},ignored:()=>!0};function iv(n,e,t){return _w[t.paths](n.root,e.root,t.matrixParams)&&nv[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function sv(n,e,t){return ov(n,e,e.segments,t)}function ov(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!nc(r,t)||e.hasChildren()||!y8(r,t,i))}if(n.segments.length===t.length){if(!nc(n.segments,t)||!y8(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!sv(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(nc(n.segments,r)&&y8(n.segments,r,i)&&n.children[hn])&&ov(n.children[hn],e,s,i)}}function y8(n,e,t){return e.every((i,r)=>nv[t](n[r].parameters,i.parameters))}class tc{constructor(e,t,i){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=X1(this.queryParams)),this._queryParamMap}toString(){return av.serialize(this)}}class yn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,br(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return g6(this)}}class m6{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=X1(this.parameters)),this._parameterMap}toString(){return Fo(this)}}function nc(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let zh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return new C8},providedIn:"root"}),n})();class C8{parse(e){const t=new tV(e);return new tc(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${z4(e.root,!0)}`,i=function xw(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${v6(t)}=${v6(r)}`).join("&"):`${v6(t)}=${v6(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function cv(n){return encodeURI(n)}(e.fragment)}`:""}`}}const av=new C8;function g6(n){return n.segments.map(e=>Fo(e)).join("/")}function z4(n,e){if(!n.hasChildren())return g6(n);if(e){const t=n.children[hn]?z4(n.children[hn],!1):"",i=[];return br(n.children,(r,s)=>{s!==hn&&i.push(`${s}:${z4(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function bw(n,e){let t=[];return br(n.children,(i,r)=>{r===hn&&(t=t.concat(e(i,r)))}),br(n.children,(i,r)=>{r!==hn&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===hn?[z4(n.children[hn],!1)]:[`${r}:${z4(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[hn]?`${g6(n)}/${t[0]}`:`${g6(n)}/(${t.join("//")})`}}function kh(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function v6(n){return kh(n).replace(/%3B/gi,";")}function M8(n){return kh(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function k4(n){return decodeURIComponent(n)}function b8(n){return k4(n.replace(/\+/g,"%20"))}function Fo(n){return`${M8(n.path)}${function ww(n){return Object.keys(n).map(e=>`;${M8(e)}=${M8(n[e])}`).join("")}(n.parameters)}`}const N4=/^[^\/()?;=#]+/;function Nh(n){const e=n.match(N4);return e?e[0]:""}const Rh=/^[^=?&#]+/,lv=/^[^&#]+/;class tV{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new yn([],{}):new yn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[hn]=new yn(e,t)),i}parseSegment(){const e=Nh(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new c.vHH(4009,!1);return this.capture(e),new m6(k4(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Nh(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=Nh(this.remaining);r&&(i=r,this.capture(i))}e[k4(t)]=k4(i)}parseQueryParam(e){const t=function eV(n){const e=n.match(Rh);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const l=function uv(n){const e=n.match(lv);return e?e[0]:""}(this.remaining);l&&(i=l,this.capture(i))}const r=b8(t),s=b8(i);if(e.hasOwnProperty(r)){let l=e[r];Array.isArray(l)||(l=[l],e[r]=l),l.push(s)}else e[r]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Nh(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new c.vHH(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=hn);const l=this.parseChildren();t[s]=1===Object.keys(l).length?l[hn]:new yn([],l),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new c.vHH(4011,!1)}}function Pt(n){return n.segments.length>0?new yn([],{[hn]:n}):n}function w8(n){const e={};for(const i of Object.keys(n.children)){const s=w8(n.children[i]);(s.segments.length>0||s.hasChildren())&&(e[i]=s)}return function Sw(n){if(1===n.numberOfChildren&&n.children[hn]){const e=n.children[hn];return new yn(n.segments.concat(e.segments),e.children)}return n}(new yn(n.segments,e))}function ic(n){return n instanceof tc}function Ii(n,e,t,i,r){if(0===t.length)return rc(e.root,e.root,e.root,i,r);const s=function Fh(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Ph(!0,0,n);let e=0,t=!1;const i=n.reduce((r,s,l)=>{if("object"==typeof s&&null!=s){if(s.outlets){const d={};return br(s.outlets,(p,v)=>{d[v]="string"==typeof p?p.split("/"):p}),[...r,{outlets:d}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===l?(s.split("/").forEach((d,p)=>{0==p&&"."===d||(0==p&&""===d?t=!0:".."===d?e++:""!=d&&r.push(d))}),r):[...r,s]},[]);return new Ph(t,e,i)}(t);return s.toRoot()?rc(e.root,e.root,new yn([],{}),i,r):function l(p){const v=function Ew(n,e,t,i){if(n.isAbsolute)return new sc(e.root,!0,0);if(-1===i)return new sc(t,t===e.root,0);return function hv(n,e,t){let i=n,r=e,s=t;for(;s>r;){if(s-=r,i=i.parent,!i)throw new c.vHH(4005,!1);r=i.segments.length}return new sc(i,!1,r-s)}(t,i+(E8(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,e,n.snapshot?._urlSegment,p),C=v.processChildren?_6(v.segmentGroup,v.index,s.commands):oc(v.segmentGroup,v.index,s.commands);return rc(e.root,v.segmentGroup,C,i,r)}(n.snapshot?._lastPathIndex)}function E8(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function R4(n){return"object"==typeof n&&null!=n&&n.outlets}function rc(n,e,t,i,r){let l,s={};i&&br(i,(p,v)=>{s[v]=Array.isArray(p)?p.map(C=>`${C}`):`${p}`}),l=n===e?t:dv(n,e,t);const d=Pt(w8(l));return new tc(d,s,r)}function dv(n,e,t){const i={};return br(n.children,(r,s)=>{i[s]=r===e?t:dv(r,e,t)}),new yn(n.segments,i)}class Ph{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&E8(i[0]))throw new c.vHH(4003,!1);const r=i.find(R4);if(r&&r!==Vh(i))throw new c.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class sc{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function oc(n,e,t){if(n||(n=new yn([],{})),0===n.segments.length&&n.hasChildren())return _6(n,e,t);const i=function Dw(n,e,t){let i=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return s;const l=n.segments[r],d=t[i];if(R4(d))break;const p=`${d}`,v=i<t.length-1?t[i+1]:null;if(r>0&&void 0===p)break;if(p&&v&&"object"==typeof v&&void 0===v.outlets){if(!Uh(p,v,l))return s;i+=2}else{if(!Uh(p,{},l))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new yn(n.segments.slice(0,i.pathIndex),{});return s.children[hn]=new yn(n.segments.slice(i.pathIndex),n.children),_6(s,0,r)}return i.match&&0===r.length?new yn(n.segments,{}):i.match&&!n.hasChildren()?Oh(n,e,t):i.match?_6(n,0,r):Oh(n,e,t)}function _6(n,e,t){if(0===t.length)return new yn(n.segments,{});{const i=function Aw(n){return R4(n[0])?n[0].outlets:{[hn]:n}}(t),r={};return br(i,(s,l)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[l]=oc(n.children[l],e,s))}),br(n.children,(s,l)=>{void 0===i[l]&&(r[l]=s)}),new yn(n.segments,r)}}function Oh(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const s=t[r];if(R4(s)){const p=A8(s.outlets);return new yn(i,p)}if(0===r&&E8(t[0])){i.push(new m6(n.segments[e].path,Bh(t[0]))),r++;continue}const l=R4(s)?s.outlets[hn]:`${s}`,d=r<t.length-1?t[r+1]:null;l&&d&&E8(d)?(i.push(new m6(l,Bh(d))),r+=2):(i.push(new m6(l,{})),r++)}return new yn(i,{})}function A8(n){const e={};return br(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=Oh(new yn([],{}),0,t))}),e}function Bh(n){const e={};return br(n,(t,i)=>e[i]=`${t}`),e}function Uh(n,e,t){return n==t.path&&I2(e,t.parameters)}class f1{constructor(e,t){this.id=e,this.url=t}}class Gh extends f1{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class T2 extends f1{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Bo extends f1{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class pv extends f1{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Lw extends f1{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Iw extends f1{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mv extends f1{constructor(e,t,i,r,s){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class gv extends f1{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vv extends f1{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Tw{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class _v{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Vw{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hw{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class iV{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zw{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kw{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class jh{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=P4(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=P4(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=$h(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return $h(e,this._root).map(t=>t.value)}}function P4(n,e){if(n===e.value)return e;for(const t of e.children){const i=P4(n,t);if(i)return i}return null}function $h(n,e){if(n===e.value)return[e];for(const t of e.children){const i=$h(n,t);if(i.length)return i.unshift(e),i}return[]}class J1{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function ac(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class F4 extends jh{constructor(e,t){super(e),this.snapshot=t,qh(this,e)}toString(){return this.snapshot.toString()}}function yv(n,e){const t=function Nw(n,e){const l=new y6([],{},{},"",{},hn,e,null,n.root,-1,{});return new Mv("",new J1(l,[]))}(n,e),i=new ts([new m6("",{})]),r=new ts({}),s=new ts({}),l=new ts({}),d=new ts(""),p=new cc(i,r,l,d,s,hn,e,t.root);return p.snapshot=t.root,new F4(new J1(p,[]),t)}class cc{constructor(e,t,i,r,s,l,d,p){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=l,this.component=d,this.title=this.data?.pipe((0,Tt.U)(v=>v[H4]))??ct(void 0),this._futureSnapshot=p}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Tt.U)(e=>X1(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Tt.U)(e=>X1(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Cv(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],s=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function Rw(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class y6{constructor(e,t,i,r,s,l,d,p,v,C,w,A){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=l,this.component=d,this.title=this.data?.[H4],this.routeConfig=p,this._urlSegment=v,this._lastPathIndex=C,this._correctedLastPathIndex=A??C,this._resolve=w}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=X1(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=X1(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Mv extends jh{constructor(e,t){super(t),this.url=e,qh(this,t)}toString(){return O4(this._root)}}function qh(n,e){e.value._routerState=n,e.children.forEach(t=>qh(n,t))}function O4(n){const e=n.children.length>0?` { ${n.children.map(O4).join(", ")} } `:"";return`${n.value}${e}`}function Wh(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,I2(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),I2(e.params,t.params)||n.params.next(t.params),function tv(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!I2(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),I2(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function D8(n,e){const t=I2(n.params,e.params)&&function Mw(n,e){return nc(n,e)&&n.every((t,i)=>I2(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||D8(n.parent,e.parent))}function B4(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function Fw(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return B4(n,i,r);return B4(n,i)})}(n,e,t);return new J1(i,r)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const l=s.route;return l.value._futureSnapshot=e.value,l.children=e.children.map(d=>B4(n,d)),l}}const i=function bv(n){return new cc(new ts(n.url),new ts(n.params),new ts(n.queryParams),new ts(n.fragment),new ts(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(s=>B4(n,s));return new J1(i,r)}}const Yh="ngNavigationCancelingError";function L8(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=ic(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=wv(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function wv(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[Yh]=!0,i.cancellationCode=e,t&&(i.url=t),i}function Kh(n){return Zh(n)&&ic(n.url)}function Zh(n){return n&&n[Yh]}class Ow{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new C6,this.attachRef=null}}let C6=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new Ow,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const I8=!1;let M6=(()=>{class n{constructor(t,i,r,s,l){this.parentContexts=t,this.location=i,this.changeDetector=s,this.environmentInjector=l,this.activated=null,this._activatedRoute=null,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.name=r||hn,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.vHH(4012,I8);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.vHH(4012,I8);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.vHH(4012,I8);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new c.vHH(4013,I8);this._activatedRoute=t;const r=this.location,l=t._futureSnapshot.component,d=this.parentContexts.getOrCreateContext(this.name).children,p=new Bw(t,d,r.injector);if(i&&function xv(n){return!!n.resolveComponentFactory}(i)){const v=i.resolveComponentFactory(l);this.activated=r.createComponent(v,r.length,p)}else this.activated=r.createComponent(l,{index:r.length,injector:p,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(C6),c.Y36(c.s_b),c.$8M("name"),c.Y36(c.sBO),c.Y36(c.lqb))},n.\u0275dir=c.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class Bw{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===cc?this.route:e===C6?this.childContexts:this.parent.get(e,t)}}let T8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[c.jDz],decls:1,vars:0,template:function(t,i){1&t&&c._UZ(0,"router-outlet")},dependencies:[M6],encapsulation:2}),n})();function Sv(n,e){return n.providers&&!n._injector&&(n._injector=(0,c.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Xh(n){const e=n.children&&n.children.map(Xh),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==hn&&(t.component=T8),t}function c2(n){return n.outlet||hn}function Jh(n,e){const t=n.filter(i=>c2(i)===e);return t.push(...n.filter(i=>c2(i)!==e)),t}function b6(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class jw{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),Wh(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=ac(t);e.children.forEach(s=>{const l=s.value.outlet;this.deactivateRoutes(s,r[l],i),delete r[l]}),br(r,(s,l)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(r===s)if(r.component){const l=i.getContext(r.outlet);l&&this.deactivateChildRoutes(e,t,l.children)}else this.deactivateChildRoutes(e,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=ac(e);for(const l of Object.keys(s))this.deactivateRouteAndItsChildren(s[l],r);if(i&&i.outlet){const l=i.outlet.detach(),d=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:l,route:e,contexts:d})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=ac(e);for(const l of Object.keys(s))this.deactivateRouteAndItsChildren(s[l],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=ac(t);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new zw(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Hw(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(Wh(r),r===s)if(r.component){const l=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,l.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const l=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const d=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),l.children.onOutletReAttached(d.contexts),l.attachRef=d.componentRef,l.route=d.route.value,l.outlet&&l.outlet.attach(d.componentRef,d.route.value),Wh(d.route.value),this.activateChildRoutes(e,null,l.children)}else{const d=b6(r.snapshot),p=d?.get(c._Vd)??null;l.attachRef=null,l.route=r,l.resolver=p,l.injector=d,l.outlet&&l.outlet.activateWith(r,l.injector),this.activateChildRoutes(e,null,l.children)}}else this.activateChildRoutes(e,null,i)}}class V8{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class U4{constructor(e,t){this.component=e,this.route=t}}function Dv(n,e,t){const i=n._root;return w6(i,e?e._root:null,t,[i.value])}function G4(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||(0,c.Z0I)(n)?e.get(n):n:i}function w6(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=ac(e);return n.children.forEach(l=>{(function t7(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,l=e?e.value:null,d=t?t.getContext(n.value.outlet):null;if(l&&s.routeConfig===l.routeConfig){const p=function $w(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!nc(n.url,e.url);case"pathParamsOrQueryParamsChange":return!nc(n.url,e.url)||!I2(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!D8(n,e)||!I2(n.queryParams,e.queryParams);default:return!D8(n,e)}}(l,s,s.routeConfig.runGuardsAndResolvers);p?r.canActivateChecks.push(new V8(i)):(s.data=l.data,s._resolvedData=l._resolvedData),w6(n,e,s.component?d?d.children:null:t,i,r),p&&d&&d.outlet&&d.outlet.isActivated&&r.canDeactivateChecks.push(new U4(d.outlet.component,l))}else l&&j4(e,d,r),r.canActivateChecks.push(new V8(i)),w6(n,null,s.component?d?d.children:null:t,i,r)})(l,s[l.value.outlet],t,i.concat([l.value]),r),delete s[l.value.outlet]}),br(s,(l,d)=>j4(l,t.getContext(d),r)),r}function j4(n,e,t){const i=ac(n),r=n.value;br(i,(s,l)=>{j4(s,r.component?e?e.children.getContext(l):null:e,t)}),t.canDeactivateChecks.push(new U4(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function h1(n){return"function"==typeof n}function H8(n){return n instanceof e8||"EmptyError"===n?.name}const $4=Symbol("INITIAL_VALUE");function lc(){return ni(n=>Qg(n.map(e=>e.pipe(yr(1),vs($4)))).pipe((0,Tt.U)(e=>{for(const t of e)if(!0!==t){if(t===$4)return $4;if(!1===t||t instanceof tc)return t}return!0}),mn(e=>e!==$4),yr(1)))}function i7(n){return(0,D2.z)((0,Ki.b)(e=>{if(ic(e))throw L8(0,e)}),(0,Tt.U)(e=>!0===e))}const r7={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ex(n,e,t,i,r){const s=Nv(n,e,t);return s.matched?function Jw(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?ct(r.map(l=>{const d=G4(l,n);return Po(function Ww(n){return n&&h1(n.canMatch)}(d)?d.canMatch(e,t):n.runInContext(()=>d(e,t)))})).pipe(lc(),i7()):ct(!0)}(i=Sv(e,i),e,t).pipe((0,Tt.U)(l=>!0===l?s:{...r7})):ct(s)}function Nv(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...r7}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||ev)(t,n,e);if(!r)return{...r7};const s={};br(r.posParams,(d,p)=>{s[p]=d.path});const l=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:l,positionalParamSegments:r.posParams??{}}}function z8(n,e,t,i,r="corrected"){if(t.length>0&&function Pv(n,e,t){return t.some(i=>k8(n,e,i)&&c2(i)!==hn)}(n,t,i)){const l=new yn(e,function Rv(n,e,t,i){const r={};r[hn]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&c2(s)!==hn){const l=new yn([],{});l._sourceSegment=n,l._segmentIndexShift=e.length,r[c2(s)]=l}return r}(n,e,i,new yn(t,n.children)));return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:[]}}if(0===t.length&&function Fv(n,e,t){return t.some(i=>k8(n,e,i))}(n,t,i)){const l=new yn(n.segments,function tx(n,e,t,i,r,s){const l={};for(const d of i)if(k8(n,t,d)&&!r[c2(d)]){const p=new yn([],{});p._sourceSegment=n,p._segmentIndexShift="legacy"===s?n.segments.length:e.length,l[c2(d)]=p}return{...r,...l}}(n,e,t,i,n.children,r));return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}const s=new yn(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function k8(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Ov(n,e,t,i){return!!(c2(n)===i||i!==hn&&k8(e,t,n))&&("**"===n.path||Nv(e,n,t).matched)}function s7(n,e,t){return 0===e.length&&!n.children[t]}const N8=!1;class R8{constructor(e){this.segmentGroup=e||null}}class Bv{constructor(e){this.urlTree=e}}function x6(n){return Pr(new R8(n))}function q4(n){return Pr(new Bv(n))}class $v{constructor(e,t,i,r,s){this.injector=e,this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0}apply(){const e=z8(this.urlTree.root,[],[],this.config).segmentGroup,t=new yn(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,hn).pipe((0,Tt.U)(s=>this.createUrlTree(w8(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(a2(s=>{if(s instanceof Bv)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof R8?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,hn).pipe((0,Tt.U)(r=>this.createUrlTree(w8(r),e.queryParams,e.fragment))).pipe(a2(r=>{throw r instanceof R8?this.noMatchError(r):r}))}noMatchError(e){return new c.vHH(4002,N8)}createUrlTree(e,t,i){const r=Pt(e);return new tc(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe((0,Tt.U)(s=>new yn([],s))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return(0,nn.D)(r).pipe(ec(s=>{const l=i.children[s],d=Jh(t,s);return this.expandSegmentGroup(e,d,l,s).pipe((0,Tt.U)(p=>({segment:p,outlet:s})))}),Ro((s,l)=>(s[l.outlet]=l.segment,s),{}),Ah())}expandSegment(e,t,i,r,s,l){return(0,nn.D)(i).pipe(ec(d=>this.expandSegmentAgainstRoute(e,t,i,d,r,s,l).pipe(a2(v=>{if(v instanceof R8)return ct(null);throw v}))),K1(d=>!!d),a2((d,p)=>{if(H8(d))return s7(t,r,s)?ct(new yn([],{})):x6(t);throw d}))}expandSegmentAgainstRoute(e,t,i,r,s,l,d){return Ov(r,t,s,l)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,s,l):d&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,l):x6(t):x6(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,l){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,l):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?q4(s):this.lineralizeSegments(i,s).pipe((0,Mr.z)(l=>{const d=new yn(l,{});return this.expandSegment(e,d,t,l,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,l){const{matched:d,consumedSegments:p,remainingSegments:v,positionalParamSegments:C}=Nv(t,r,s);if(!d)return x6(t);const w=this.applyRedirectCommands(p,r.redirectTo,C);return r.redirectTo.startsWith("/")?q4(w):this.lineralizeSegments(r,w).pipe((0,Mr.z)(A=>this.expandSegment(e,t,i,A.concat(v),l,!1)))}matchSegmentAgainstRoute(e,t,i,r,s){return"**"===i.path?(e=Sv(i,e),i.loadChildren?(i._loadedRoutes?ct({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(e,i)).pipe((0,Tt.U)(d=>(i._loadedRoutes=d.routes,i._loadedInjector=d.injector,new yn(r,{})))):ct(new yn(r,{}))):ex(t,i,r,e).pipe(ni(({matched:l,consumedSegments:d,remainingSegments:p})=>l?this.getChildConfig(e=i._injector??e,i,r).pipe((0,Mr.z)(C=>{const w=C.injector??e,A=C.routes,{segmentGroup:I,slicedSegments:k}=z8(t,d,p,A),j=new yn(I.segments,I.children);if(0===k.length&&j.hasChildren())return this.expandChildren(w,A,j).pipe((0,Tt.U)(qe=>new yn(d,qe)));if(0===A.length&&0===k.length)return ct(new yn(d,{}));const X=c2(i)===s;return this.expandSegment(w,j,A,k,X?hn:s,!0).pipe((0,Tt.U)(ke=>new yn(d.concat(ke.segments),ke.children)))})):x6(t)))}getChildConfig(e,t,i){return t.children?ct({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?ct({routes:t._loadedRoutes,injector:t._loadedInjector}):function uV(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?ct(!0):ct(r.map(l=>{const d=G4(l,n);return Po(function qw(n){return n&&h1(n.canLoad)}(d)?d.canLoad(e,t):n.runInContext(()=>d(e,t)))})).pipe(lc(),i7())}(e,t,i).pipe((0,Mr.z)(r=>r?this.configLoader.loadChildren(e,t).pipe((0,Ki.b)(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function Gv(n){return Pr(wv(N8,3))}())):ct({routes:[],injector:e})}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return ct(i);if(r.numberOfChildren>1||!r.children[hn])return Pr(new c.vHH(4e3,N8));r=r.children[hn]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const s=this.createSegmentGroup(e,t.root,i,r);return new tc(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return br(e,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const d=r.substring(1);i[s]=t[d]}else i[s]=r}),i}createSegmentGroup(e,t,i,r){const s=this.createSegments(e,t.segments,i,r);let l={};return br(t.children,(d,p)=>{l[p]=this.createSegmentGroup(e,d,i,r)}),new yn(s,l)}createSegments(e,t,i,r){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new c.vHH(4001,N8);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}class nx{}class Yv{constructor(e,t,i,r,s,l,d,p){this.injector=e,this.rootComponentType=t,this.config=i,this.urlTree=r,this.url=s,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=d,this.urlSerializer=p}recognize(){const e=z8(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,hn).pipe((0,Tt.U)(t=>{if(null===t)return null;const i=new y6([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},hn,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new J1(i,t),s=new Mv(this.url,r);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const t=e.value,i=Cv(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r)}processChildren(e,t,i){return(0,nn.D)(Object.keys(i.children)).pipe(ec(r=>{const s=i.children[r],l=Jh(t,r);return this.processSegmentGroup(e,l,s,r)}),Ro((r,s)=>r&&s?(r.push(...s),r):null),function Jg(n,e=!1){return(0,Li.e)((t,i)=>{let r=0;t.subscribe((0,ti.x)(i,s=>{const l=n(s,r++);(l||e)&&i.next(s),!l&&i.complete()}))})}(r=>null!==r),eh(null),Ah(),(0,Tt.U)(r=>{if(null===r)return null;const s=W4(r);return function ix(n){n.sort((e,t)=>e.value.outlet===hn?-1:t.value.outlet===hn?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}))}processSegment(e,t,i,r,s){return(0,nn.D)(t).pipe(ec(l=>this.processSegmentAgainstRoute(l._injector??e,l,i,r,s)),K1(l=>!!l),a2(l=>{if(H8(l))return s7(i,r,s)?ct([]):ct(null);throw l}))}processSegmentAgainstRoute(e,t,i,r,s){if(t.redirectTo||!Ov(t,i,r,s))return ct(null);let l;if("**"===t.path){const d=r.length>0?Vh(r).parameters:{},p=V2(i)+r.length;l=ct({snapshot:new y6(r,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,E6(t),c2(t),t.component??t._loadedComponent??null,t,P8(i),p,Y4(t),p),consumedSegments:[],remainingSegments:[]})}else l=ex(i,t,r,e).pipe((0,Tt.U)(({matched:d,consumedSegments:p,remainingSegments:v,parameters:C})=>{if(!d)return null;const w=V2(i)+p.length;return{snapshot:new y6(p,C,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,E6(t),c2(t),t.component??t._loadedComponent??null,t,P8(i),w,Y4(t),w),consumedSegments:p,remainingSegments:v}}));return l.pipe(ni(d=>{if(null===d)return ct(null);const{snapshot:p,consumedSegments:v,remainingSegments:C}=d;e=t._injector??e;const w=t._loadedInjector??e,A=function rx(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:I,slicedSegments:k}=z8(i,v,C,A.filter(X=>void 0===X.redirectTo),this.relativeLinkResolution);if(0===k.length&&I.hasChildren())return this.processChildren(w,A,I).pipe((0,Tt.U)(X=>null===X?null:[new J1(p,X)]));if(0===A.length&&0===k.length)return ct([new J1(p,[])]);const j=c2(t)===s;return this.processSegment(w,A,I,k,j?hn:s).pipe((0,Tt.U)(X=>null===X?null:[new J1(p,X)]))}))}}function sx(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function W4(n){const e=[],t=new Set;for(const i of n){if(!sx(i)){e.push(i);continue}const r=e.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=W4(i.children);e.push(new J1(i.value,r))}return e.filter(i=>!t.has(i))}function P8(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function V2(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function E6(n){return n.data||{}}function Y4(n){return n.resolve||{}}function Zv(n){return"string"==typeof n.title||null===n.title}function B8(n){return ni(e=>{const t=n(e);return t?(0,nn.D)(t).pipe((0,Tt.U)(()=>e)):ct(e)})}let o7=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===hn);return i}getResolvedTitleForRoute(t){return t.data[H4]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(U8)},providedIn:"root"}),n})(),U8=(()=>{class n extends o7{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(x2))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class fx{}class fV extends class hx{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const K4=new c.OlP("",{providedIn:"root",factory:()=>({})}),A6=new c.OlP("ROUTES");let D6=(()=>{class n{constructor(t,i){this.injector=t,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return ct(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=Po(t.loadComponent()).pipe((0,Ki.b)(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),Dh(()=>{this.componentLoaders.delete(t)})),r=new Xg(i,()=>new Yt.x).pipe(_8());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return ct({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,Tt.U)(d=>{this.onLoadEndListener&&this.onLoadEndListener(i);let p,v,C=!1;Array.isArray(d)?v=d:(p=d.create(t).injector,v=Th(p.get(A6,[],c.XFs.Self|c.XFs.Optional)));return{routes:v.map(Xh),injector:p}}),Dh(()=>{this.childrenLoaders.delete(i)})),l=new Xg(s,()=>new Yt.x).pipe(_8());return this.childrenLoaders.set(i,l),l}loadModuleFactoryOrRoutes(t){return Po(t()).pipe((0,Mr.z)(i=>i instanceof c.YKP||Array.isArray(i)?ct(i):(0,nn.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.zs3),c.LFG(c.Sil))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class px{}class mx{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function gx(n){throw n}function Qv(n,e,t){return e.parse("/")}const l7={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Xv={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function u7(){const n=(0,c.f3M)(zh),e=(0,c.f3M)(C6),t=(0,c.f3M)(Pe),i=(0,c.f3M)(c.zs3),r=(0,c.f3M)(c.Sil),s=(0,c.f3M)(A6,{optional:!0})??[],l=(0,c.f3M)(K4,{optional:!0})??{},d=(0,c.f3M)(U8),p=(0,c.f3M)(o7,{optional:!0}),v=(0,c.f3M)(px,{optional:!0}),C=(0,c.f3M)(fx,{optional:!0}),w=new hr(null,n,e,t,i,r,Th(s));return v&&(w.urlHandlingStrategy=v),C&&(w.routeReuseStrategy=C),w.titleStrategy=p??d,function Jv(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(l,w),w}let hr=(()=>{class n{constructor(t,i,r,s,l,d,p){this.rootComponentType=t,this.urlSerializer=i,this.rootContexts=r,this.location=s,this.config=p,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Yt.x,this.errorHandler=gx,this.malformedUriErrorHandler=Qv,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>ct(void 0),this.urlHandlingStrategy=new mx,this.routeReuseStrategy=new fV,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=l.get(D6),this.configLoader.onLoadEndListener=A=>this.triggerEvent(new _v(A)),this.configLoader.onLoadStartListener=A=>this.triggerEvent(new Tw(A)),this.ngModule=l.get(c.h0i),this.console=l.get(c.c2e);const w=l.get(c.R0b);this.isNgZoneEnabled=w instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(p),this.currentUrlTree=function vw(){return new tc(new yn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=yv(this.currentUrlTree,this.rootComponentType),this.transitions=new ts({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const i=this.events;return t.pipe(mn(r=>0!==r.id),(0,Tt.U)(r=>({...r,extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),ni(r=>{let s=!1,l=!1;return ct(r).pipe((0,Ki.b)(d=>{this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),ni(d=>{const p=this.browserUrlTree.toString(),v=!this.navigated||d.extractedUrl.toString()!==p||p!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||v)&&this.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return d7(d.source)&&(this.browserUrlTree=d.extractedUrl),ct(d).pipe(ni(w=>{const A=this.transitions.getValue();return i.next(new Gh(w.id,this.serializeUrl(w.extractedUrl),w.source,w.restoredState)),A!==this.transitions.getValue()?l1.E:Promise.resolve(w)}),function qv(n,e,t,i){return ni(r=>function jv(n,e,t,i,r){return new $v(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe((0,Tt.U)(s=>({...r,urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Ki.b)(w=>{this.currentNavigation={...this.currentNavigation,finalUrl:w.urlAfterRedirects},r.urlAfterRedirects=w.urlAfterRedirects}),function ax(n,e,t,i,r,s){return(0,Mr.z)(l=>function Wv(n,e,t,i,r,s,l="emptyOnly",d="legacy"){return new Yv(n,e,t,i,r,l,d,s).recognize().pipe(ni(p=>null===p?function dV(n){return new Di.y(e=>e.error(n))}(new nx):ct(p)))}(n,e,t,l.urlAfterRedirects,i.serialize(l.urlAfterRedirects),i,r,s).pipe((0,Tt.U)(d=>({...l,targetSnapshot:d}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Ki.b)(w=>{if(r.targetSnapshot=w.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!w.extras.skipLocationChange){const I=this.urlHandlingStrategy.merge(w.urlAfterRedirects,w.rawUrl);this.setBrowserUrl(I,w)}this.browserUrlTree=w.urlAfterRedirects}const A=new Lw(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);i.next(A)}));if(v&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:A,extractedUrl:I,source:k,restoredState:j,extras:X}=d,xe=new Gh(A,this.serializeUrl(I),k,j);i.next(xe);const ke=yv(I,this.rootComponentType).snapshot;return ct(r={...d,targetSnapshot:ke,urlAfterRedirects:I,extras:{...X,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=d.rawUrl,d.resolve(null),l1.E}),(0,Ki.b)(d=>{const p=new Iw(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);this.triggerEvent(p)}),(0,Tt.U)(d=>r={...d,guards:Dv(d.targetSnapshot,d.currentSnapshot,this.rootContexts)}),function Vv(n,e){return(0,Mr.z)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:l}}=t;return 0===l.length&&0===s.length?ct({...t,guardsResult:!0}):function Hv(n,e,t,i){return(0,nn.D)(n).pipe((0,Mr.z)(r=>function kv(n,e,t,i,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?ct(s.map(d=>{const p=b6(e)??r,v=G4(d,p);return Po(function n7(n){return n&&h1(n.canDeactivate)}(v)?v.canDeactivate(n,e,t,i):p.runInContext(()=>v(n,e,t,i))).pipe(K1())})).pipe(lc()):ct(!0)}(r.component,r.route,t,e,i)),K1(r=>!0!==r,!0))}(l,i,r,n).pipe((0,Mr.z)(d=>d&&function Lv(n){return"boolean"==typeof n}(d)?function zv(n,e,t,i){return(0,nn.D)(e).pipe(ec(r=>h6(function Zw(n,e){return null!==n&&e&&e(new Vw(n)),ct(!0)}(r.route.parent,i),function Kw(n,e){return null!==n&&e&&e(new iV(n)),ct(!0)}(r.route,i),function Xw(n,e,t){const i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(l=>function e7(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(l)).filter(l=>null!==l).map(l=>ks(()=>ct(l.guards.map(p=>{const v=b6(l.node)??t,C=G4(p,v);return Po(function Iv(n){return n&&h1(n.canActivateChild)}(C)?C.canActivateChild(i,n):v.runInContext(()=>C(i,n))).pipe(K1())})).pipe(lc())));return ct(s).pipe(lc())}(n,r.path,t),function Qw(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return ct(!0);const r=i.map(s=>ks(()=>{const l=b6(e)??t,d=G4(s,l);return Po(function lV(n){return n&&h1(n.canActivate)}(d)?d.canActivate(e,n):l.runInContext(()=>d(e,n))).pipe(K1())}));return ct(r).pipe(lc())}(n,r.route,t))),K1(r=>!0!==r,!0))}(i,s,n,e):ct(d)),(0,Tt.U)(d=>({...t,guardsResult:d})))})}(this.ngModule.injector,d=>this.triggerEvent(d)),(0,Ki.b)(d=>{if(r.guardsResult=d.guardsResult,ic(d.guardsResult))throw L8(0,d.guardsResult);const p=new mv(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.triggerEvent(p)}),mn(d=>!!d.guardsResult||(this.restoreHistory(d),this.cancelNavigationTransition(d,"",3),!1)),B8(d=>{if(d.guards.canActivateChecks.length)return ct(d).pipe((0,Ki.b)(p=>{const v=new gv(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(v)}),ni(p=>{let v=!1;return ct(p).pipe(function cx(n,e){return(0,Mr.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return ct(t);let s=0;return(0,nn.D)(r).pipe(ec(l=>function lx(n,e,t,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!Zv(r)&&(s[H4]=r.title),function F8(n,e,t,i){const r=function O8(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return ct({});const s={};return(0,nn.D)(r).pipe((0,Mr.z)(l=>function ux(n,e,t,i){const r=b6(e)??i,s=G4(n,r);return Po(s.resolve?s.resolve(e,t):r.runInContext(()=>s(e,t)))}(n[l],e,t,i).pipe(K1(),(0,Ki.b)(d=>{s[l]=d}))),Eh(1),p6(s),a2(l=>H8(l)?l1.E:Pr(l)))}(s,n,e,i).pipe((0,Tt.U)(l=>(n._resolvedData=l,n.data=Cv(n,t).resolve,r&&Zv(r)&&(n.data[H4]=r.title),null)))}(l.route,i,n,e)),(0,Ki.b)(()=>s++),Eh(1),(0,Mr.z)(l=>s===r.length?ct(t):l1.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Ki.b)({next:()=>v=!0,complete:()=>{v||(this.restoreHistory(p),this.cancelNavigationTransition(p,"",2))}}))}),(0,Ki.b)(p=>{const v=new vv(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(v)}))}),B8(d=>{const p=v=>{const C=[];v.routeConfig?.loadComponent&&!v.routeConfig._loadedComponent&&C.push(this.configLoader.loadComponent(v.routeConfig).pipe((0,Ki.b)(w=>{v.component=w}),(0,Tt.U)(()=>{})));for(const w of v.children)C.push(...p(w));return C};return Qg(p(d.targetSnapshot.root)).pipe(eh(),yr(1))}),B8(()=>this.afterPreactivation()),(0,Tt.U)(d=>{const p=function Pw(n,e,t){const i=B4(n,e._root,t?t._root:void 0);return new F4(i,e)}(this.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return r={...d,targetRouterState:p}}),(0,Ki.b)(d=>{this.currentUrlTree=d.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl),this.routerState=d.targetRouterState,"deferred"===this.urlUpdateStrategy&&(d.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,d),this.browserUrlTree=d.urlAfterRedirects)}),((n,e,t)=>(0,Tt.U)(i=>(new jw(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,d=>this.triggerEvent(d)),(0,Ki.b)({next(){s=!0},complete(){s=!0}}),Dh(()=>{s||l||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),a2(d=>{if(l=!0,Zh(d)){Kh(d)||(this.navigated=!0,this.restoreHistory(r,!0));const p=new Bo(r.id,this.serializeUrl(r.extractedUrl),d.message,d.cancellationCode);if(i.next(p),Kh(d)){const v=this.urlHandlingStrategy.merge(d.url,this.rawUrlTree),C={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||d7(r.source)};this.scheduleNavigation(v,"imperative",null,C,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{this.restoreHistory(r,!0);const p=new pv(r.id,this.serializeUrl(r.extractedUrl),d,r.targetSnapshot??void 0);i.next(p);try{r.resolve(this.errorHandler(d))}catch(v){r.reject(v)}}return l1.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},s=t.state?.navigationId?t.state:null;if(s){const d={...s};delete d.navigationId,delete d.\u0275routerPageId,0!==Object.keys(d).length&&(r.state=d)}const l=this.parseUrl(t.url);this.scheduleNavigation(l,i,s,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(Xh),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:s,fragment:l,queryParamsHandling:d,preserveFragment:p}=i,v=r||this.routerState.root,C=p?this.currentUrlTree.fragment:l;let w=null;switch(d){case"merge":w={...this.currentUrlTree.queryParams,...s};break;case"preserve":w=this.currentUrlTree.queryParams;break;default:w=s||null}return null!==w&&(w=this.removeEmptyProps(w)),Ii(v,this.currentUrlTree,t,w,C??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=ic(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,i)}navigate(t,i={skipLocationChange:!1}){return function vx(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new c.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...l7}:!1===i?{...Xv}:i,ic(t))return iv(this.currentUrlTree,t,r);const s=this.parseUrl(t);return iv(this.currentUrlTree,s,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const s=t[r];return null!=s&&(i[r]=s),i},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new T2(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,i,r,s,l){if(this.disposed)return Promise.resolve(!1);let d,p,v;l?(d=l.resolve,p=l.reject,v=l.promise):v=new Promise((A,I)=>{d=A,p=I});const C=++this.navigationId;let w;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),w=r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):w=0,this.setTransition({id:C,targetPageId:w,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:d,reject:p,promise:v,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),v.catch(A=>Promise.reject(A))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t),s={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===r?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===r&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,i,r){const s=new Bo(t.id,this.serializeUrl(t.extractedUrl),i,r);this.triggerEvent(s),t.resolve(!1)}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:function(){return u7()},providedIn:"root"}),n})();function d7(n){return"imperative"!==n}class Fr{}let yx=(()=>{class n{constructor(t,i,r,s,l){this.router=t,this.injector=r,this.preloadingStrategy=s,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(mn(t=>t instanceof T2),ec(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=(0,c.MMx)(s.providers,t,`Route: ${s.path}`));const l=s._injector??t,d=s._loadedInjector??l;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?r.push(this.preloadConfig(l,s)):(s.children||s._loadedRoutes)&&r.push(this.processRoutes(d,s.children??s._loadedRoutes))}return(0,nn.D)(r).pipe((0,gs.J)())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):ct(null);const s=r.pipe((0,Mr.z)(l=>null===l?ct(void 0):(i._loadedRoutes=l.routes,i._loadedInjector=l.injector,this.processRoutes(l.injector??t,l.routes))));if(i.loadComponent&&!i._loadedComponent){const l=this.loader.loadComponent(i);return(0,nn.D)([s,l]).pipe((0,gs.J)())}return s})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(hr),c.LFG(c.Sil),c.LFG(c.lqb),c.LFG(Fr),c.LFG(D6))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const t_=new c.OlP("");let Cx=(()=>{class n{constructor(t,i,r={}){this.router=t,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Gh?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof T2&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof kw&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.router.triggerEvent(new kw(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function Q4(n,e){return{\u0275kind:n,\u0275providers:e}}function T6(n){return[{provide:A6,multi:!0,useValue:n}]}function h7(){const n=(0,c.f3M)(c.zs3);return e=>{const t=n.get(c.z2F);if(e!==t.components[0])return;const i=n.get(hr),r=n.get(n_);1===n.get(p7)&&i.initialNavigation(),n.get(g7,null,c.XFs.Optional)?.setUpPreloading(),n.get(t_,null,c.XFs.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.next(),r.complete()}}const n_=new c.OlP("",{factory:()=>new Yt.x}),p7=new c.OlP("",{providedIn:"root",factory:()=>1});const g7=new c.OlP("");function $8(n){return Q4(0,[{provide:g7,useExisting:yx},{provide:Fr,useExisting:n}])}const s_=new c.OlP("ROUTER_FORROOT_GUARD"),o_=[Pe,{provide:zh,useClass:C8},{provide:hr,useFactory:u7},C6,{provide:cc,useFactory:function Z4(n){return n.routerState.root},deps:[hr]},D6];function X4(){return new c.PXZ("Router",hr)}let a_=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[o_,[],T6(t),{provide:s_,useFactory:xx,deps:[[hr,new c.FiY,new c.tp0]]},{provide:K4,useValue:i||{}},i?.useHash?{provide:Me,useClass:et}:{provide:Me,useClass:lt},{provide:t_,useFactory:()=>{const n=(0,c.f3M)(hr),e=(0,c.f3M)(Rc),t=(0,c.f3M)(K4);return t.scrollOffset&&e.setOffset(t.scrollOffset),new Cx(n,e,t)}},i?.preloadingStrategy?$8(i.preloadingStrategy).\u0275providers:[],{provide:c.PXZ,multi:!0,useFactory:X4},i?.initialNavigation?gV(i):[],[{provide:l_,useFactory:h7},{provide:c.tb,multi:!0,useExisting:l_}]]}}static forChild(t){return{ngModule:n,providers:[T6(t)]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(s_,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[T8]}),n})();function xx(n){return"guarded"}function gV(n){return["disabled"===n.initialNavigation?Q4(3,[{provide:c.ip1,multi:!0,useFactory:()=>{const e=(0,c.f3M)(hr);return()=>{e.setUpLocationChangeListener()}}},{provide:p7,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Q4(2,[{provide:p7,useValue:0},{provide:c.ip1,multi:!0,deps:[c.zs3],useFactory:e=>{const t=e.get(K,Promise.resolve());let i=!1;return()=>t.then(()=>new Promise(s=>{const l=e.get(hr),d=e.get(n_);(function r(s){e.get(hr).events.pipe(mn(d=>d instanceof T2||d instanceof Bo||d instanceof pv),(0,Tt.U)(d=>d instanceof T2||d instanceof Bo&&(0===d.code||1===d.code)&&null),mn(d=>null!==d),yr(1)).subscribe(()=>{s()})})(()=>{s(!0),i=!0}),l.afterPreactivation=()=>(s(!0),i||d.closed?ct(void 0):d),l.initialNavigation()}))}}]).\u0275providers:[]]}const l_=new c.OlP("");function V6(n,e=qa.y){return n=n??Ex,(0,Li.e)((t,i)=>{let r,s=!0;t.subscribe((0,ti.x)(i,l=>{const d=e(l);(s||!n(r,d))&&(s=!1,r=d,i.next(l))}))})}function Ex(n,e){return n===e}function H6(){return(0,Li.e)((n,e)=>{let t,i=!1;n.subscribe((0,ti.x)(e,r=>{const s=t;t=r,i&&e.next([s,r]),i=!0}))})}const zx="firebase_screen_id",J4="outlet",Uo="screen_class",y7="screen_name";let h_=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const M7={},p_=n=>{const e=[n[Uo],n[J4]].join("#");if(M7.hasOwnProperty(e))return M7[e];{const t=h_++;return M7[e]=t,t}},Px=new c.OlP("angularfire2.analytics.analyticsCollectionEnabled"),Fx=new c.OlP("angularfire2.analytics.appVersion"),HV=new c.OlP("angularfire2.analytics.appName"),Ox=new c.OlP("angularfire2.analytics.debugMode"),m_=new c.OlP("angularfire2.analytics.config"),K8="dataLayer";let z6=(()=>{class n{constructor(t,i,r,s,l,d,p,v,C){if(this.analyticsInitialized=new Promise(()=>{}),si(p)){window[K8]=window[K8]||[];const A=(...j)=>"config"===j[0]&&"firebase"===j[2].origin&&(this.measurementId=j[1],!0),I=j=>{window.gtag=(...X)=>{j&&j(...X),"event"===X[0]&&X[2].send_to===this.measurementId&&(s&&(X[2].app_name=s),r&&(X[2].app_version=r)),l&&typeof console<"u"&&console.info(...X),function(...xe){window[K8].push(arguments)}(...X)}};window[K8].some(A)?(this.analyticsInitialized=Promise.resolve(),I()):this.analyticsInitialized=new Promise(j=>{I((...X)=>{A(...X)&&j()})}),d&&this.updateConfig(d),l&&this.updateConfig({debug_mode:1})}else this.analyticsInitialized=Promise.resolve();const w=ct(void 0).pipe((0,$a.Q)(C.outsideAngular),ni(Kg.Gb),ni(A=>A?v.runOutsideAngular(()=>R.e(643).then(R.bind(R,8643))):l1.E),(0,Tt.U)(()=>(0,pi.cc)("analytics","AngularFireAnalytics",t.name,()=>{const A=t.analytics();return!1===i&&A.setAnalyticsCollectionEnabled(!1),A},[t,i,d,l])),Ju({bufferSize:1,refCount:!1}));return(0,pi.pX)(this,w,v)}updateConfig(t){return(0,Yg.mG)(this,void 0,void 0,function*(){yield this.analyticsInitialized,window.gtag("config",this.measurementId,Object.assign(Object.assign({},t),{update:!0}))})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(pi.Ot),c.LFG(Px,8),c.LFG(Fx,8),c.LFG(HV,8),c.LFG(Ox,8),c.LFG(m_,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(fn.HU))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Z8=(()=>{class n{constructor(t,i,r,s){if(this.disposables=[],Ja.Z.registerVersion("angularfire",fn.q4.full,"compat-user-tracking"),Kr(i))this.initialized=Promise.resolve();else{let l;this.initialized=s.runOutsideAngular(()=>new Promise(d=>l=d)),this.disposables=[r.authState.subscribe(d=>{t.setUserId(d?.uid),l()}),r.credential.subscribe(d=>{if(d){const p=d.user.isAnonymous?"anonymous":d.additionalUserInfo.providerId;d.additionalUserInfo.isNewUser&&t.logEvent("sign_up",{method:p}),t.logEvent("login",{method:p})}})]}}ngOnDestroy(){this.disposables.forEach(t=>t.unsubscribe())}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(z6),c.LFG(c.Lbi),c.LFG(o2),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Gx=(()=>{class n{constructor(t,i,r,s,l,d){if(Ja.Z.registerVersion("angularfire",fn.q4.full,"compat-screen-tracking"),!i||!t)return this;l.runOutsideAngular(()=>{this.disposable=((n,e,t)=>n.events.pipe(mn(r=>r instanceof zw)).pipe(ni(r=>{var s;const d=(null===(s=n.parseUrl(n.url.replace(/(?:\().+(?:\))/g,I=>I.replace("://",":///"))).root.children[r.snapshot.outlet])||void 0===s?void 0:s.toString())||"",p=n.routerState.root.children.map(I=>I).find(I=>I.outlet===r.snapshot.outlet);if(!p)return ct(null);let v=p;for(;v.firstChild;)v=v.firstChild;const C=v.pathFromRoot.map(I=>{var k;return null===(k=I.routeConfig)||void 0===k?void 0:k.path}).filter(I=>I).join("/")||"/",w={[y7]:C,page_path:`/${d}`,firebase_event_origin:"auto",firebase_screen:C,[J4]:r.snapshot.outlet};e&&(w.page_title=e.getTitle());let A=p.component;if(A){if(A===T8){let I=r.snapshot;for(;I.firstChild;)I=I.firstChild;A=I.component}}else A=r.snapshot.component;if("string"==typeof A)return ct(Object.assign(Object.assign({},w),{[Uo]:A}));if(A){const I=t.resolveComponentFactory(A);return ct(Object.assign(Object.assign({},w),{[Uo]:I.selector}))}return ct(null)}),mn(r=>!!r),(0,Tt.U)(r=>Object.assign({firebase_screen_class:r[Uo],[zx]:p_(r)},r)),function u_(n,e,t,i){return(0,Li.e)((r,s)=>{let l;e&&"function"!=typeof e?({duration:t,element:l,connector:i}=e):l=e;const d=new Map,p=k=>{d.forEach(k),k(s)},v=k=>p(j=>j.error(k));let C=0,w=!1;const A=new ti.Q(s,k=>{try{const j=n(k);let X=d.get(j);if(!X){d.set(j,X=i?i():new Yt.x);const xe=function I(k,j){const X=new Di.y(xe=>{C++;const ke=j.subscribe(xe);return()=>{ke.unsubscribe(),0==--C&&w&&A.unsubscribe()}});return X.key=k,X}(j,X);if(s.next(xe),t){const ke=(0,ti.x)(X,()=>{X.complete(),ke?.unsubscribe()},void 0,void 0,()=>d.delete(j));A.add((0,G1.Xf)(t(xe)).subscribe(ke))}}X.next(l?l(k):k)}catch(j){v(j)}},()=>p(k=>k.complete()),v,()=>d.clear(),()=>(w=!0,0===C));r.subscribe(A)})}(r=>r[J4]),(0,Mr.z)(r=>r.pipe(V6((s,l)=>JSON.stringify(s)===JSON.stringify(l)),vs(void 0),H6(),(0,Tt.U)(([s,l])=>s?Object.assign({firebase_previous_class:s[Uo],firebase_previous_screen:s[y7],firebase_previous_id:s[zx]},l):l)))))(i,r,s).pipe(ni(p=>(0,Yg.mG)(this,void 0,void 0,function*(){return d&&(yield d.initialized),yield t.logEvent("screen_view",p)}))).subscribe()})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(z6),c.LFG(hr,8),c.LFG(x2,8),c.LFG(c._Vd),c.LFG(c.R0b),c.LFG(Z8,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),w7=(()=>{class n{constructor(t,i,r){Ja.Z.registerVersion("angularfire",fn.q4.full,"analytics-compat"),t.app.then(()=>{})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(z6),c.LFG(Gx,8),c.LFG(Z8,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[z6]}),n})();var Dt,uc=R(4986),x7=(R(5881),R(3942)),v_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},p1={},Q8=Q8||{},Jt=v_||self;function e3(){}function z2(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function t3(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var k2="closure_uid_"+(1e9*Math.random()>>>0),$x=0;function kV(n,e,t){return n.call.apply(n.bind,arguments)}function qx(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function Or(n,e,t){return(Or=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?kV:qx).apply(null,arguments)}function X8(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Lr(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(i,r,s){for(var l=Array(arguments.length-2),d=2;d<arguments.length;d++)l[d-2]=arguments[d];return e.prototype[r].apply(i,l)}}function eo(){this.s=this.s,this.o=this.o}eo.prototype.s=!1,eo.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function S7(n){Object.prototype.hasOwnProperty.call(n,k2)&&n[k2]||(n[k2]=++$x)}(this)},eo.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const E7=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function A7(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function D7(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(z2(i)){const r=n.length||0,s=i.length||0;n.length=r+s;for(let l=0;l<s;l++)n[r+l]=i[l]}else n.push(i)}}function ns(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}ns.prototype.h=function(){this.defaultPrevented=!0};var L7=function(){if(!Jt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Jt.addEventListener("test",e3,e),Jt.removeEventListener("test",e3,e)}catch{}return n}();function k6(n){return/^[\s\xa0]*$/.test(n)}var I7=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function J8(n,e){return n<e?-1:n>e?1:0}function N6(){var n=Jt.navigator;return n&&(n=n.userAgent)?n:""}function N2(n){return-1!=N6().indexOf(n)}function n3(n){return n3[" "](n),n}n3[" "]=e3;var V7,n,__=N2("Opera"),r3=N2("Trident")||N2("MSIE"),T7=N2("Edge"),td=T7||r3,y_=N2("Gecko")&&!(-1!=N6().toLowerCase().indexOf("webkit")&&!N2("Edge"))&&!(N2("Trident")||N2("MSIE"))&&!N2("Edge"),Wx=-1!=N6().toLowerCase().indexOf("webkit")&&!N2("Edge");function Yx(){var n=Jt.document;return n?n.documentMode:void 0}e:{var nd="",H7=(n=N6(),y_?/rv:([^\);]+)(\)|;)/.exec(n):T7?/Edge\/([\d\.]+)/.exec(n):r3?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Wx?/WebKit\/(\S+)/.exec(n):__?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(H7&&(nd=H7?H7[1]:""),r3){var z7=Yx();if(null!=z7&&z7>parseFloat(nd)){V7=String(z7);break e}}V7=nd}var Kx={};var PV=Jt.document&&r3&&(Yx()||parseInt(V7,10))||void 0;function id(n,e){if(ns.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(y_){e:{try{n3(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Qx[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&id.X.h.call(this)}}Lr(id,ns);var Qx={2:"touch",3:"pen",4:"mouse"};id.prototype.h=function(){id.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Go="closure_listenable_"+(1e6*Math.random()|0),Xx=0;function Jx(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.ha=r,this.key=++Xx,this.ba=this.ea=!1}function R6(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function to(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function k7(n){const e={};for(const t in n)e[t]=n[t];return e}const rd="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function sd(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let s=0;s<rd.length;s++)t=rd[s],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function od(n){this.src=n,this.g={},this.h=0}function P6(n,e){var t=e.type;if(t in n.g){var s,i=n.g[t],r=E7(i,e);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(R6(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function F6(n,e,t,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.ba&&s.listener==e&&s.capture==!!t&&s.ha==i)return r}return-1}od.prototype.add=function(n,e,t,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var l=F6(n,e,i,r);return-1<l?(e=n[l],t||(e.ea=!1)):((e=new Jx(e,this.src,s,!!i,r)).ea=t,n.push(e)),e};var s3="closure_lm_"+(1e6*Math.random()|0),M_={};function eS(n,e,t,i,r){if(i&&i.once)return N7(n,e,t,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)eS(n,e[s],t,i,r);return null}return t=ld(t),n&&n[Go]?n.N(e,t,t3(i)?!!i.capture:!!i,r):tS(n,e,t,!1,i,r)}function tS(n,e,t,i,r,s){if(!e)throw Error("Invalid event type");var l=t3(r)?!!r.capture:!!r,d=ad(n);if(d||(n[s3]=d=new od(n)),(t=d.add(e,t,i,l,s)).proxy)return t;if(i=function FV(){const e=nS;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)L7||(r=l),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(w_(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function N7(n,e,t,i,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)N7(n,e[s],t,i,r);return null}return t=ld(t),n&&n[Go]?n.O(e,t,t3(i)?!!i.capture:!!i,r):tS(n,e,t,!0,i,r)}function b_(n,e,t,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)b_(n,e[s],t,i,r);else i=t3(i)?!!i.capture:!!i,t=ld(t),n&&n[Go]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=F6(s=n.g[e],t,i,r))&&(R6(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=ad(n))&&(e=n.g[e.toString()],n=-1,e&&(n=F6(e,t,i,r)),(t=-1<n?e[n]:null)&&R7(t))}function R7(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[Go])P6(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(w_(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=ad(e))?(P6(t,n),0==t.h&&(t.src=null,e[s3]=null)):R6(n)}}}function w_(n){return n in M_?M_[n]:M_[n]="on"+n}function nS(n,e){if(n.ba)n=!0;else{e=new id(e,this);var t=n.listener,i=n.ha||n.src;n.ea&&R7(n),n=t.call(i,e)}return n}function ad(n){return(n=n[s3])instanceof od?n:null}var cd="__closure_events_fn_"+(1e9*Math.random()>>>0);function ld(n){return"function"==typeof n?n:(n[cd]||(n[cd]=function(e){return n.handleEvent(e)}),n[cd])}function wr(){eo.call(this),this.i=new od(this),this.P=this,this.I=null}function Ir(n,e){var t,i=n.I;if(i)for(t=[];i;i=i.I)t.push(i);if(n=n.P,i=e.type||e,"string"==typeof e)e=new ns(e,n);else if(e instanceof ns)e.target=e.target||n;else{var r=e;sd(e=new ns(i,n),r)}if(r=!0,t)for(var s=t.length-1;0<=s;s--){var l=e.g=t[s];r=O6(l,i,!0,e)&&r}if(r=O6(l=e.g=n,i,!0,e)&&r,r=O6(l,i,!1,e)&&r,t)for(s=0;s<t.length;s++)r=O6(l=e.g=t[s],i,!1,e)&&r}function O6(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var l=e[s];if(l&&!l.ba&&l.capture==t){var d=l.listener,p=l.ha||l.src;l.ea&&P6(n.i,l),r=!1!==d.call(p,i)&&r}}return r&&!i.defaultPrevented}Lr(wr,eo),wr.prototype[Go]=!0,wr.prototype.removeEventListener=function(n,e,t,i){b_(this,n,e,t,i)},wr.prototype.M=function(){if(wr.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)R6(t[i]);delete n.g[e],n.h--}}this.I=null},wr.prototype.N=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},wr.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var B6=Jt.JSON.stringify;function OV(){var n=E_;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var S_,ud=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new iS,n=>n.reset());class iS{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function rS(n){Jt.setTimeout(()=>{throw n},0)}function sS(n,e){S_||function oS(){var n=Jt.Promise.resolve(void 0);S_=function(){n.then(BV)}}(),P7||(S_(),P7=!0),E_.add(n,e)}var P7=!1,E_=new class x_{constructor(){this.h=this.g=null}add(e,t){const i=ud.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}};function BV(){for(var n;n=OV();){try{n.h.call(n.g)}catch(t){rS(t)}var e=ud;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}P7=!1}function F7(n,e){wr.call(this),this.h=n||1,this.g=e||Jt,this.j=Or(this.lb,this),this.l=Date.now()}function A_(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function D_(n,e,t){if("function"==typeof n)t&&(n=Or(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Or(n.handleEvent,n)}return 2147483647<Number(e)?-1:Jt.setTimeout(n,e||0)}function aS(n){n.g=D_(()=>{n.g=null,n.i&&(n.i=!1,aS(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Lr(F7,wr),(Dt=F7.prototype).ca=!1,Dt.R=null,Dt.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Ir(this,"tick"),this.ca&&(A_(this),this.start()))}},Dt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Dt.M=function(){F7.X.M.call(this),A_(this),delete this.g};class cS extends eo{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:aS(this)}M(){super.M(),this.g&&(Jt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function dd(n){eo.call(this),this.h=n,this.g={}}Lr(dd,eo);var lS=[];function uS(n,e,t,i){Array.isArray(t)||(t&&(lS[0]=t.toString()),t=lS);for(var r=0;r<t.length;r++){var s=eS(e,t[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function dS(n){to(n.g,function(e,t){this.g.hasOwnProperty(t)&&R7(e)},n),n.g={}}function O7(){this.g=!0}function a(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function f(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var l=1;l<r.length;l++)r[l]=""}}}return B6(t)}catch{return e}}(n,t)+(i?" "+i:"")})}dd.prototype.M=function(){dd.X.M.call(this),dS(this)},dd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},O7.prototype.Aa=function(){this.g=!1},O7.prototype.info=function(){};var h={},m=null;function y(){return m=m||new wr}function b(n){ns.call(this,h.Pa,n)}function S(n){const e=y();Ir(e,new b(e))}function E(n,e){ns.call(this,h.STAT_EVENT,n),this.stat=e}function T(n){const e=y();Ir(e,new E(e,n))}function U(n,e){ns.call(this,h.Qa,n),this.size=e}function Z(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Jt.setTimeout(function(){n()},e)}h.Pa="serverreachability",Lr(b,ns),h.STAT_EVENT="statevent",Lr(E,ns),h.Qa="timingevent",Lr(U,ns);var ae={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Le={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Ye(){}function yt(){}Ye.prototype.h=null;var Ln,zt={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Fe(){ns.call(this,"d")}function Bt(){ns.call(this,"c")}function Kn(){}function R2(n,e,t,i){this.l=n,this.j=e,this.m=t,this.U=i||1,this.S=new dd(this),this.O=B7,this.T=new F7(n=td?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new fd}function fd(){this.i=null,this.g="",this.h=!1}Lr(Fe,ns),Lr(Bt,ns),Lr(Kn,Ye),Kn.prototype.g=function(){return new XMLHttpRequest},Kn.prototype.i=function(){return{}},Ln=new Kn;var B7=45e3,U6={},o3={};function G6(n,e,t){n.K=1,n.v=V_(dc(e)),n.s=t,n.P=!0,hd(n,null)}function hd(n,e){n.F=Date.now(),G7(n),n.A=dc(n.v);var t=n.A,i=n.U;Array.isArray(i)||(i=[String(i)]),ZV(t.i,"t",i),n.C=0,t=n.l.H,n.h=new fd,n.g=CH(n.l,t?e:null,!n.s),0<n.N&&(n.L=new cS(Or(n.La,n,n.g),n.N)),uS(n.S,n.g,"readystatechange",n.ib),e=n.H?k7(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),S(),function UV(n,e,t,i,r,s){n.info(function(){if(n.g)if(s)for(var l="",d=s.split("&"),p=0;p<d.length;p++){var v=d[p].split("=");if(1<v.length){var C=v[0];v=v[1];var w=C.split("_");l=2<=w.length&&"type"==w[1]?l+(C+"=")+v+"&":l+(C+"=redacted&")}}else l=null;else l=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+l})}(n.j,n.u,n.A,n.m,n.U,n.s)}function pd(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function md(n,e,t){let r,i=!0;for(;!n.I&&n.C<t.length;){if(r=U7(n,t),r==o3){4==e&&(n.o=4,T(14),i=!1),a(n.j,n.m,null,"[Incomplete Response]");break}if(r==U6){n.o=4,T(15),a(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}a(n.j,n.m,r,null),fS(n,r)}pd(n)&&r!=o3&&r!=U6&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,T(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),CS(e),e.K=!0,T(11))):(a(n.j,n.m,t,"[Invalid Chunked Response]"),j6(n),j7(n))}function U7(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?o3:(t=Number(e.substring(t,i)),isNaN(t)?U6:(i+=1)+t>e.length?o3:(e=e.substr(i,t),n.C=i+t,e))}function G7(n){n.V=Date.now()+n.O,GV(n,n.O)}function GV(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Z(Or(n.gb,n),e)}function L_(n){n.B&&(Jt.clearTimeout(n.B),n.B=null)}function j7(n){0==n.l.G||n.I||gH(n.l,n)}function j6(n){L_(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,A_(n.T),dS(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function fS(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||hS(t.h,n)))if(!n.J&&hS(t.h,n)&&3==t.G){try{var i=t.Fa.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;P_(t),N_(t)}yS(t),T(18)}}else t.Ba=r[1],0<t.Ba-t.T&&37500>r[2]&&t.L&&0==t.A&&!t.v&&(t.v=Z(Or(t.cb,t),6e3));if(1>=JV(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else q6(t,11)}else if((n.J||t.g==n)&&P_(t),!k6(e))for(r=t.Fa.g.parse(e),e=0;e<r.length;e++){let v=r[e];if(t.T=v[0],v=v[1],2==t.G)if("c"==v[0]){t.I=v[1],t.ka=v[2];const C=v[3];null!=C&&(t.ma=C,t.j.info("VER="+t.ma));const w=v[4];null!=w&&(t.Ca=w,t.j.info("SVER="+t.Ca));const A=v[5];null!=A&&"number"==typeof A&&0<A&&(t.J=i=1.5*A,t.j.info("backChannelRequestTimeoutMs_="+i)),i=t;const I=n.g;if(I){const k=I.g?I.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(k){var s=i.h;s.g||-1==k.indexOf("spdy")&&-1==k.indexOf("quic")&&-1==k.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(pS(s,s.h),s.h=null))}if(i.D){const j=I.g?I.g.getResponseHeader("X-HTTP-Session-Id"):null;j&&(i.za=j,Ti(i.F,i.D,j))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var l=n;if((i=t).sa=yH(i,i.H?i.ka:null,i.V),l.J){eH(i.h,l);var d=l,p=i.J;p&&d.setTimeout(p),d.B&&(L_(d),G7(d)),i.g=l}else pH(i);0<t.i.length&&R_(t)}else"stop"!=v[0]&&"close"!=v[0]||q6(t,7);else 3==t.G&&("stop"==v[0]||"close"==v[0]?"stop"==v[0]?q6(t,7):_S(t):"noop"!=v[0]&&t.l&&t.l.wa(v),t.A=0)}S()}catch{}}function jV(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(z2(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function fX(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(z2(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function dX(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(z2(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,s=0;s<r;s++)e.call(void 0,i[s],t&&t[s],n)}(Dt=R2.prototype).setTimeout=function(n){this.O=n},Dt.ib=function(n){n=n.target;const e=this.L;e&&3==fc(n)?e.l():this.La(n)},Dt.La=function(n){try{if(n==this.g)e:{const C=fc(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>C)&&(3!=C||td||this.g&&(this.h.h||this.g.fa()||cH(this.g)))){this.I||4!=C||7==e||S(),L_(this);var t=this.g.aa();this.Y=t;t:if(pd(this)){var i=cH(this.g);n="";var r=i.length,s=4==fc(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){j6(this),j7(this);var l="";break t}this.h.i=new Jt.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:s&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.fa();if(this.i=200==t,function o(n,e,t,i,r,s,l){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+s+" "+l})}(this.j,this.u,this.A,this.m,this.U,C,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var d,p=this.g;if((d=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k6(d)){var v=d;break t}}v=null}if(!(t=v)){this.i=!1,this.o=3,T(12),j6(this),j7(this);break e}a(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,fS(this,t)}this.P?(md(this,C,l),td&&this.i&&3==C&&(uS(this.S,this.T,"tick",this.hb),this.T.start())):(a(this.j,this.m,l,null),fS(this,l)),4==C&&j6(this),this.i&&!this.I&&(4==C?gH(this.l,this):(this.i=!1,G7(this)))}else 400==t&&0<l.indexOf("Unknown SID")?(this.o=3,T(12)):(this.o=0,T(13)),j6(this),j7(this)}}}catch{}},Dt.hb=function(){if(this.g){var n=fc(this.g),e=this.g.fa();this.C<e.length&&(L_(this),md(this,n,e),this.i&&4!=n&&G7(this))}},Dt.cancel=function(){this.I=!0,j6(this)},Dt.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function u(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(S(),T(17)),j6(this),this.o=2,j7(this)):GV(this,this.V-n)};var $V=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $6(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof $6){this.h=void 0!==e?e:n.h,I_(this,n.j),this.s=n.s,this.g=n.g,T_(this,n.m),this.l=n.l,e=n.i;var t=new W7;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),qV(this,t),this.o=n.o}else n&&(t=String(n).match($V))?(this.h=!!e,I_(this,t[1]||"",!0),this.s=$7(t[2]||""),this.g=$7(t[3]||"",!0),T_(this,t[4]),this.l=$7(t[5]||"",!0),qV(this,t[6]||"",!0),this.o=$7(t[7]||"")):(this.h=!!e,this.i=new W7(null,this.h))}function dc(n){return new $6(n)}function I_(n,e,t){n.j=t?$7(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function T_(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function qV(n,e,t){e instanceof W7?(n.i=e,function yX(n,e){e&&!n.j&&(a3(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(YV(this,i),ZV(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=q7(e,vX)),n.i=new W7(e,n.h))}function Ti(n,e,t){n.i.set(e,t)}function V_(n){return Ti(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function $7(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function q7(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,pX),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function pX(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}$6.prototype.toString=function(){var n=[],e=this.j;e&&n.push(q7(e,WV,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(q7(e,WV,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(q7(t,"/"==t.charAt(0)?gX:mX,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",q7(t,_X)),n.join("")};var WV=/[#\/\?@]/g,mX=/[#\?:]/g,gX=/[#\?]/g,vX=/[#\?@]/g,_X=/#/g;function W7(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function a3(n){n.g||(n.g=new Map,n.h=0,n.i&&function hX(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var s=n[t].substring(0,i);r=n[t].substring(i+1)}else s=n[t];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function YV(n,e){a3(n),e=gd(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function KV(n,e){return a3(n),e=gd(n,e),n.g.has(e)}function ZV(n,e,t){YV(n,e),0<t.length&&(n.i=null,n.g.set(gd(n,e),A7(t)),n.h+=t.length)}function gd(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function QV(n){this.l=n||MX,n=Jt.PerformanceNavigationTiming?0<(n=Jt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Jt.g&&Jt.g.Ga&&Jt.g.Ga()&&Jt.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Dt=W7.prototype).add=function(n,e){a3(this),this.i=null,n=gd(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Dt.forEach=function(n,e){a3(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},Dt.oa=function(){a3(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let s=0;s<r.length;s++)t.push(e[i])}return t},Dt.W=function(n){a3(this);let e=[];if("string"==typeof n)KV(this,n)&&(e=e.concat(this.g.get(gd(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Dt.set=function(n,e){return a3(this),this.i=null,KV(this,n=gd(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Dt.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},Dt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const s=encodeURIComponent(String(i)),l=this.W(i);for(i=0;i<l.length;i++){var r=s;""!==l[i]&&(r+="="+encodeURIComponent(String(l[i]))),n.push(r)}}return this.i=n.join("&")};var MX=10;function XV(n){return!!n.h||!!n.g&&n.g.size>=n.j}function JV(n){return n.h?1:n.g?n.g.size:0}function hS(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function pS(n,e){n.g?n.g.add(e):n.h=e}function eH(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function tH(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return A7(n.i)}function mS(){}function bX(){this.g=new mS}function wX(n,e,t){const i=t||"";try{jV(n,function(r,s){let l=r;t3(r)&&(l=B6(r)),e.push(i+s+"="+encodeURIComponent(l))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function H_(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function Y7(n){this.l=n.ac||null,this.j=n.jb||!1}function z_(n,e){wr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=gS,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}QV.prototype.cancel=function(){if(this.i=tH(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},mS.prototype.stringify=function(n){return Jt.JSON.stringify(n,void 0)},mS.prototype.parse=function(n){return Jt.JSON.parse(n,void 0)},Lr(Y7,Ye),Y7.prototype.g=function(){return new z_(this.l,this.j)},Y7.prototype.i=function(n){return function(){return n}}({}),Lr(z_,wr);var gS=0;function nH(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function K7(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Z7(n)}function Z7(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Dt=z_.prototype).open=function(n,e){if(this.readyState!=gS)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Z7(this)},Dt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Jt).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},Dt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,K7(this)),this.readyState=gS},Dt.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Z7(this)),this.g&&(this.readyState=3,Z7(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Jt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;nH(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},Dt.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?K7(this):Z7(this),3==this.readyState&&nH(this)}},Dt.Va=function(n){this.g&&(this.response=this.responseText=n,K7(this))},Dt.Ua=function(n){this.g&&(this.response=n,K7(this))},Dt.ga=function(){this.g&&K7(this)},Dt.setRequestHeader=function(n,e){this.v.append(n,e)},Dt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Dt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(z_.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var SX=Jt.JSON.parse;function Zi(n){wr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=iH,this.K=this.L=!1}Lr(Zi,wr);var iH="",EX=/^https?$/i,AX=["POST","PUT"];function rH(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,sH(n),k_(n)}function sH(n){n.D||(n.D=!0,Ir(n,"complete"),Ir(n,"error"))}function oH(n){if(n.h&&typeof Q8<"u"&&(!n.C[1]||4!=fc(n)||2!=n.aa()))if(n.v&&4==fc(n))D_(n.Ha,0,n);else if(Ir(n,"readystatechange"),4==fc(n)){n.h=!1;try{const d=n.aa();e:switch(d){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===d){var r=String(n.H).match($V)[1]||null;if(!r&&Jt.self&&Jt.self.location){var s=Jt.self.location.protocol;r=s.substr(0,s.length-1)}i=!EX.test(r?r.toLowerCase():"")}t=i}if(t)Ir(n,"complete"),Ir(n,"success");else{n.m=6;try{var l=2<fc(n)?n.g.statusText:""}catch{l=""}n.j=l+" ["+n.aa()+"]",sH(n)}}finally{k_(n)}}}function k_(n,e){if(n.g){aH(n);const t=n.g,i=n.C[0]?e3:null;n.g=null,n.C=null,e||Ir(n,"ready");try{t.onreadystatechange=i}catch{}}}function aH(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Jt.clearTimeout(n.A),n.A=null)}function fc(n){return n.g?n.g.readyState:0}function cH(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case iH:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function lH(n){let e="";return to(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function vS(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=lH(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Ti(n,e,t))}function Q7(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function uH(n){this.Ca=0,this.i=[],this.j=new O7,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Q7("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Q7("baseRetryDelayMs",5e3,n),this.bb=Q7("retryDelaySeedMs",1e4,n),this.$a=Q7("forwardChannelMaxRetries",2,n),this.ta=Q7("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new QV(n&&n.concurrentRequestLimit),this.Fa=new bX,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function _S(n){if(dH(n),3==n.G){var e=n.U++,t=dc(n.F);Ti(t,"SID",n.I),Ti(t,"RID",e),Ti(t,"TYPE","terminate"),X7(n,t),(e=new R2(n,n.j,e,void 0)).K=2,e.v=V_(dc(t)),t=!1,Jt.navigator&&Jt.navigator.sendBeacon&&(t=Jt.navigator.sendBeacon(e.v.toString(),"")),!t&&Jt.Image&&((new Image).src=e.v,t=!0),t||(e.g=CH(e.l,null),e.g.da(e.v)),e.F=Date.now(),G7(e)}_H(n)}function N_(n){n.g&&(CS(n),n.g.cancel(),n.g=null)}function dH(n){N_(n),n.u&&(Jt.clearTimeout(n.u),n.u=null),P_(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Jt.clearTimeout(n.m),n.m=null)}function R_(n){XV(n.h)||n.m||(n.m=!0,sS(n.Ja,n),n.C=0)}function fH(n,e){var t;t=e?e.m:n.U++;const i=dc(n.F);Ti(i,"SID",n.I),Ti(i,"RID",t),Ti(i,"AID",n.T),X7(n,i),n.o&&n.s&&vS(i,n.o,n.s),t=new R2(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=hH(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),pS(n.h,t),G6(t,i,e)}function X7(n,e){n.ia&&to(n.ia,function(t,i){Ti(e,i,t)}),n.l&&jV({},function(t,i){Ti(e,i,t)})}function hH(n,e,t){t=Math.min(n.i.length,t);var i=n.l?Or(n.l.Ra,n.l,n):null;e:{var r=n.i;let s=-1;for(;;){const l=["count="+t];-1==s?0<t?(s=r[0].h,l.push("ofs="+s)):s=0:l.push("ofs="+s);let d=!0;for(let p=0;p<t;p++){let v=r[p].h;const C=r[p].g;if(v-=s,0>v)s=Math.max(0,r[p].h-100),d=!1;else try{wX(C,l,"req"+v+"_")}catch{i&&i(C)}}if(d){i=l.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,i}function pH(n){n.g||n.u||(n.Z=1,sS(n.Ia,n),n.A=0)}function yS(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=Z(Or(n.Ia,n),vH(n,n.A)),n.A++,0))}function CS(n){null!=n.B&&(Jt.clearTimeout(n.B),n.B=null)}function mH(n){n.g=new R2(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=dc(n.sa);Ti(e,"RID","rpc"),Ti(e,"SID",n.I),Ti(e,"CI",n.L?"0":"1"),Ti(e,"AID",n.T),Ti(e,"TYPE","xmlhttp"),X7(n,e),n.o&&n.s&&vS(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=V_(dc(e)),t.s=null,t.P=!0,hd(t,n)}function P_(n){null!=n.v&&(Jt.clearTimeout(n.v),n.v=null)}function gH(n,e){var t=null;if(n.g==e){P_(n),CS(n),n.g=null;var i=2}else{if(!hS(n.h,e))return;t=e.D,eH(n.h,e),i=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.F;var r=n.C;Ir(i=y(),new U(i,t)),R_(n)}else pH(n);else if(3==(r=e.o)||0==r&&0<n.pa||!(1==i&&function LX(n,e){return!(JV(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=Z(Or(n.Ja,n,e),vH(n,n.C)),n.C++,0)))}(n,e)||2==i&&yS(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),r){case 1:q6(n,5);break;case 4:q6(n,10);break;case 3:q6(n,6);break;default:q6(n,2)}}function vH(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function q6(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var i=Or(n.kb,n);t||(t=new $6("//www.google.com/images/cleardot.gif"),Jt.location&&"http"==Jt.location.protocol||I_(t,"https"),V_(t)),function xX(n,e){const t=new O7;if(Jt.Image){const i=new Image;i.onload=X8(H_,t,i,"TestLoadImage: loaded",!0,e),i.onerror=X8(H_,t,i,"TestLoadImage: error",!1,e),i.onabort=X8(H_,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=X8(H_,t,i,"TestLoadImage: timeout",!1,e),Jt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else T(2);n.G=0,n.l&&n.l.va(e),_H(n),dH(n)}function _H(n){if(n.G=0,n.la=[],n.l){const e=tH(n.h);(0!=e.length||0!=n.i.length)&&(D7(n.la,e),D7(n.la,n.i),n.h.i.length=0,A7(n.i),n.i.length=0),n.l.ua()}}function yH(n,e,t){var i=t instanceof $6?dc(t):new $6(t,void 0);if(""!=i.g)e&&(i.g=e+"."+i.g),T_(i,i.m);else{var r=Jt.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var s=new $6(null,void 0);i&&I_(s,i),e&&(s.g=e),r&&T_(s,r),t&&(s.l=t),i=s}return e=n.za,(t=n.D)&&e&&Ti(i,t,e),Ti(i,"VER",n.ma),X7(n,i),i}function CH(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Zi(t&&n.Da&&!n.ra?new Y7({jb:!0}):n.ra)).Ka(n.H),e}function MH(){}function F_(){if(r3&&!(10<=Number(PV)))throw Error("Environmental error: no available transport.")}function P2(n,e){wr.call(this),this.g=new uH(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!k6(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!k6(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new vd(this)}function bH(n){Fe.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function wH(){Bt.call(this),this.status=1}function vd(n){this.g=n}(Dt=Zi.prototype).Ka=function(n){this.L=n},Dt.da=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ln.g(),this.C=function rt(n){return n.h||(n.h=n.i())}(this.u?this.u:Ln),this.g.onreadystatechange=Or(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(s){return void rH(this,s)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const s of i.keys())t.set(s,i.get(s))}i=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),r=Jt.FormData&&n instanceof Jt.FormData,!(0<=E7(AX,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,l]of t)this.g.setRequestHeader(s,l);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{aH(this),0<this.B&&((this.K=function DX(n){return r3&&function RV(){return function ed(n){var e=Kx;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=I7(String(V7)).split("."),t=I7("9").split("."),i=Math.max(e.length,t.length);for(let l=0;0==n&&l<i;l++){var r=e[l]||"",s=t[l]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==r[0].length&&0==s[0].length)break;n=J8(0==r[1].length?0:parseInt(r[1],10),0==s[1].length?0:parseInt(s[1],10))||J8(0==r[2].length,0==s[2].length)||J8(r[2],s[2]),r=r[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Or(this.qa,this)):this.A=D_(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){rH(this,s)}},Dt.qa=function(){typeof Q8<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ir(this,"timeout"),this.abort(8))},Dt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Ir(this,"complete"),Ir(this,"abort"),k_(this))},Dt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),k_(this,!0)),Zi.X.M.call(this)},Dt.Ha=function(){this.s||(this.F||this.v||this.l?oH(this):this.fb())},Dt.fb=function(){oH(this)},Dt.aa=function(){try{return 2<fc(this)?this.g.status:-1}catch{return-1}},Dt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},Dt.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),SX(e)}},Dt.Ea=function(){return this.m},Dt.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Dt=uH.prototype).ma=8,Dt.G=1,Dt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const r=new R2(this,this.j,n,void 0);let s=this.s;if(this.S&&(s?(s=k7(s),sd(s,this.S)):s=this.S),null!==this.o||this.N||(r.H=s,s=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var i=this.i[t];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=hH(this,r,e),Ti(t=dc(this.F),"RID",n),Ti(t,"CVER",22),this.D&&Ti(t,"X-HTTP-Session-Id",this.D),X7(this,t),s&&(this.N?e="headers="+encodeURIComponent(String(lH(s)))+"&"+e:this.o&&vS(t,this.o,s)),pS(this.h,r),this.Ya&&Ti(t,"TYPE","init"),this.O?(Ti(t,"$req",e),Ti(t,"SID","null"),r.Z=!0,G6(r,t,null)):G6(r,t,e),this.G=2}}else 3==this.G&&(n?fH(this,n):0==this.i.length||XV(this.h)||fH(this))},Dt.Ia=function(){if(this.u=null,mH(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=Z(Or(this.eb,this),n)}},Dt.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,T(10),N_(this),mH(this))},Dt.cb=function(){null!=this.v&&(this.v=null,N_(this),yS(this),T(19))},Dt.kb=function(n){n?(this.j.info("Successfully pinged google.com"),T(2)):(this.j.info("Failed to ping google.com"),T(1))},(Dt=MH.prototype).xa=function(){},Dt.wa=function(){},Dt.va=function(){},Dt.ua=function(){},Dt.Ra=function(){},F_.prototype.g=function(n,e){return new P2(n,e)},Lr(P2,wr),P2.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;T(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=yH(n,null,n.V),R_(n)},P2.prototype.close=function(){_S(this.g)},P2.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=B6(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&R_(e)},P2.prototype.M=function(){this.g.l=null,delete this.j,_S(this.g),delete this.g,P2.X.M.call(this)},Lr(bH,Fe),Lr(wH,Bt),Lr(vd,MH),vd.prototype.xa=function(){Ir(this.g,"a")},vd.prototype.wa=function(n){Ir(this.g,new bH(n))},vd.prototype.va=function(n){Ir(this.g,new wH)},vd.prototype.ua=function(){Ir(this.g,"b")},F_.prototype.createWebChannel=F_.prototype.g,P2.prototype.send=P2.prototype.u,P2.prototype.open=P2.prototype.m,P2.prototype.close=P2.prototype.close,ae.NO_ERROR=0,ae.TIMEOUT=8,ae.HTTP_ERROR=6,Le.COMPLETE="complete",yt.EventType=zt,zt.OPEN="a",zt.CLOSE="b",zt.ERROR="c",zt.MESSAGE="d",wr.prototype.listen=wr.prototype.N,Zi.prototype.listenOnce=Zi.prototype.O,Zi.prototype.getLastError=Zi.prototype.Oa,Zi.prototype.getLastErrorCode=Zi.prototype.Ea,Zi.prototype.getStatus=Zi.prototype.aa,Zi.prototype.getResponseJson=Zi.prototype.Sa,Zi.prototype.getResponseText=Zi.prototype.fa,Zi.prototype.send=Zi.prototype.da,Zi.prototype.setWithCredentials=Zi.prototype.Ka;var IX=p1.createWebChannelTransport=function(){return new F_},TX=p1.getStatEventTarget=function(){return y()},MS=p1.ErrorCode=ae,VX=p1.EventType=Le,HX=p1.Event=h,xH=p1.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},zX=p1.FetchXmlHttpFactory=Y7,O_=p1.WebChannel=yt,kX=p1.XhrIo=Zi;const SH="@firebase/firestore";class Br{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Br.UNAUTHENTICATED=new Br(null),Br.GOOGLE_CREDENTIALS=new Br("google-credentials-uid"),Br.FIRST_PARTY=new Br("first-party-uid"),Br.MOCK_USER=new Br("mock-user");let _d="9.13.0";const c3=new Vs.Yd("@firebase/firestore");function bS(){return c3.logLevel}function Ke(n,...e){if(c3.logLevel<=Vs.in.DEBUG){const t=e.map(wS);c3.debug(`Firestore (${_d}): ${n}`,...t)}}function pr(n,...e){if(c3.logLevel<=Vs.in.ERROR){const t=e.map(wS);c3.error(`Firestore (${_d}): ${n}`,...t)}}function W6(n,...e){if(c3.logLevel<=Vs.in.WARN){const t=e.map(wS);c3.warn(`Firestore (${_d}): ${n}`,...t)}}function wS(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function St(n="Unexpected state"){const e=`FIRESTORE (${_d}) INTERNAL ASSERTION FAILED: `+n;throw pr(e),new Error(e)}function jt(n,e){n||St()}function at(n,e){return n}const Ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ue extends O.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Tr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class EH{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class PX{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Br.UNAUTHENTICATED))}shutdown(){}}class FX{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class OX{constructor(e){this.t=e,this.currentUser=Br.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const s=v=>this.i!==r?(r=this.i,t(v)):Promise.resolve();let l=new Tr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Tr,e.enqueueRetryable(()=>s(this.currentUser))};const d=()=>{const v=l;e.enqueueRetryable((0,Se.Z)(function*(){yield v.promise,yield s(i.currentUser)}))},p=v=>{Ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.auth.addAuthTokenListener(this.o),d()};this.t.onInit(v=>p(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?p(v):(Ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Tr)}},0),d()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(jt("string"==typeof i.accessToken),new EH(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return jt(null===e||"string"==typeof e),new Br(e)}}class BX{constructor(e,t,i,r){this.h=e,this.l=t,this.m=i,this.g=r,this.type="FirstParty",this.user=Br.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(jt(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class UX{constructor(e,t,i,r){this.h=e,this.l=t,this.m=i,this.g=r}getToken(){return Promise.resolve(new BX(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Br.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class AH{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class GX{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const i=s=>{null!=s.error&&Ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.A;return this.A=s.token,Ke("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{Ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?r(s):Ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(jt("string"==typeof t.token),this.A=t.token,new AH(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function jX(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class DH{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=jX(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<t&&(i+=e.charAt(r[s]%e.length))}return i}}function sn(n,e){return n<e?-1:n>e?1:0}function yd(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function LH(n){return n+"\0"}class Vi{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ue(Ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ue(Ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ue(Ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ue(Ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Vi.fromMillis(Date.now())}static fromDate(e){return Vi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Vi(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?sn(this.nanoseconds,e.nanoseconds):sn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class $t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new $t(e)}static min(){return new $t(new Vi(0,0))}static max(){return new $t(new Vi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class J7{constructor(e,t,i){void 0===t?t=0:t>e.length&&St(),void 0===i?i=e.length-t:i>e.length-t&&St(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===J7.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof J7?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const s=e.get(r),l=t.get(r);if(s<l)return-1;if(s>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Vn extends J7{construct(e,t,i){return new Vn(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Ue(Ce.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new Vn(t)}static emptyPath(){return new Vn([])}}const $X=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qi extends J7{construct(e,t,i){return new Qi(e,t,i)}static isValidIdentifier(e){return $X.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Qi(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const s=()=>{if(0===i.length)throw new Ue(Ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let l=!1;for(;r<e.length;){const d=e[r];if("\\"===d){if(r+1===e.length)throw new Ue(Ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[r+1];if("\\"!==p&&"."!==p&&"`"!==p)throw new Ue(Ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,r+=2}else"`"===d?(l=!l,r++):"."!==d||l?(i+=d,r++):(s(),r++)}if(s(),l)throw new Ue(Ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qi(t)}static emptyPath(){return new Qi([])}}class ot{constructor(e){this.path=e}static fromPath(e){return new ot(Vn.fromString(e))}static fromName(e){return new ot(Vn.fromString(e).popFirst(5))}static empty(){return new ot(Vn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Vn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Vn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ot(new Vn(e.slice()))}}class B_{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function xS(n){return n.fields.find(e=>2===e.kind)}function Y6(n){return n.fields.filter(e=>2!==e.kind)}B_.UNKNOWN_ID=-1;class U_{constructor(e,t){this.fieldPath=e,this.kind=t}}class e9{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new e9(0,F2.min())}}function IH(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=$t.fromTimestamp(1e9===i?new Vi(t+1,0):new Vi(t,i));return new F2(r,ot.empty(),e)}function TH(n){return new F2(n.readTime,n.key,-1)}class F2{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new F2($t.min(),ot.empty(),-1)}static max(){return new F2($t.max(),ot.empty(),-1)}}function SS(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=ot.comparator(n.documentKey,e.documentKey),0!==t?t:sn(n.largestBatchId,e.largestBatchId))}const VH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class HH{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function l3(n){return ES.apply(this,arguments)}function ES(){return ES=(0,Se.Z)(function*(n){if(n.code!==Ce.FAILED_PRECONDITION||n.message!==VH)throw n;Ke("LocalStore","Unexpectedly lost primary lease")}),ES.apply(this,arguments)}class pe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&St(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new pe((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof pe?t:pe.resolve(t)}catch(t){return pe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):pe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):pe.reject(t)}static resolve(e){return new pe((t,i)=>{t(e)})}static reject(e){return new pe((t,i)=>{i(e)})}static waitFor(e){return new pe((t,i)=>{let r=0,s=0,l=!1;e.forEach(d=>{++r,d.next(()=>{++s,l&&s===r&&t()},p=>i(p))}),l=!0,s===r&&t()})}static or(e){let t=pe.resolve(!1);for(const i of e)t=t.next(r=>r?pe.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,s)=>{i.push(t.call(this,r,s))}),this.waitFor(i)}static mapArray(e,t){return new pe((i,r)=>{const s=e.length,l=new Array(s);let d=0;for(let p=0;p<s;p++){const v=p;t(e[v]).next(C=>{l[v]=C,++d,d===s&&i(l)},C=>r(C))}})}static doWhile(e,t){return new pe((i,r)=>{const s=()=>{!0===e()?t().next(()=>{s()},r):i()};s()})}}class G_{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new Tr,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new t9(e,t.error)):this.P.resolve()},this.transaction.onerror=i=>{const r=AS(i.target.error);this.P.reject(new t9(e,r))}}static open(e,t,i,r){try{return new G_(t,e.transaction(r,i))}catch(s){throw new t9(t,s)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Ke("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new KX(t)}}class no{constructor(e,t,i){this.name=e,this.version=t,this.S=i,12.2===no.D((0,O.z$)())&&pr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ke("SimpleDb","Removing database:",e),K6(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,O.hl)())return!1;if(no.N())return!0;const e=(0,O.z$)(),t=no.D(e),i=0<t&&t<10,r=no.k(e),s=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||s)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static k(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}F(e){var t=this;return(0,Se.Z)(function*(){return t.db||(Ke("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const s=indexedDB.open(t.name,t.version);s.onsuccess=l=>{i(l.target.result)},s.onblocked=()=>{r(new t9(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=l=>{const d=l.target.error;r("VersionError"===d.name?new Ue(Ce.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===d.name?new Ue(Ce.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+d):new t9(e,d))},s.onupgradeneeded=l=>{Ke("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',l.oldVersion),t.S.$(l.target.result,s.transaction,l.oldVersion,t.version).next(()=>{Ke("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=i=>t.B(i)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var s=this;return(0,Se.Z)(function*(){const l="readonly"===t;let d=0;for(;;){++d;try{s.db=yield s.F(e);const p=G_.open(s.db,e,l?"readonly":"readwrite",i),v=r(p).next(C=>(p.V(),C)).catch(C=>(p.abort(C),pe.reject(C))).toPromise();return v.catch(()=>{}),yield p.v,v}catch(p){const v=p,C="FirebaseError"!==v.name&&d<3;if(Ke("SimpleDb","Transaction failed with error:",v.message,"Retrying:",C),s.close(),!C)return Promise.reject(v)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class YX{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return K6(this.U.delete())}}class t9 extends Ue{constructor(e,t){super(Ce.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function u3(n){return"IndexedDbTransactionError"===n.name}class KX{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(Ke("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(Ke("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),K6(i)}add(e){return Ke("SimpleDb","ADD",this.store.name,e,e),K6(this.store.add(e))}get(e){return K6(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ke("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ke("SimpleDb","DELETE",this.store.name,e),K6(this.store.delete(e))}count(){return Ke("SimpleDb","COUNT",this.store.name),K6(this.store.count())}W(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),s=[];return this.H(r,(l,d)=>{s.push(d)}).next(()=>s)}{const r=this.store.getAll(i.range);return new pe((s,l)=>{r.onerror=d=>{l(d.target.error)},r.onsuccess=d=>{s(d.target.result)}})}}J(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new pe((r,s)=>{i.onerror=l=>{s(l.target.error)},i.onsuccess=l=>{r(l.target.result)}})}Y(e,t){Ke("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.X=!1;const r=this.cursor(i);return this.H(r,(s,l,d)=>d.delete())}Z(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.H(r,t)}tt(e){const t=this.cursor({});return new pe((i,r)=>{t.onerror=s=>{const l=AS(s.target.error);r(l)},t.onsuccess=s=>{const l=s.target.result;l?e(l.primaryKey,l.value).next(d=>{d?l.continue():i()}):i()}})}H(e,t){const i=[];return new pe((r,s)=>{e.onerror=l=>{s(l.target.error)},e.onsuccess=l=>{const d=l.target.result;if(!d)return void r();const p=new YX(d),v=t(d.primaryKey,d.value,p);if(v instanceof pe){const C=v.catch(w=>(p.done(),pe.reject(w)));i.push(C)}p.isDone?r():null===p.G?d.continue():d.continue(p.G)}}).next(()=>pe.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.X?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function K6(n){return new pe((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=AS(i.target.error);t(r)}})}let zH=!1;function AS(n){const e=no.D((0,O.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new Ue("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return zH||(zH=!0,setTimeout(()=>{throw i},0)),i}}return n}class ZX{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Ke("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Se.Z)(function*(){t.task=null;try{Ke("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(i){u3(i)?Ke("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield l3(i)}yield t.nt(6e4)}))}}class QX{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,Se.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.it(i,e))})()}it(e,t){const i=new Set;let r=t,s=!0;return pe.doWhile(()=>!0===s&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(l=>{if(null!==l&&!i.has(l))return Ke("IndexBackiller",`Processing collection: ${l}`),this.rt(e,l,r).next(d=>{r-=d,i.add(l)});s=!1})).next(()=>t-r)}rt(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(s=>{const l=s.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next(()=>this.ot(r,s)).next(d=>(Ke("IndexBackiller",`Updating offset: ${d}`),this.localStore.indexManager.updateCollectionGroup(e,t,d))).next(()=>l.size)}))}ot(e,t){let i=e;return t.changes.forEach((r,s)=>{const l=TH(s);SS(l,i)>0&&(i=l)}),new F2(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}class u2{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>t.writeSequenceNumber(i))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function kH(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Z6(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function NH(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}u2.at=-1;class Xi{constructor(e,t){this.comparator=e,this.root=t||is.EMPTY}insert(e,t){return new Xi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,is.BLACK,null,null))}remove(e){return new Xi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,is.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new j_(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new j_(this.root,e,this.comparator,!1)}getReverseIterator(){return new j_(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new j_(this.root,e,this.comparator,!0)}}class j_{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class is{constructor(e,t,i,r,s){this.key=e,this.value=t,this.color=i??is.RED,this.left=r??is.EMPTY,this.right=s??is.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,s){return new is(e??this.key,t??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return is.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return is.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,is.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,is.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw St();const e=this.left.check();if(e!==this.right.check())throw St();return e+(this.isRed()?0:1)}}is.EMPTY=null,is.RED=!0,is.BLACK=!1,is.EMPTY=new class{constructor(){this.size=0}get key(){throw St()}get value(){throw St()}get color(){throw St()}get left(){throw St()}get right(){throw St()}copy(n,e,t,i,r){return this}insert(n,e,t){return new is(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ii{constructor(e){this.comparator=e,this.data=new Xi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new RH(this.data.getIterator())}getIteratorFrom(e){return new RH(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof ii)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ii(this.comparator);return t.data=e,t}}class RH{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Cd(n){return n.hasNext()?n.getNext():void 0}class O2{constructor(e){this.fields=e,e.sort(Qi.comparator)}static empty(){return new O2([])}unionWith(e){let t=new ii(Qi.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new O2(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return yd(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class Vr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Vr(t)}static fromUint8Array(e){const t=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(e);return new Vr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return sn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vr.EMPTY_BYTE_STRING=new Vr("");const JX=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function d3(n){if(jt(!!n),"string"==typeof n){let e=0;const t=JX.exec(n);if(jt(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ji(n.seconds),nanos:Ji(n.nanos)}}function Ji(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Q6(n){return"string"==typeof n?Vr.fromBase64String(n):Vr.fromUint8Array(n)}function DS(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function PH(n){const e=n.mapValue.fields.__previous_value__;return DS(e)?PH(e):e}function n9(n){const e=d3(n.mapValue.fields.__local_write_time__.timestampValue);return new Vi(e.seconds,e.nanos)}class eJ{constructor(e,t,i,r,s,l,d,p){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=d,this.useFetchStreams=p}}class f3{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new f3("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof f3&&e.projectId===this.projectId&&e.database===this.database}}function i9(n){return null==n}function r9(n){return 0===n&&1/n==-1/0}function FH(n){return"number"==typeof n&&Number.isInteger(n)&&!r9(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const h3={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},$_={nullValue:"NULL_VALUE"};function X6(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?DS(n)?4:GH(n)?9007199254740991:10:St()}function jo(n,e){if(n===e)return!0;const t=X6(n);if(t!==X6(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return n9(n).isEqual(n9(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=d3(i.timestampValue),l=d3(r.timestampValue);return s.seconds===l.seconds&&s.nanos===l.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,Q6(n.bytesValue).isEqual(Q6(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return Ji(i.geoPointValue.latitude)===Ji(r.geoPointValue.latitude)&&Ji(i.geoPointValue.longitude)===Ji(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Ji(i.integerValue)===Ji(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=Ji(i.doubleValue),l=Ji(r.doubleValue);return s===l?r9(s)===r9(l):isNaN(s)&&isNaN(l)}return!1}(n,e);case 9:return yd(n.arrayValue.values||[],e.arrayValue.values||[],jo);case 10:return function(i,r){const s=i.mapValue.fields||{},l=r.mapValue.fields||{};if(kH(s)!==kH(l))return!1;for(const d in s)if(s.hasOwnProperty(d)&&(void 0===l[d]||!jo(s[d],l[d])))return!1;return!0}(n,e);default:return St()}var r}function s9(n,e){return void 0!==(n.values||[]).find(t=>jo(t,e))}function p3(n,e){if(n===e)return 0;const t=X6(n),i=X6(e);if(t!==i)return sn(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return sn(n.booleanValue,e.booleanValue);case 2:return function(r,s){const l=Ji(r.integerValue||r.doubleValue),d=Ji(s.integerValue||s.doubleValue);return l<d?-1:l>d?1:l===d?0:isNaN(l)?isNaN(d)?0:-1:1}(n,e);case 3:return OH(n.timestampValue,e.timestampValue);case 4:return OH(n9(n),n9(e));case 5:return sn(n.stringValue,e.stringValue);case 6:return function(r,s){const l=Q6(r),d=Q6(s);return l.compareTo(d)}(n.bytesValue,e.bytesValue);case 7:return function(r,s){const l=r.split("/"),d=s.split("/");for(let p=0;p<l.length&&p<d.length;p++){const v=sn(l[p],d[p]);if(0!==v)return v}return sn(l.length,d.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,s){const l=sn(Ji(r.latitude),Ji(s.latitude));return 0!==l?l:sn(Ji(r.longitude),Ji(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,s){const l=r.values||[],d=s.values||[];for(let p=0;p<l.length&&p<d.length;++p){const v=p3(l[p],d[p]);if(v)return v}return sn(l.length,d.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,s){if(r===h3.mapValue&&s===h3.mapValue)return 0;if(r===h3.mapValue)return 1;if(s===h3.mapValue)return-1;const l=r.fields||{},d=Object.keys(l),p=s.fields||{},v=Object.keys(p);d.sort(),v.sort();for(let C=0;C<d.length&&C<v.length;++C){const w=sn(d[C],v[C]);if(0!==w)return w;const A=p3(l[d[C]],p[v[C]]);if(0!==A)return A}return sn(d.length,v.length)}(n.mapValue,e.mapValue);default:throw St()}}function OH(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return sn(n,e);const t=d3(n),i=d3(e),r=sn(t.seconds,i.seconds);return 0!==r?r:sn(t.nanos,i.nanos)}function Md(n){return LS(n)}function LS(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=d3(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Q6(n.bytesValue).toBase64():"referenceValue"in n?ot.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",s=!0;for(const l of i.values||[])s?s=!1:r+=",",r+=LS(l);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",l=!0;for(const d of r)l?l=!1:s+=",",s+=`${d}:${LS(i.fields[d])}`;return s+"}"}(n.mapValue):St();var e}function J6(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function IS(n){return!!n&&"integerValue"in n}function o9(n){return!!n&&"arrayValue"in n}function BH(n){return!!n&&"nullValue"in n}function UH(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function q_(n){return!!n&&"mapValue"in n}function a9(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Z6(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=a9(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=a9(n.arrayValue.values[t]);return e}return Object.assign({},n)}function GH(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function tJ(n){return"nullValue"in n?$_:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?J6(f3.empty(),ot.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:St()}function nJ(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?J6(f3.empty(),ot.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?h3:St()}function jH(n,e){const t=p3(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function $H(n,e){const t=p3(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class rs{constructor(e){this.value=e}static empty(){return new rs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!q_(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=a9(t)}setAll(e){let t=Qi.emptyPath(),i={},r=[];e.forEach((l,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,i,r),i={},r=[],t=d.popLast()}l?i[d.lastSegment()]=a9(l):r.push(d.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,i,r)}delete(e){const t=this.field(e.popLast());q_(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return jo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];q_(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Z6(t,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new rs(a9(this.value))}}function qH(n){const e=[];return Z6(n.fields,(t,i)=>{const r=new Qi([t]);if(q_(i)){const s=qH(i.mapValue).fields;if(0===s.length)e.push(r);else for(const l of s)e.push(r.child(l))}else e.push(r)}),new O2(e)}class mi{constructor(e,t,i,r,s,l){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.data=s,this.documentState=l}static newInvalidDocument(e){return new mi(e,0,$t.min(),$t.min(),rs.empty(),0)}static newFoundDocument(e,t,i){return new mi(e,1,t,$t.min(),i,0)}static newNoDocument(e,t){return new mi(e,2,t,$t.min(),rs.empty(),0)}static newUnknownDocument(e,t){return new mi(e,3,t,$t.min(),rs.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$t.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof mi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mi(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class iJ{constructor(e,t=null,i=[],r=[],s=null,l=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=l,this.endAt=d,this.ht=null}}function WH(n,e=null,t=[],i=[],r=null,s=null,l=null){return new iJ(n,e,t,i,r,s,l)}function e0(n){const e=at(n);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+Md(r.value);var r}).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),i9(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Md(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Md(i)).join(",")),e.ht=t}return e.ht}function c9(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!fJ(n.orderBy[r],e.orderBy[r]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((t=n.filters[r]).op!==(i=e.filters[r]).op||!t.field.isEqual(i.field)||!jo(t.value,i.value))return!1;var t,i;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!XH(n.startAt,e.startAt)&&XH(n.endAt,e.endAt)}function W_(n){return ot.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Y_(n,e){return n.filters.filter(t=>t instanceof ss&&t.field.isEqual(e))}function YH(n,e,t){let i=$_,r=!0;for(const s of Y_(n,e)){let l=$_,d=!0;switch(s.op){case"<":case"<=":l=tJ(s.value);break;case"==":case"in":case">=":l=s.value;break;case">":l=s.value,d=!1;break;case"!=":case"not-in":l=$_}jH({value:i,inclusive:r},{value:l,inclusive:d})<0&&(i=l,r=d)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const l=t.position[s];jH({value:i,inclusive:r},{value:l,inclusive:t.inclusive})<0&&(i=l,r=t.inclusive);break}return{value:i,inclusive:r}}function KH(n,e,t){let i=h3,r=!0;for(const s of Y_(n,e)){let l=h3,d=!0;switch(s.op){case">=":case">":l=nJ(s.value),d=!1;break;case"==":case"in":case"<=":l=s.value;break;case"<":l=s.value,d=!1;break;case"!=":case"not-in":l=h3}$H({value:i,inclusive:r},{value:l,inclusive:d})>0&&(i=l,r=d)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const l=t.position[s];$H({value:i,inclusive:r},{value:l,inclusive:t.inclusive})>0&&(i=l,r=t.inclusive);break}return{value:i,inclusive:r}}class ss extends class{}{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,i):new sJ(e,t,i):"array-contains"===t?new cJ(e,i):"in"===t?new lJ(e,i):"not-in"===t?new uJ(e,i):"array-contains-any"===t?new dJ(e,i):new ss(e,t,i)}static lt(e,t,i){return"in"===t?new oJ(e,i):new aJ(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(p3(t,this.value)):null!==t&&X6(this.value)===X6(t)&&this.ft(p3(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return St()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class sJ extends ss{constructor(e,t,i){super(e,t,i),this.key=ot.fromName(i.referenceValue)}matches(e){const t=ot.comparator(e.key,this.key);return this.ft(t)}}class oJ extends ss{constructor(e,t){super(e,"in",t),this.keys=ZH(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class aJ extends ss{constructor(e,t){super(e,"not-in",t),this.keys=ZH(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function ZH(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>ot.fromName(i.referenceValue))}class cJ extends ss{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return o9(t)&&s9(t.arrayValue,this.value)}}class lJ extends ss{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&s9(this.value.arrayValue,t)}}class uJ extends ss{constructor(e,t){super(e,"not-in",t)}matches(e){if(s9(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!s9(this.value.arrayValue,t)}}class dJ extends ss{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!o9(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>s9(this.value.arrayValue,i))}}class m3{constructor(e,t){this.position=e,this.inclusive=t}}class bd{constructor(e,t="asc"){this.field=e,this.dir=t}}function fJ(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function QH(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const s=e[r],l=n.position[r];if(i=s.field.isKeyField()?ot.comparator(ot.fromName(l.referenceValue),t.key):p3(l,t.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function XH(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!jo(n.position[t],e.position[t]))return!1;return!0}class hc{constructor(e,t=null,i=[],r=[],s=null,l="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=l,this.startAt=d,this.endAt=p,this._t=null,this.wt=null}}function JH(n,e,t,i,r,s,l,d){return new hc(n,e,t,i,r,s,l,d)}function wd(n){return new hc(n)}function ez(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function TS(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function VS(n){for(const e of n.filters)if(e.dt())return e.field;return null}function HS(n){return null!==n.collectionGroup}function xd(n){const e=at(n);if(null===e._t){e._t=[];const t=VS(e),i=TS(e);if(null!==t&&null===i)t.isKeyField()||e._t.push(new bd(t)),e._t.push(new bd(Qi.keyField(),"asc"));else{let r=!1;for(const s of e.explicitOrderBy)e._t.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new bd(Qi.keyField(),s))}}}return e._t}function Ns(n){const e=at(n);if(!e.wt)if("F"===e.limitType)e.wt=WH(e.path,e.collectionGroup,xd(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of xd(e))t.push(new bd(s.field,"desc"===s.dir?"asc":"desc"));const i=e.endAt?new m3(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new m3(e.startAt.position,e.startAt.inclusive):null;e.wt=WH(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e.wt}function K_(n,e,t){return new hc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function l9(n,e){return c9(Ns(n),Ns(e))&&n.limitType===e.limitType}function tz(n){return`${e0(Ns(n))}|lt:${n.limitType}`}function zS(n){return`Query(target=${function rJ(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(i=t).field.canonicalString()} ${i.op} ${Md(i.value)}`;var i}).join(", ")}]`),i9(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(i=t).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Md(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Md(t)).join(",")),`Target(${e})`}(Ns(n))}; limitType=${n.limitType})`}function kS(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):ot.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of t.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,s,l){const d=QH(r,s,l);return r.inclusive?d<=0:d<0}(t.startAt,xd(t),i)||t.endAt&&!function(r,s,l){const d=QH(r,s,l);return r.inclusive?d>=0:d>0}(t.endAt,xd(t),i)));var t,i}function nz(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function iz(n){return(e,t)=>{let i=!1;for(const r of xd(n)){const s=hJ(r,e,t);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function hJ(n,e,t){const i=n.field.isKeyField()?ot.comparator(e.key,t.key):function(r,s,l){const d=s.data.field(r),p=l.data.field(r);return null!==d&&null!==p?p3(d,p):St()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return St()}}function rz(n,e){if(n.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:r9(e)?"-0":e}}function sz(n){return{integerValue:""+n}}function oz(n,e){return FH(e)?sz(e):rz(n,e)}class Z_{constructor(){this._=void 0}}function pJ(n,e,t){return n instanceof Sd?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(s.fields.__previous_value__=r),{mapValue:s}}(t,e):n instanceof t0?cz(n,e):n instanceof n0?lz(n,e):function(i,r){const s=az(i,r),l=uz(s)+uz(i.yt);return IS(s)&&IS(i.yt)?sz(l):rz(i.It,l)}(n,e)}function mJ(n,e,t){return n instanceof t0?cz(n,e):n instanceof n0?lz(n,e):t}function az(n,e){return n instanceof Ed?IS(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class Sd extends Z_{}class t0 extends Z_{constructor(e){super(),this.elements=e}}function cz(n,e){const t=dz(e);for(const i of n.elements)t.some(r=>jo(r,i))||t.push(i);return{arrayValue:{values:t}}}class n0 extends Z_{constructor(e){super(),this.elements=e}}function lz(n,e){let t=dz(e);for(const i of n.elements)t=t.filter(r=>!jo(r,i));return{arrayValue:{values:t}}}class Ed extends Z_{constructor(e,t){super(),this.It=e,this.yt=t}}function uz(n){return Ji(n.integerValue||n.doubleValue)}function dz(n){return o9(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class u9{constructor(e,t){this.field=e,this.transform=t}}class vJ{constructor(e,t){this.version=e,this.transformResults=t}}class Hi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Hi}static exists(e){return new Hi(void 0,e)}static updateTime(e){return new Hi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Q_(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class X_{}function fz(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Dd(n.key,Hi.none()):new Ad(n.key,n.data,Hi.none());{const t=n.data,i=rs.empty();let r=new ii(Qi.comparator);for(let s of e.fields)if(!r.has(s)){let l=t.field(s);null===l&&s.length>1&&(s=s.popLast(),l=t.field(s)),null===l?i.delete(s):i.set(s,l),r=r.add(s)}return new pc(n.key,i,new O2(r.toArray()),Hi.none())}}function _J(n,e,t){n instanceof Ad?function(i,r,s){const l=i.value.clone(),d=mz(i.fieldTransforms,r,s.transformResults);l.setAll(d),r.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(n,e,t):n instanceof pc?function(i,r,s){if(!Q_(i.precondition,r))return void r.convertToUnknownDocument(s.version);const l=mz(i.fieldTransforms,r,s.transformResults),d=r.data;d.setAll(pz(i)),d.setAll(l),r.convertToFoundDocument(s.version,d).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function d9(n,e,t,i){return n instanceof Ad?function(r,s,l,d){if(!Q_(r.precondition,s))return l;const p=r.value.clone(),v=gz(r.fieldTransforms,d,s);return p.setAll(v),s.convertToFoundDocument(s.version,p).setHasLocalMutations(),null}(n,e,t,i):n instanceof pc?function(r,s,l,d){if(!Q_(r.precondition,s))return l;const p=gz(r.fieldTransforms,d,s),v=s.data;return v.setAll(pz(r)),v.setAll(p),s.convertToFoundDocument(s.version,v).setHasLocalMutations(),null===l?null:l.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(C=>C.field))}(n,e,t,i):(l=t,Q_(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):l);var s,l}function yJ(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),s=az(i.transform,r||null);null!=s&&(null===t&&(t=rs.empty()),t.set(i.field,s))}return t||null}function hz(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&yd(t,i,(r,s)=>function gJ(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof t0&&i instanceof t0||t instanceof n0&&i instanceof n0?yd(t.elements,i.elements,jo):t instanceof Ed&&i instanceof Ed?jo(t.yt,i.yt):t instanceof Sd&&i instanceof Sd);var t,i}(r,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class Ad extends X_{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class pc extends X_{constructor(e,t,i,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function pz(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function mz(n,e,t){const i=new Map;jt(n.length===t.length);for(let r=0;r<t.length;r++){const s=n[r],l=s.transform,d=e.data.field(s.field);i.set(s.field,mJ(l,d,t[r]))}return i}function gz(n,e,t){const i=new Map;for(const r of n){const s=r.transform,l=t.data.field(r.field);i.set(r.field,pJ(s,l,e))}return i}class Dd extends X_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class NS extends X_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class CJ{constructor(e){this.count=e}}var xr,Hn;function vz(n){switch(n){default:return St();case Ce.CANCELLED:case Ce.UNKNOWN:case Ce.DEADLINE_EXCEEDED:case Ce.RESOURCE_EXHAUSTED:case Ce.INTERNAL:case Ce.UNAVAILABLE:case Ce.UNAUTHENTICATED:return!1;case Ce.INVALID_ARGUMENT:case Ce.NOT_FOUND:case Ce.ALREADY_EXISTS:case Ce.PERMISSION_DENIED:case Ce.FAILED_PRECONDITION:case Ce.ABORTED:case Ce.OUT_OF_RANGE:case Ce.UNIMPLEMENTED:case Ce.DATA_LOSS:return!0}}function _z(n){if(void 0===n)return pr("GRPC error has no .code"),Ce.UNKNOWN;switch(n){case xr.OK:return Ce.OK;case xr.CANCELLED:return Ce.CANCELLED;case xr.UNKNOWN:return Ce.UNKNOWN;case xr.DEADLINE_EXCEEDED:return Ce.DEADLINE_EXCEEDED;case xr.RESOURCE_EXHAUSTED:return Ce.RESOURCE_EXHAUSTED;case xr.INTERNAL:return Ce.INTERNAL;case xr.UNAVAILABLE:return Ce.UNAVAILABLE;case xr.UNAUTHENTICATED:return Ce.UNAUTHENTICATED;case xr.INVALID_ARGUMENT:return Ce.INVALID_ARGUMENT;case xr.NOT_FOUND:return Ce.NOT_FOUND;case xr.ALREADY_EXISTS:return Ce.ALREADY_EXISTS;case xr.PERMISSION_DENIED:return Ce.PERMISSION_DENIED;case xr.FAILED_PRECONDITION:return Ce.FAILED_PRECONDITION;case xr.ABORTED:return Ce.ABORTED;case xr.OUT_OF_RANGE:return Ce.OUT_OF_RANGE;case xr.UNIMPLEMENTED:return Ce.UNIMPLEMENTED;case xr.DATA_LOSS:return Ce.DATA_LOSS;default:return St()}}(Hn=xr||(xr={}))[Hn.OK=0]="OK",Hn[Hn.CANCELLED=1]="CANCELLED",Hn[Hn.UNKNOWN=2]="UNKNOWN",Hn[Hn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Hn[Hn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Hn[Hn.NOT_FOUND=5]="NOT_FOUND",Hn[Hn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Hn[Hn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Hn[Hn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Hn[Hn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Hn[Hn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Hn[Hn.ABORTED=10]="ABORTED",Hn[Hn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Hn[Hn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Hn[Hn.INTERNAL=13]="INTERNAL",Hn[Hn.UNAVAILABLE=14]="UNAVAILABLE",Hn[Hn.DATA_LOSS=15]="DATA_LOSS";class g3{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Z6(this.inner,(t,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return NH(this.inner)}size(){return this.innerSize}}const MJ=new Xi(ot.comparator);function d2(){return MJ}const yz=new Xi(ot.comparator);function f9(...n){let e=yz;for(const t of n)e=e.insert(t.key,t);return e}function Cz(n){let e=yz;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function $o(){return h9()}function Mz(){return h9()}function h9(){return new g3(n=>n.toString(),(n,e)=>n.isEqual(e))}const bJ=new Xi(ot.comparator),wJ=new ii(ot.comparator);function pn(...n){let e=wJ;for(const t of n)e=e.add(t);return e}const xJ=new ii(sn);function J_(){return xJ}class p9{constructor(e,t,i,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,m9.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new p9($t.min(),r,J_(),d2(),pn())}}class m9{constructor(e,t,i,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new m9(i,t,pn(),pn(),pn())}}class ey{constructor(e,t,i,r){this.Tt=e,this.removedTargetIds=t,this.key=i,this.Et=r}}class bz{constructor(e,t){this.targetId=e,this.At=t}}class wz{constructor(e,t,i=Vr.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class xz{constructor(){this.Rt=0,this.bt=Ez(),this.Pt=Vr.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=pn(),t=pn(),i=pn();return this.bt.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:St()}}),new m9(this.Pt,this.vt,e,t,i)}Nt(){this.Vt=!1,this.bt=Ez()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class SJ{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=d2(),this.qt=Sz(),this.Kt=new ii(sn)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const i=this.zt(t);switch(e.state){case 0:this.Ht(t)&&i.Ct(e.resumeToken);break;case 1:i.Ft(),i.St||i.Nt(),i.Ct(e.resumeToken);break;case 2:i.Ft(),i.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(i.$t(),i.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),i.Ct(e.resumeToken));break;default:St()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((i,r)=>{this.Ht(r)&&t(r)})}Yt(e){const t=e.targetId,i=e.At.count,r=this.Xt(t);if(r){const s=r.target;if(W_(s))if(0===i){const l=new ot(s.path);this.jt(t,l,mi.newNoDocument(l,$t.min()))}else jt(1===i);else this.Zt(t)!==i&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((s,l)=>{const d=this.Xt(l);if(d){if(s.current&&W_(d.target)){const p=new ot(d.target.path);null!==this.Ut.get(p)||this.ee(l,p)||this.jt(l,p,mi.newNoDocument(p,e))}s.Dt&&(t.set(l,s.xt()),s.Nt())}});let i=pn();this.qt.forEach((s,l)=>{let d=!0;l.forEachWhile(p=>{const v=this.Xt(p);return!v||2===v.purpose||(d=!1,!1)}),d&&(i=i.add(s))}),this.Ut.forEach((s,l)=>l.setReadTime(e));const r=new p9(e,t,this.Kt,this.Ut,i);return this.Ut=d2(),this.qt=Sz(),this.Kt=new ii(sn),r}Qt(e,t){if(!this.Ht(e))return;const i=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,i),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,i){if(!this.Ht(e))return;const r=this.zt(e);this.ee(e,t)?r.kt(t,1):r.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),i&&(this.Ut=this.Ut.insert(t,i))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let t=this.Lt.get(e);return t||(t=new xz,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new ii(sn),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||Ke("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new xz),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function Sz(){return new Xi(ot.comparator)}function Ez(){return new Xi(ot.comparator)}const EJ={asc:"ASCENDING",desc:"DESCENDING"},AJ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class DJ{constructor(e,t){this.databaseId=e,this.gt=t}}function g9(n,e){return n.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Az(n,e){return n.gt?e.toBase64():e.toUint8Array()}function LJ(n,e){return g9(n,e.toTimestamp())}function Ur(n){return jt(!!n),$t.fromTimestamp(function(e){const t=d3(e);return new Vi(t.seconds,t.nanos)}(n))}function RS(n,e){return(t=n,new Vn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Dz(n){const e=Vn.fromString(n);return jt(Nz(e)),e}function v9(n,e){return RS(n.databaseId,e.path)}function qo(n,e){const t=Dz(e);if(t.get(1)!==n.databaseId.projectId)throw new Ue(Ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ue(Ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ot(Iz(t))}function PS(n,e){return RS(n.databaseId,e)}function Lz(n){const e=Dz(n);return 4===e.length?Vn.emptyPath():Iz(e)}function _9(n){return new Vn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Iz(n){return jt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Tz(n,e,t){return{name:v9(n,e),fields:t.value.mapValue.fields}}function Vz(n,e,t){const i=qo(n,e.name),r=Ur(e.updateTime),s=new rs({mapValue:{fields:e.fields}}),l=mi.newFoundDocument(i,r,s);return t&&l.setHasCommittedMutations(),t?l.setHasCommittedMutations():l}function y9(n,e){let t;if(e instanceof Ad)t={update:Tz(n,e.key,e.value)};else if(e instanceof Dd)t={delete:v9(n,e.key)};else if(e instanceof pc)t={update:Tz(n,e.key,e.data),updateMask:PJ(e.fieldMask)};else{if(!(e instanceof NS))return St();t={verify:v9(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,s){const l=s.transform;if(l instanceof Sd)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof t0)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof n0)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Ed)return{fieldPath:s.field.canonicalString(),increment:l.yt};throw St()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:LJ(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:St()),t;var r}function FS(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?Hi.updateTime(Ur(r.updateTime)):void 0!==r.exists?Hi.exists(r.exists):Hi.none():Hi.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(s,l){let d=null;"setToServerValue"in l?(jt("REQUEST_TIME"===l.setToServerValue),d=new Sd):"appendMissingElements"in l?d=new t0(l.appendMissingElements.values||[]):"removeAllFromArray"in l?d=new n0(l.removeAllFromArray.values||[]):"increment"in l?d=new Ed(s,l.increment):St();const p=Qi.fromServerFormat(l.fieldPath);return new u9(p,d)}(n,r)):[];var r;if(e.update){const r=qo(n,e.update.name),s=new rs({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=new O2((e.updateMask.fieldPaths||[]).map(v=>Qi.fromServerFormat(v)));return new pc(r,s,l,t,i)}return new Ad(r,s,t,i)}if(e.delete){const r=qo(n,e.delete);return new Dd(r,t)}if(e.verify){const r=qo(n,e.verify);return new NS(r,t)}return St()}function Hz(n,e){return{documents:[PS(n,e.path)]}}function OS(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=PS(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=PS(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(p){if(0===p.length)return;const v=p.map(C=>function(w){if("=="===w.op){if(UH(w.value))return{unaryFilter:{field:Ld(w.field),op:"IS_NAN"}};if(BH(w.value))return{unaryFilter:{field:Ld(w.field),op:"IS_NULL"}}}else if("!="===w.op){if(UH(w.value))return{unaryFilter:{field:Ld(w.field),op:"IS_NOT_NAN"}};if(BH(w.value))return{unaryFilter:{field:Ld(w.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ld(w.field),op:kJ(w.op),value:w.value}}}(C));return 1===v.length?v[0]:{compositeFilter:{op:"AND",filters:v}}}(e.filters);r&&(t.structuredQuery.where=r);const s=function(p){if(0!==p.length)return p.map(v=>{return{field:Ld((C=v).field),direction:zJ(C.dir)};var C})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const l=(v=e.limit,n.gt||i9(v)?v:{value:v});var v,d,p;return null!==l&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt={before:(d=e.startAt).inclusive,values:d.position}),e.endAt&&(t.structuredQuery.endAt={before:!(p=e.endAt).inclusive,values:p.position}),t}function zz(n){let e=Lz(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){jt(1===i);const C=t.from[0];C.allDescendants?r=C.collectionId:e=e.child(C.collectionId)}let s=[];t.where&&(s=kz(t.where));let l=[];t.orderBy&&(l=t.orderBy.map(C=>{return new bd(Id((w=C).field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction));var w}));let d=null;t.limit&&(d=function(C){let w;return w="object"==typeof C?C.value:C,i9(w)?null:w}(t.limit));let p=null;var C;t.startAt&&(p=new m3((C=t.startAt).values||[],!!C.before));let v=null;return t.endAt&&(v=function(C){return new m3(C.values||[],!C.before)}(t.endAt)),JH(e,r,l,s,d,"F",p,v)}function kz(n){return n?void 0!==n.unaryFilter?[RJ(n)]:void 0!==n.fieldFilter?[NJ(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>kz(e)).reduce((e,t)=>e.concat(t)):St():[]}function zJ(n){return EJ[n]}function kJ(n){return AJ[n]}function Ld(n){return{fieldPath:n.canonicalString()}}function Id(n){return Qi.fromServerFormat(n.fieldPath)}function NJ(n){return ss.create(Id(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return St()}}(n.fieldFilter.op),n.fieldFilter.value)}function RJ(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Id(n.unaryFilter.field);return ss.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Id(n.unaryFilter.field);return ss.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Id(n.unaryFilter.field);return ss.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=Id(n.unaryFilter.field);return ss.create(r,"!=",{nullValue:"NULL_VALUE"});default:return St()}}function PJ(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Nz(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Rs(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Rz(e)),e=FJ(n.get(t),e);return Rz(e)}function FJ(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=s}}return t}function Rz(n){return n+"\x01\x01"}function Wo(n){const e=n.length;if(jt(e>=2),2===e)return jt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Vn.emptyPath();const t=e-2,i=[];let r="";for(let s=0;s<e;){const l=n.indexOf("\x01",s);switch((l<0||l>t)&&St(),n.charAt(l+1)){case"\x01":const d=n.substring(s,l);let p;0===r.length?p=d:(r+=d,p=r,r=""),i.push(p);break;case"\x10":r+=n.substring(s,l),r+="\0";break;case"\x11":r+=n.substring(s,l+1);break;default:St()}s=l+2}return new Vn(i)}const Pz=["userId","batchId"];function ty(n,e){return[n,Rs(e)]}function Fz(n,e,t){return[n,Rs(e),t]}const OJ={},BJ=["prefixPath","collectionGroup","readTime","documentId"],UJ=["prefixPath","collectionGroup","documentId"],GJ=["collectionGroup","readTime","prefixPath","documentId"],jJ=["canonicalId","targetId"],$J=["targetId","path"],qJ=["path","targetId"],WJ=["collectionId","parent"],YJ=["indexId","uid"],KJ=["uid","sequenceNumber"],ZJ=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],QJ=["indexId","uid","orderedDocumentKey"],XJ=["userId","collectionPath","documentId"],JJ=["userId","collectionPath","largestBatchId"],eee=["userId","collectionGroup","largestBatchId"],Oz=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],tee=[...Oz,"documentOverlays"],Bz=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Uz=Bz,nee=[...Uz,"indexConfiguration","indexState","indexEntries"];class BS extends HH{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function Gr(n,e){const t=at(n);return no.M(t.ie,e)}class US{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&_J(s,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=d9(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=d9(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=Mz();return this.mutations.forEach(r=>{const s=e.get(r.key),l=s.overlayedDocument;let d=this.applyToLocalView(l,s.mutatedFields);d=t.has(r.key)?null:d;const p=fz(l,d);null!==p&&i.set(r.key,p),l.isValidDocument()||l.convertToNoDocument($t.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),pn())}isEqual(e){return this.batchId===e.batchId&&yd(this.mutations,e.mutations,(t,i)=>hz(t,i))&&yd(this.baseMutations,e.baseMutations,(t,i)=>hz(t,i))}}class GS{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){jt(e.mutations.length===i.length);let r=bJ;const s=e.mutations;for(let l=0;l<s.length;l++)r=r.insert(s[l].key,i[l].version);return new GS(e,t,i,r)}}class jS{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class v3{constructor(e,t,i,r,s=$t.min(),l=$t.min(),d=Vr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=d}withSequenceNumber(e){return new v3(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new v3(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new v3(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Gz{constructor(e){this.re=e}}function jz(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:ny(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:v9(r=n.re,(s=e).key),fields:s.data.value.mapValue.fields,updateTime:g9(r,s.version.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:r0(e.version)};else{if(!e.isUnknownDocument())return St();i.unknownDocument={path:t.path.toArray(),version:r0(e.version)}}var r,s;return i}function ny(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function r0(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function s0(n){const e=new Vi(n.seconds,n.nanoseconds);return $t.fromTimestamp(e)}function o0(n,e){const t=(e.baseMutations||[]).map(s=>FS(n.re,s));for(let s=0;s<e.mutations.length-1;++s){const l=e.mutations[s];s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform&&(l.updateTransforms=e.mutations[s+1].transform.fieldTransforms,e.mutations.splice(s+1,1),++s)}const i=e.mutations.map(s=>FS(n.re,s)),r=Vi.fromMillis(e.localWriteTimeMs);return new US(e.batchId,r,t,i)}function C9(n){const e=s0(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?s0(n.lastLimboFreeSnapshotVersion):$t.min();let i;var r;return void 0!==n.query.documents?(jt(1===(r=n.query).documents.length),i=Ns(wd(Lz(r.documents[0])))):i=Ns(zz(n.query)),new v3(i,n.targetId,0,n.lastListenSequenceNumber,e,t,Vr.fromBase64String(n.resumeToken))}function $z(n,e){const t=r0(e.snapshotVersion),i=r0(e.lastLimboFreeSnapshotVersion);let r;r=W_(e.target)?Hz(n.re,e.target):OS(n.re,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:e0(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function $S(n){const e=zz({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?K_(e,e.limit,"L"):e}function qS(n,e){return new jS(e.largestBatchId,FS(n.re,e.overlayMutation))}function qz(n,e){const t=e.path.lastSegment();return[n,Rs(e.path.popLast()),t]}function Wz(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:r0(i.readTime),documentKey:Rs(i.documentKey.path),largestBatchId:i.largestBatchId}}class ree{getBundleMetadata(e,t){return Yz(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:s0(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return Yz(e).put({bundleId:(i=t).id,createTime:r0(Ur(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return Kz(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:$S(r.bundledQuery),readTime:s0(r.readTime)};var r})}saveNamedQuery(e,t){return Kz(e).put({name:(i=t).name,readTime:r0(Ur(i.readTime)),bundledQuery:i.bundledQuery});var i}}function Yz(n){return Gr(n,"bundles")}function Kz(n){return Gr(n,"namedQueries")}class iy{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new iy(e,t.uid||"")}getOverlay(e,t){return M9(e).get(qz(this.userId,t)).next(i=>i?qS(this.It,i):null)}getOverlays(e,t){const i=$o();return pe.forEach(t,r=>this.getOverlay(e,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((s,l)=>{const d=new jS(t,l);r.push(this.ue(e,d))}),pe.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(l=>r.add(Rs(l.getCollectionPath())));const s=[];return r.forEach(l=>{const d=IDBKeyRange.bound([this.userId,l,i],[this.userId,l,i+1],!1,!0);s.push(M9(e).Y("collectionPathOverlayIndex",d))}),pe.waitFor(s)}getOverlaysForCollection(e,t,i){const r=$o(),s=Rs(t),l=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return M9(e).W("collectionPathOverlayIndex",l).next(d=>{for(const p of d){const v=qS(this.It,p);r.set(v.getKey(),v)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const s=$o();let l;const d=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return M9(e).Z({index:"collectionGroupOverlayIndex",range:d},(p,v,C)=>{const w=qS(this.It,v);s.size()<r||w.largestBatchId===l?(s.set(w.getKey(),w),l=w.largestBatchId):C.done()}).next(()=>s)}ue(e,t){return M9(e).put(function(i,r,s){const[l,d,p]=qz(r,s.mutation.key);return{userId:r,collectionPath:d,documentId:p,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:y9(i.re,s.mutation)}}(this.It,this.userId,t))}}function M9(n){return Gr(n,"documentOverlays")}class a0{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(Ji(e.integerValue));else if("doubleValue"in e){const i=Ji(e.doubleValue);isNaN(i)?this.le(t,13):(this.le(t,15),r9(i)?t.fe(0):t.fe(i))}else if("timestampValue"in e){const i=e.timestampValue;this.le(t,20),"string"==typeof i?t.de(i):(t.de(`${i.seconds||""}`),t.fe(i.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(Q6(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.le(t,45),t.fe(i.latitude||0),t.fe(i.longitude||0)}else"mapValue"in e?GH(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):St()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const i=e.fields||{};this.le(t,55);for(const r of Object.keys(i))this._e(r,t),this.ae(i[r],t)}pe(e,t){const i=e.values||[];this.le(t,50);for(const r of i)this.ae(r,t)}ge(e,t){this.le(t,37),ot.fromName(e).path.forEach(i=>{this.le(t,60),this.Ie(i,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function see(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function Zz(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const s=see(255&t[r]);if(i+=s,8!==s)break}return i}(n);return Math.ceil(e/8)}a0.Te=new a0;class oee{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ae(i.value),i=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Pe(i.value),i=t.next();this.ve()}Ve(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{const r=t.codePointAt(0);this.Ae(240|r>>>18),this.Ae(128|63&r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r)}}this.Re()}Se(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Pe(i);else if(i<2048)this.Pe(960|i>>>6),this.Pe(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i);else{const r=t.codePointAt(0);this.Pe(240|r>>>18),this.Pe(128|63&r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r)}}this.ve()}De(e){const t=this.Ce(e),i=Zz(t);this.xe(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Ne(e){const t=this.Ce(e),i=Zz(t);this.xe(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}ke(){this.Oe(255),this.Oe(255)}Me(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(r){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,r,!1),new Uint8Array(s.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}Ae(e){const t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Oe(0),this.Oe(1)}ve(){this.Fe(0),this.Fe(1)}Oe(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class aee{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class cee{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Me()}}class b9{constructor(){this.Be=new oee,this.Le=new aee(this.Be),this.Ue=new cee(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class c0{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new c0(this.indexId,this.documentKey,this.arrayValue,i)}}function l0(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=Qz(n.arrayValue,e.arrayValue),0!==t?t:(t=Qz(n.directionalValue,e.directionalValue),0!==t?t:ot.comparator(n.documentKey,e.documentKey)))}function Qz(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class lee{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const i=t;i.dt()?this.je=i:this.Qe.push(i)}}We(e){const t=xS(e);if(void 0!==t&&!this.ze(t))return!1;const i=Y6(e);let r=0,s=0;for(;r<i.length&&this.ze(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.je){const l=i[r];if(!this.He(this.je,l)||!this.Je(this.Ge[s++],l))return!1;++r}for(;r<i.length;++r){const l=i[r];if(s>=this.Ge.length||!this.Je(this.Ge[s++],l))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class uee{constructor(){this.Ye=new WS}addToCollectionParentIndex(e,t){return this.Ye.add(t),pe.resolve()}getCollectionParents(e,t){return pe.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return pe.resolve()}deleteFieldIndex(e,t){return pe.resolve()}getDocumentsMatchingTarget(e,t){return pe.resolve(null)}getIndexType(e,t){return pe.resolve(0)}getFieldIndexes(e,t){return pe.resolve([])}getNextCollectionGroupToUpdate(e){return pe.resolve(null)}getMinOffset(e,t){return pe.resolve(F2.min())}getMinOffsetFromCollectionGroup(e,t){return pe.resolve(F2.min())}updateCollectionGroup(e,t,i){return pe.resolve()}updateIndexEntries(e,t){return pe.resolve()}}class WS{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new ii(Vn.comparator),s=!r.has(i);return this.index[t]=r.add(i),s}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new ii(Vn.comparator)).toArray()}}const ry=new Uint8Array(0);class dee{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new WS,this.Ze=new g3(i=>e0(i),(i,r)=>c9(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const s={collectionId:i,parent:Rs(r)};return Xz(e).put(s)}return pe.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[LH(t),""],!1,!0);return Xz(e).W(r).next(s=>{for(const l of s){if(l.collectionId!==t)break;i.push(Wo(l.parent))}return i})}addFieldIndex(e,t){const i=sy(e),r={indexId:(l=t).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(d=>[d.fieldPath.canonicalString(),d.kind])};var l;delete r.indexId;const s=i.add(r);if(t.indexState){const l=x9(e);return s.next(d=>{l.put(Wz(d,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return s.next()}deleteFieldIndex(e,t){const i=sy(e),r=x9(e),s=w9(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=w9(e);let r=!0;const s=new Map;return pe.forEach(this.tn(t),l=>this.en(e,l).next(d=>{r&&(r=!!d),s.set(l,d)})).next(()=>{if(r){let l=pn();const d=[];return pe.forEach(s,(p,v)=>{var C;Ke("IndexedDbIndexManager",`Using index ${C=p,`id=${C.indexId}|cg=${C.collectionGroup}|f=${C.fields.map(qe=>`${qe.fieldPath}:${qe.kind}`).join(",")}`} to execute ${e0(t)}`);const w=function(qe,Ze){const dt=xS(Ze);if(void 0===dt)return null;for(const bt of Y_(qe,dt.fieldPath))switch(bt.op){case"array-contains-any":return bt.value.arrayValue.values||[];case"array-contains":return[bt.value]}return null}(v,p),A=function(qe,Ze){const dt=new Map;for(const bt of Y6(Ze))for(const en of Y_(qe,bt.fieldPath))switch(en.op){case"==":case"in":dt.set(bt.fieldPath.canonicalString(),en.value);break;case"not-in":case"!=":return dt.set(bt.fieldPath.canonicalString(),en.value),Array.from(dt.values())}return null}(v,p),I=function(qe,Ze){const dt=[];let bt=!0;for(const en of Y6(Ze)){const Si=0===en.kind?YH(qe,en.fieldPath,qe.startAt):KH(qe,en.fieldPath,qe.startAt);dt.push(Si.value),bt&&(bt=Si.inclusive)}return new m3(dt,bt)}(v,p),k=function(qe,Ze){const dt=[];let bt=!0;for(const en of Y6(Ze)){const Si=0===en.kind?KH(qe,en.fieldPath,qe.endAt):YH(qe,en.fieldPath,qe.endAt);dt.push(Si.value),bt&&(bt=Si.inclusive)}return new m3(dt,bt)}(v,p),j=this.nn(p,v,I),X=this.nn(p,v,k),xe=this.sn(p,v,A),ke=this.rn(p.indexId,w,j,I.inclusive,X,k.inclusive,xe);return pe.forEach(ke,qe=>i.J(qe,t.limit).next(Ze=>{Ze.forEach(dt=>{const bt=ot.fromSegments(dt.documentKey);l.has(bt)||(l=l.add(bt),d.push(bt))})}))}).next(()=>d)}return pe.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,i,r,s,l,d){const p=(null!=t?t.length:1)*Math.max(i.length,s.length),v=p/(null!=t?t.length:1),C=[];for(let w=0;w<p;++w){const A=t?this.on(t[w/v]):ry,I=this.un(e,A,i[w%v],r),k=this.cn(e,A,s[w%v],l),j=d.map(X=>this.un(e,A,X,!0));C.push(...this.createRange(I,k,j))}return C}un(e,t,i,r){const s=new c0(e,ot.empty(),t,i);return r?s:s.Ke()}cn(e,t,i,r){const s=new c0(e,ot.empty(),t,i);return r?s.Ke():s}en(e,t){const i=new lee(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(s=>{let l=null;for(const d of s)i.We(d)&&(!l||d.fields.length>l.fields.length)&&(l=d);return l})}getIndexType(e,t){let i=2;return pe.forEach(this.tn(t),r=>this.en(e,r).next(s=>{s?0!==i&&s.fields.length<function(l){let d=new ii(Qi.comparator),p=!1;for(const v of l.filters){const C=v;C.field.isKeyField()||("array-contains"===C.op||"array-contains-any"===C.op?p=!0:d=d.add(C.field))}for(const v of l.orderBy)v.field.isKeyField()||(d=d.add(v.field));return d.size+(p?1:0)}(r)&&(i=1):i=0})).next(()=>i)}an(e,t){const i=new b9;for(const r of Y6(e)){const s=t.data.field(r.fieldPath);if(null==s)return null;const l=i.qe(r.kind);a0.Te.ce(s,l)}return i.$e()}on(e){const t=new b9;return a0.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const i=new b9;return a0.Te.ce(J6(this.databaseId,t),i.qe(function(r){const s=Y6(r);return 0===s.length?0:s[s.length-1].kind}(e))),i.$e()}sn(e,t,i){if(null===i)return[];let r=[];r.push(new b9);let s=0;for(const l of Y6(e)){const d=i[s++];for(const p of r)if(this.ln(t,l.fieldPath)&&o9(d))r=this.fn(r,l,d);else{const v=p.qe(l.kind);a0.Te.ce(d,v)}}return this.dn(r)}nn(e,t,i){return this.sn(e,t,i.position)}dn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].$e();return t}fn(e,t,i){const r=[...e],s=[];for(const l of i.arrayValue.values||[])for(const d of r){const p=new b9;p.seed(d.$e()),a0.Te.ce(l,p.qe(t.kind)),s.push(p)}return s}ln(e,t){return!!e.filters.find(i=>i instanceof ss&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=sy(e),r=x9(e);return(t?i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.W()).next(s=>{const l=[];return pe.forEach(s,d=>r.get([d.indexId,this.uid]).next(p=>{l.push(function(v,C){const w=C?new e9(C.sequenceNumber,new F2(s0(C.readTime),new ot(Wo(C.documentKey)),C.largestBatchId)):e9.empty(),A=v.fields.map(([I,k])=>new U_(Qi.fromServerFormat(I),k));return new B_(v.indexId,v.collectionGroup,A,w)}(d,p))})).next(()=>l)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const s=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==s?s:sn(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=sy(e),s=x9(e);return this._n(e).next(l=>r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(d=>pe.forEach(d,p=>s.put(Wz(p.indexId,this.user,l,i)))))}updateIndexEntries(e,t){const i=new Map;return pe.forEach(t,(r,s)=>{const l=i.get(r.collectionGroup);return(l?pe.resolve(l):this.getFieldIndexes(e,r.collectionGroup)).next(d=>(i.set(r.collectionGroup,d),pe.forEach(d,p=>this.wn(e,r,p).next(v=>{const C=this.mn(s,p);return v.isEqual(C)?pe.resolve():this.gn(e,s,p,v,C)}))))})}yn(e,t,i,r){return w9(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.hn(i,t.key),documentKey:t.key.path.toArray()})}pn(e,t,i,r){return w9(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.hn(i,t.key),t.key.path.toArray()])}wn(e,t,i){const r=w9(e);let s=new ii(l0);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.hn(i,t)])},(l,d)=>{s=s.add(new c0(i.indexId,t,d.arrayValue,d.directionalValue))}).next(()=>s)}mn(e,t){let i=new ii(l0);const r=this.an(t,e);if(null==r)return i;const s=xS(t);if(null!=s){const l=e.data.field(s.fieldPath);if(o9(l))for(const d of l.arrayValue.values||[])i=i.add(new c0(t.indexId,e.key,this.on(d),r))}else i=i.add(new c0(t.indexId,e.key,ry,r));return i}gn(e,t,i,r,s){Ke("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const l=[];return function(d,p,v,C,w){const A=d.getIterator(),I=p.getIterator();let k=Cd(A),j=Cd(I);for(;k||j;){let X=!1,xe=!1;if(k&&j){const ke=v(k,j);ke<0?xe=!0:ke>0&&(X=!0)}else null!=k?xe=!0:X=!0;X?(C(j),j=Cd(I)):xe?(w(k),k=Cd(A)):(k=Cd(A),j=Cd(I))}}(r,s,l0,d=>{l.push(this.yn(e,t,i,d))},d=>{l.push(this.pn(e,t,i,d))}),pe.waitFor(l)}_n(e){let t=1;return x9(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,s)=>{s.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((l,d)=>l0(l,d)).filter((l,d,p)=>!d||0!==l0(l,p[d-1]));const r=[];r.push(e);for(const l of i){const d=l0(l,e),p=l0(l,t);if(0===d)r[0]=e.Ke();else if(d>0&&p<0)r.push(l),r.push(l.Ke());else if(p>0)break}r.push(t);const s=[];for(let l=0;l<r.length;l+=2)s.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,ry,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,ry,[]]));return s}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Jz)}getMinOffset(e,t){return pe.mapArray(this.tn(t),i=>this.en(e,i).next(r=>r||St())).next(Jz)}}function Xz(n){return Gr(n,"collectionParents")}function w9(n){return Gr(n,"indexEntries")}function sy(n){return Gr(n,"indexConfiguration")}function x9(n){return Gr(n,"indexState")}function Jz(n){jt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;SS(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new F2(e.readTime,e.documentKey,t)}const ek={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class f2{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new f2(e,f2.DEFAULT_COLLECTION_PERCENTILE,f2.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function tk(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),s=[],l=IDBKeyRange.only(t.batchId);let d=0;const p=i.Z({range:l},(C,w,A)=>(d++,A.delete()));s.push(p.next(()=>{jt(1===d)}));const v=[];for(const C of t.mutations){const w=Fz(e,C.key.path,t.batchId);s.push(r.delete(w)),v.push(C.key)}return pe.waitFor(s).next(()=>v)}function oy(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw St();e=n.noDocument}return JSON.stringify(e).length}f2.DEFAULT_COLLECTION_PERCENTILE=10,f2.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,f2.DEFAULT=new f2(41943040,f2.DEFAULT_COLLECTION_PERCENTILE,f2.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),f2.DISABLED=new f2(-1,0,0);class ay{constructor(e,t,i,r){this.userId=e,this.It=t,this.indexManager=i,this.referenceDelegate=r,this.In={}}static oe(e,t,i,r){jt(""!==e.uid);const s=e.isAuthenticated()?e.uid:"";return new ay(s,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return _3(e).Z({index:"userMutationsIndex",range:i},(r,s,l)=>{t=!1,l.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const s=Td(e),l=_3(e);return l.add({}).next(d=>{jt("number"==typeof d);const p=new US(d,t,i,r),v=function(A,I,k){const j=k.baseMutations.map(xe=>y9(A.re,xe)),X=k.mutations.map(xe=>y9(A.re,xe));return{userId:I,batchId:k.batchId,localWriteTimeMs:k.localWriteTime.toMillis(),baseMutations:j,mutations:X}}(this.It,this.userId,p),C=[];let w=new ii((A,I)=>sn(A.canonicalString(),I.canonicalString()));for(const A of r){const I=Fz(this.userId,A.key.path,d);w=w.add(A.key.path.popLast()),C.push(l.put(v)),C.push(s.put(I,OJ))}return w.forEach(A=>{C.push(this.indexManager.addToCollectionParentIndex(e,A))}),e.addOnCommittedListener(()=>{this.In[d]=p.keys()}),pe.waitFor(C).next(()=>p)})}lookupMutationBatch(e,t){return _3(e).get(t).next(i=>i?(jt(i.userId===this.userId),o0(this.It,i)):null)}Tn(e,t){return this.In[t]?pe.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.In[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let s=null;return _3(e).Z({index:"userMutationsIndex",range:r},(l,d,p)=>{d.userId===this.userId&&(jt(d.batchId>=i),s=o0(this.It,d)),p.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return _3(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(r,s,l)=>{i=s.batchId,l.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return _3(e).W("userMutationsIndex",t).next(i=>i.map(r=>o0(this.It,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=ty(this.userId,t.path),r=IDBKeyRange.lowerBound(i),s=[];return Td(e).Z({range:r},(l,d,p)=>{const[v,C,w]=l,A=Wo(C);if(v===this.userId&&t.path.isEqual(A))return _3(e).get(w).next(I=>{if(!I)throw St();jt(I.userId===this.userId),s.push(o0(this.It,I))});p.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new ii(sn);const r=[];return t.forEach(s=>{const l=ty(this.userId,s.path),d=IDBKeyRange.lowerBound(l),p=Td(e).Z({range:d},(v,C,w)=>{const[A,I,k]=v,j=Wo(I);A===this.userId&&s.path.isEqual(j)?i=i.add(k):w.done()});r.push(p)}),pe.waitFor(r).next(()=>this.En(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,s=ty(this.userId,i),l=IDBKeyRange.lowerBound(s);let d=new ii(sn);return Td(e).Z({range:l},(p,v,C)=>{const[w,A,I]=p,k=Wo(A);w===this.userId&&i.isPrefixOf(k)?k.length===r&&(d=d.add(I)):C.done()}).next(()=>this.En(e,d))}En(e,t){const i=[],r=[];return t.forEach(s=>{r.push(_3(e).get(s).next(l=>{if(null===l)throw St();jt(l.userId===this.userId),i.push(o0(this.It,l))}))}),pe.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return tk(e.ie,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),pe.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return pe.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return Td(e).Z({range:i},(s,l,d)=>{if(s[0]===this.userId){const p=Wo(s[1]);r.push(p)}else d.done()}).next(()=>{jt(0===r.length)})})}containsKey(e,t){return nk(e,this.userId,t)}Rn(e){return ik(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function nk(n,e,t){const i=ty(e,t.path),r=i[1],s=IDBKeyRange.lowerBound(i);let l=!1;return Td(n).Z({range:s,X:!0},(d,p,v)=>{const[C,w,A]=d;C===e&&w===r&&(l=!0),v.done()}).next(()=>l)}function _3(n){return Gr(n,"mutations")}function Td(n){return Gr(n,"documentMutations")}function ik(n){return Gr(n,"mutationQueues")}class u0{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new u0(0)}static vn(){return new u0(-1)}}class fee{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const i=new u0(t.highestTargetId);return t.highestTargetId=i.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>$t.fromTimestamp(new Vi(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.Vn(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Sn(e,r)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(i=>(i.targetCount+=1,this.Cn(t,i),this.Sn(e,i))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Vd(e).delete(t.targetId)).next(()=>this.Vn(e)).next(i=>(jt(i.targetCount>0),i.targetCount-=1,this.Sn(e,i)))}removeTargets(e,t,i){let r=0;const s=[];return Vd(e).Z((l,d)=>{const p=C9(d);p.sequenceNumber<=t&&null===i.get(p.targetId)&&(r++,s.push(this.removeTargetData(e,p)))}).next(()=>pe.waitFor(s)).next(()=>r)}forEachTarget(e,t){return Vd(e).Z((i,r)=>{const s=C9(r);t(s)})}Vn(e){return rk(e).get("targetGlobalKey").next(t=>(jt(null!==t),t))}Sn(e,t){return rk(e).put("targetGlobalKey",t)}Dn(e,t){return Vd(e).put($z(this.It,t))}Cn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=e0(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let s=null;return Vd(e).Z({range:r,index:"queryTargetsIndex"},(l,d,p)=>{const v=C9(d);c9(t,v.target)&&(s=v,p.done())}).next(()=>s)}addMatchingKeys(e,t,i){const r=[],s=y3(e);return t.forEach(l=>{const d=Rs(l.path);r.push(s.put({targetId:i,path:d})),r.push(this.referenceDelegate.addReference(e,i,l))}),pe.waitFor(r)}removeMatchingKeys(e,t,i){const r=y3(e);return pe.forEach(t,s=>{const l=Rs(s.path);return pe.waitFor([r.delete([i,l]),this.referenceDelegate.removeReference(e,i,s)])})}removeMatchingKeysForTargetId(e,t){const i=y3(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=y3(e);let s=pn();return r.Z({range:i,X:!0},(l,d,p)=>{const v=Wo(l[1]),C=new ot(v);s=s.add(C)}).next(()=>s)}containsKey(e,t){const i=Rs(t.path),r=IDBKeyRange.bound([i],[LH(i)],!1,!0);let s=0;return y3(e).Z({index:"documentTargetsIndex",X:!0,range:r},([l,d],p,v)=>{0!==l&&(s++,v.done())}).next(()=>s>0)}se(e,t){return Vd(e).get(t).next(i=>i?C9(i):null)}}function Vd(n){return Gr(n,"targets")}function rk(n){return Gr(n,"targetGlobal")}function y3(n){return Gr(n,"targetDocuments")}function sk([n,e],[t,i]){const r=sn(n,t);return 0===r?sn(e,i):r}class hee{constructor(e){this.xn=e,this.buffer=new ii(sk),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();sk(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class pee{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;Ke("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Se.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){u3(i)?Ke("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield l3(i)}yield t.Fn(3e5)}))}}class mee{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return pe.resolve(u2.at);const i=new hee(t);return this.$n.forEachTarget(e,r=>i.On(r.sequenceNumber)).next(()=>this.$n.Ln(e,r=>i.On(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.$n.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ke("LruGarbageCollector","Garbage collection skipped; disabled"),pe.resolve(ek)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Ke("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ek):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let i,r,s,l,d,p,v;const C=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(Ke("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),r=this.params.maximumSequenceNumbersToCollect):r=w,l=Date.now(),this.nthSequenceNumber(e,r))).next(w=>(i=w,d=Date.now(),this.removeTargets(e,i,t))).next(w=>(s=w,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(w=>(v=Date.now(),bS()<=Vs.in.DEBUG&&Ke("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${l-C}ms\n\tDetermined least recently used ${r} in `+(d-l)+`ms\n\tRemoved ${s} targets in `+(p-d)+`ms\n\tRemoved ${w} documents in `+(v-p)+`ms\nTotal Duration: ${v-C}ms`),pe.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:w})))}}class gee{constructor(e,t){this.db=e,this.garbageCollector=new mee(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}qn(e){let t=0;return this.Ln(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(i,r)=>t(r))}addReference(e,t,i){return cy(e,i)}removeReference(e,t,i){return cy(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return cy(e,t)}Gn(e,t){return function(i,r){let s=!1;return ik(i).tt(l=>nk(i,l,r).next(d=>(d&&(s=!0),pe.resolve(!d)))).next(()=>s)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.Kn(e,(l,d)=>{if(d<=t){const p=this.Gn(e,l).next(v=>{if(!v)return s++,i.getEntry(e,l).next(()=>(i.removeEntry(l,$t.min()),y3(e).delete([0,Rs(l.path)])))});r.push(p)}}).next(()=>pe.waitFor(r)).next(()=>i.apply(e)).next(()=>s)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return cy(e,t)}Kn(e,t){const i=y3(e);let r,s=u2.at;return i.Z({index:"documentTargetsIndex"},([l,d],{path:p,sequenceNumber:v})=>{0===l?(s!==u2.at&&t(new ot(Wo(r)),s),s=v,r=p):s=u2.at}).next(()=>{s!==u2.at&&t(new ot(Wo(r)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function cy(n,e){return y3(n).put((i=n.currentSequenceNumber,{targetId:0,path:Rs(e.path),sequenceNumber:i}));var i}class ok{constructor(){this.changes=new g3(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,mi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?pe.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class vee{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return d0(e).put(i)}removeEntry(e,t,i){return d0(e).delete(function(r,s){const l=r.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],ny(s),l[l.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Qn(e,i)))}getEntry(e,t){let i=mi.newInvalidDocument(t);return d0(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(S9(t))},(r,s)=>{i=this.jn(t,s)}).next(()=>i)}Wn(e,t){let i={size:0,document:mi.newInvalidDocument(t)};return d0(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(S9(t))},(r,s)=>{i={document:this.jn(t,s),size:oy(s)}}).next(()=>i)}getEntries(e,t){let i=d2();return this.zn(e,t,(r,s)=>{const l=this.jn(r,s);i=i.insert(r,l)}).next(()=>i)}Hn(e,t){let i=d2(),r=new Xi(ot.comparator);return this.zn(e,t,(s,l)=>{const d=this.jn(s,l);i=i.insert(s,d),r=r.insert(s,oy(l))}).next(()=>({documents:i,Jn:r}))}zn(e,t,i){if(t.isEmpty())return pe.resolve();let r=new ii(uk);t.forEach(p=>r=r.add(p));const s=IDBKeyRange.bound(S9(r.first()),S9(r.last())),l=r.getIterator();let d=l.getNext();return d0(e).Z({index:"documentKeyIndex",range:s},(p,v,C)=>{const w=ot.fromSegments([...v.prefixPath,v.collectionGroup,v.documentId]);for(;d&&uk(d,w)<0;)i(d,null),d=l.getNext();d&&d.isEqual(w)&&(i(d,v),d=l.hasNext()?l.getNext():null),d?C.j(S9(d)):C.done()}).next(()=>{for(;d;)i(d,null),d=l.hasNext()?l.getNext():null})}getAllFromCollection(e,t,i){const r=[t.popLast().toArray(),t.lastSegment(),ny(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],s=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return d0(e).W(IDBKeyRange.bound(r,s,!0)).next(l=>{let d=d2();for(const p of l){const v=this.jn(ot.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);d=d.insert(v.key,v)}return d})}getAllFromCollectionGroup(e,t,i,r){let s=d2();const l=lk(t,i),d=lk(t,F2.max());return d0(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(l,d,!0)},(p,v,C)=>{const w=this.jn(ot.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);s=s.insert(w.key,w),s.size===r&&C.done()}).next(()=>s)}newChangeBuffer(e){return new _ee(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return ck(e).get("remoteDocumentGlobalKey").next(t=>(jt(!!t),t))}Qn(e,t){return ck(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const i=function iee(n,e){let t;if(e.document)t=Vz(n.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=ot.fromSegments(e.noDocument.path),r=s0(e.noDocument.readTime);t=mi.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return St();{const i=ot.fromSegments(e.unknownDocument.path),r=s0(e.unknownDocument.version);t=mi.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new Vi(i[0],i[1]);return $t.fromTimestamp(r)}(e.readTime)),t}(this.It,t);if(!i.isNoDocument()||!i.version.isEqual($t.min()))return i}return mi.newInvalidDocument(e)}}function ak(n){return new vee(n)}class _ee extends ok{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new g3(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new ii((s,l)=>sn(s.canonicalString(),l.canonicalString()));return this.changes.forEach((s,l)=>{const d=this.Xn.get(s);if(t.push(this.Yn.removeEntry(e,s,d.readTime)),l.isValidDocument()){const p=jz(this.Yn.It,l);r=r.add(s.path.popLast()),i+=oy(p)-d.size,t.push(this.Yn.addEntry(e,s,p))}else if(i-=d.size,this.trackRemovals){const p=jz(this.Yn.It,l.convertToNoDocument($t.min()));t.push(this.Yn.addEntry(e,s,p))}}),r.forEach(s=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,s))}),t.push(this.Yn.updateMetadata(e,i)),pe.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(i=>(this.Xn.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:i,Jn:r})=>(r.forEach((s,l)=>{this.Xn.set(s,{size:l,readTime:i.get(s).readTime})}),i))}}function ck(n){return Gr(n,"remoteDocumentGlobal")}function d0(n){return Gr(n,"remoteDocumentsV14")}function S9(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function lk(n,e){const t=e.documentKey.path.toArray();return[n,ny(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function uk(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let s=0;s<t.length-2&&s<i.length-2;++s)if(r=sn(t[s],i[s]),r)return r;return r=sn(t.length,i.length),r||(r=sn(t[t.length-2],i[i.length-2]),r||sn(t[t.length-1],i[i.length-1]))}class yee{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class dk{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.getBaseDocument(e,t,i))).next(r=>(null!==i&&d9(i.mutation,r,O2.empty(),Vi.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,pn()).next(()=>i))}getLocalViewOfDocuments(e,t,i=pn()){const r=$o();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(s=>{let l=f9();return s.forEach((d,p)=>{l=l.insert(d,p.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const i=$o();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,pn()))}populateOverlays(e,t,i){const r=[];return i.forEach(s=>{t.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((l,d)=>{t.set(l,d)})})}computeViews(e,t,i,r){let s=d2();const l=h9(),d=h9();return t.forEach((p,v)=>{const C=i.get(v.key);r.has(v.key)&&(void 0===C||C.mutation instanceof pc)?s=s.insert(v.key,v):void 0!==C&&(l.set(v.key,C.mutation.getFieldMask()),d9(C.mutation,v,C.mutation.getFieldMask(),Vi.now()))}),this.recalculateAndSaveOverlays(e,s).next(p=>(p.forEach((v,C)=>l.set(v,C)),t.forEach((v,C)=>{var w;return d.set(v,new yee(C,null!==(w=l.get(v))&&void 0!==w?w:null))}),d))}recalculateAndSaveOverlays(e,t){const i=h9();let r=new Xi((l,d)=>l-d),s=pn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const d of l)d.keys().forEach(p=>{const v=t.get(p);if(null===v)return;let C=i.get(p)||O2.empty();C=d.applyToLocalView(v,C),i.set(p,C);const w=(r.get(d.batchId)||pn()).add(p);r=r.insert(d.batchId,w)})}).next(()=>{const l=[],d=r.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),v=p.key,C=p.value,w=Mz();C.forEach(A=>{if(!s.has(A)){const I=fz(t.get(A),i.get(A));null!==I&&w.set(A,I),s=s.add(A)}}),l.push(this.documentOverlayCache.saveOverlays(e,v,w))}return pe.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return ot.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):HS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(s=>{const l=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-s.size):pe.resolve($o());let d=-1,p=s;return l.next(v=>pe.forEach(v,(C,w)=>(d<w.largestBatchId&&(d=w.largestBatchId),s.get(C)?pe.resolve():this.getBaseDocument(e,C,w).next(A=>{p=p.insert(C,A)}))).next(()=>this.populateOverlays(e,v,s)).next(()=>this.computeViews(e,p,v,pn())).next(C=>({batchId:d,changes:Cz(C)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ot(t)).next(i=>{let r=f9();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let s=f9();return this.indexManager.getCollectionParents(e,r).next(l=>pe.forEach(l,d=>{const p=(v=t,C=d.child(r),new hc(C,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt));var v,C;return this.getDocumentsMatchingCollectionQuery(e,p,i).next(v=>{v.forEach((C,w)=>{s=s.insert(C,w)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.remoteDocumentCache.getAllFromCollection(e,t.path,i).next(s=>(r=s,this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId))).next(s=>{s.forEach((d,p)=>{const v=p.getKey();null===r.get(v)&&(r=r.insert(v,mi.newInvalidDocument(v)))});let l=f9();return r.forEach((d,p)=>{const v=s.get(d);void 0!==v&&d9(v.mutation,p,O2.empty(),Vi.now()),kS(t,p)&&(l=l.insert(d,p))}),l})}getBaseDocument(e,t,i){return null===i||1===i.mutation.type?this.remoteDocumentCache.getEntry(e,t):pe.resolve(mi.newInvalidDocument(t))}}class Cee{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return pe.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var i;return this.Zn.set(t.id,{id:(i=t).id,version:i.version,createTime:Ur(i.createTime)}),pe.resolve()}getNamedQuery(e,t){return pe.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(i=t).name,query:$S(i.bundledQuery),readTime:Ur(i.readTime)}),pe.resolve();var i}}class Mee{constructor(){this.overlays=new Xi(ot.comparator),this.es=new Map}getOverlay(e,t){return pe.resolve(this.overlays.get(t))}getOverlays(e,t){const i=$o();return pe.forEach(t,r=>this.getOverlay(e,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,s)=>{this.ue(e,t,s)}),pe.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.es.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(i)),pe.resolve()}getOverlaysForCollection(e,t,i){const r=$o(),s=t.length+1,l=new ot(t.child("")),d=this.overlays.getIteratorFrom(l);for(;d.hasNext();){const p=d.getNext().value,v=p.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===s&&p.largestBatchId>i&&r.set(p.getKey(),p)}return pe.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let s=new Xi((v,C)=>v-C);const l=this.overlays.getIterator();for(;l.hasNext();){const v=l.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>i){let C=s.get(v.largestBatchId);null===C&&(C=$o(),s=s.insert(v.largestBatchId,C)),C.set(v.getKey(),v)}}const d=$o(),p=s.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((v,C)=>d.set(v,C)),!(d.size()>=r)););return pe.resolve(d)}ue(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const l=this.es.get(r.largestBatchId).delete(i.key);this.es.set(r.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new jS(t,i));let s=this.es.get(t);void 0===s&&(s=pn(),this.es.set(t,s)),this.es.set(t,s.add(i.key))}}class YS{constructor(){this.ns=new ii(jr.ss),this.rs=new ii(jr.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const i=new jr(e,t);this.ns=this.ns.add(i),this.rs=this.rs.add(i)}us(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.cs(new jr(e,t))}hs(e,t){e.forEach(i=>this.removeReference(i,t))}ls(e){const t=new ot(new Vn([])),i=new jr(t,e),r=new jr(t,e+1),s=[];return this.rs.forEachInRange([i,r],l=>{this.cs(l),s.push(l.key)}),s}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new ot(new Vn([])),i=new jr(t,e),r=new jr(t,e+1);let s=pn();return this.rs.forEachInRange([i,r],l=>{s=s.add(l.key)}),s}containsKey(e){const t=new jr(e,0),i=this.ns.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class jr{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return ot.comparator(e.key,t.key)||sn(e._s,t._s)}static os(e,t){return sn(e._s,t._s)||ot.comparator(e.key,t.key)}}class bee{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new ii(jr.ss)}checkEmpty(e){return pe.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const s=this.ws;this.ws++;const l=new US(s,t,i,r);this.mutationQueue.push(l);for(const d of r)this.gs=this.gs.add(new jr(d.key,s)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return pe.resolve(l)}lookupMutationBatch(e,t){return pe.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.ps(t+1),s=r<0?0:r;return pe.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return pe.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return pe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new jr(t,0),r=new jr(t,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([i,r],l=>{const d=this.ys(l._s);s.push(d)}),pe.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new ii(sn);return t.forEach(r=>{const s=new jr(r,0),l=new jr(r,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,l],d=>{i=i.add(d._s)})}),pe.resolve(this.Is(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let s=i;ot.isDocumentKey(s)||(s=s.child(""));const l=new jr(new ot(s),0);let d=new ii(sn);return this.gs.forEachWhile(p=>{const v=p.key.path;return!!i.isPrefixOf(v)&&(v.length===r&&(d=d.add(p._s)),!0)},l),pe.resolve(this.Is(d))}Is(e){const t=[];return e.forEach(i=>{const r=this.ys(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){jt(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let i=this.gs;return pe.forEach(t.mutations,r=>{const s=new jr(r.key,t.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.gs=i})}An(e){}containsKey(e,t){const i=new jr(t,0),r=this.gs.firstAfterOrEqual(i);return pe.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return pe.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class wee{constructor(e){this.Es=e,this.docs=new Xi(ot.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),s=r?r.size:0,l=this.Es(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return pe.resolve(i?i.document.mutableCopy():mi.newInvalidDocument(t))}getEntries(e,t){let i=d2();return t.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():mi.newInvalidDocument(r))}),pe.resolve(i)}getAllFromCollection(e,t,i){let r=d2();const s=new ot(t.child("")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:d,value:{document:p}}=l.getNext();if(!t.isPrefixOf(d.path))break;d.path.length>t.length+1||SS(TH(p),i)<=0||(r=r.insert(p.key,p.mutableCopy()))}return pe.resolve(r)}getAllFromCollectionGroup(e,t,i,r){St()}As(e,t){return pe.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new xee(this)}getSize(e){return pe.resolve(this.size)}}class xee extends ok{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.Yn.addEntry(e,r)):this.Yn.removeEntry(i)}),pe.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class See{constructor(e){this.persistence=e,this.Rs=new g3(t=>e0(t),c9),this.lastRemoteSnapshotVersion=$t.min(),this.highestTargetId=0,this.bs=0,this.Ps=new YS,this.targetCount=0,this.vs=u0.Pn()}forEachTarget(e,t){return this.Rs.forEach((i,r)=>t(r)),pe.resolve()}getLastRemoteSnapshotVersion(e){return pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return pe.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),pe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.bs&&(this.bs=t),pe.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new u0(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,pe.resolve()}updateTargetData(e,t){return this.Dn(t),pe.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,pe.resolve()}removeTargets(e,t,i){let r=0;const s=[];return this.Rs.forEach((l,d)=>{d.sequenceNumber<=t&&null===i.get(d.targetId)&&(this.Rs.delete(l),s.push(this.removeMatchingKeysForTargetId(e,d.targetId)),r++)}),pe.waitFor(s).next(()=>r)}getTargetCount(e){return pe.resolve(this.targetCount)}getTargetData(e,t){const i=this.Rs.get(t)||null;return pe.resolve(i)}addMatchingKeys(e,t,i){return this.Ps.us(t,i),pe.resolve()}removeMatchingKeys(e,t,i){this.Ps.hs(t,i);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(l=>{s.push(r.markPotentiallyOrphaned(e,l))}),pe.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),pe.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Ps.ds(t);return pe.resolve(i)}containsKey(e,t){return pe.resolve(this.Ps.containsKey(t))}}class fk{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new u2(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new See(this),this.indexManager=new uee,this.remoteDocumentCache=new wee(i=>this.referenceDelegate.xs(i)),this.It=new Gz(t),this.Ns=new Cee(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Mee,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Vs[e.toKey()];return i||(i=new bee(t,this.referenceDelegate),this.Vs[e.toKey()]=i),i}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,i){Ke("MemoryPersistence","Starting transaction:",e);const r=new Eee(this.Ss.next());return this.referenceDelegate.ks(),i(r).next(s=>this.referenceDelegate.Os(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Ms(e,t){return pe.or(Object.values(this.Vs).map(i=>()=>i.containsKey(e,t)))}}class Eee extends HH{constructor(e){super(),this.currentSequenceNumber=e}}class ly{constructor(e){this.persistence=e,this.Fs=new YS,this.$s=null}static Bs(e){return new ly(e)}get Ls(){if(this.$s)return this.$s;throw St()}addReference(e,t,i){return this.Fs.addReference(i,t),this.Ls.delete(i.toString()),pe.resolve()}removeReference(e,t,i){return this.Fs.removeReference(i,t),this.Ls.add(i.toString()),pe.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),pe.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(r=>this.Ls.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(s=>this.Ls.add(s.toString()))}).next(()=>i.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pe.forEach(this.Ls,i=>{const r=ot.fromPath(i);return this.Us(e,r).next(s=>{s||t.removeEntry(r,$t.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(i=>{i?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return pe.or([()=>pe.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class Aee{constructor(e){this.It=e}$(e,t,i,r){const s=new G_("createOrUpgrade",t);var d;i<1&&r>=1&&(e.createObjectStore("owner"),(d=e).createObjectStore("mutationQueues",{keyPath:"userId"}),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Pz,{unique:!0}),d.createObjectStore("documentMutations"),hk(e),function(d){d.createObjectStore("remoteDocuments")}(e));let l=pe.resolve();return i<3&&r>=3&&(0!==i&&(function(d){d.deleteObjectStore("targetDocuments"),d.deleteObjectStore("targets"),d.deleteObjectStore("targetGlobal")}(e),hk(e)),l=l.next(()=>function(d){const p=d.store("targetGlobal"),v={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:$t.min().toTimestamp(),targetCount:0};return p.put("targetGlobalKey",v)}(s))),i<4&&r>=4&&(0!==i&&(l=l.next(()=>function(d,p){return p.store("mutations").W().next(v=>{d.deleteObjectStore("mutations"),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Pz,{unique:!0});const C=p.store("mutations"),w=v.map(A=>C.put(A));return pe.waitFor(w)})}(e,s))),l=l.next(()=>{!function(d){d.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(l=l.next(()=>this.qs(s))),i<6&&r>=6&&(l=l.next(()=>(function(d){d.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(s)))),i<7&&r>=7&&(l=l.next(()=>this.Gs(s))),i<8&&r>=8&&(l=l.next(()=>this.Qs(e,s))),i<9&&r>=9&&(l=l.next(()=>{!function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(l=l.next(()=>this.js(s))),i<11&&r>=11&&(l=l.next(()=>{(function(d){d.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(d){d.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(l=l.next(()=>{!function(d){const p=d.createObjectStore("documentOverlays",{keyPath:XJ});p.createIndex("collectionPathOverlayIndex",JJ,{unique:!1}),p.createIndex("collectionGroupOverlayIndex",eee,{unique:!1})}(e)})),i<13&&r>=13&&(l=l.next(()=>function(d){const p=d.createObjectStore("remoteDocumentsV14",{keyPath:BJ});p.createIndex("documentKeyIndex",UJ),p.createIndex("collectionGroupIndex",GJ)}(e)).next(()=>this.Ws(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(l=l.next(()=>this.zs(e,s))),i<15&&r>=15&&(l=l.next(()=>function(d){d.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),d.createObjectStore("indexState",{keyPath:YJ}).createIndex("sequenceNumberIndex",KJ,{unique:!1}),d.createObjectStore("indexEntries",{keyPath:ZJ}).createIndex("documentKeyIndex",QJ,{unique:!1})}(e))),l}Ks(e){let t=0;return e.store("remoteDocuments").Z((i,r)=>{t+=oy(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}qs(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.W().next(r=>pe.forEach(r,s=>{const l=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",l).next(d=>pe.forEach(d,p=>{jt(p.userId===s.userId);const v=o0(this.It,p);return tk(e,s.userId,v).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const s=[];return i.Z((l,d)=>{const p=new Vn(l),v=[0,Rs(p)];s.push(t.get(v).next(C=>C?pe.resolve():t.put({targetId:0,path:Rs(p),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>pe.waitFor(s))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:WJ});const i=t.store("collectionParents"),r=new WS,s=l=>{if(r.add(l)){const d=l.lastSegment(),p=l.popLast();return i.put({collectionId:d,parent:Rs(p)})}};return t.store("remoteDocuments").Z({X:!0},(l,d)=>{const p=new Vn(l);return s(p.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([l,d,p],v)=>{const C=Wo(d);return s(C.popLast())}))}js(e){const t=e.store("targets");return t.Z((i,r)=>{const s=C9(r),l=$z(this.It,s);return t.put(l)})}Ws(e,t){const i=t.store("remoteDocuments"),r=[];return i.Z((s,l)=>{const d=t.store("remoteDocumentsV14"),p=(v=l,v.document?new ot(Vn.fromString(v.document.name).popFirst(5)):v.noDocument?ot.fromSegments(v.noDocument.path):v.unknownDocument?ot.fromSegments(v.unknownDocument.path):St()).path.toArray();var v;const C={prefixPath:p.slice(0,p.length-2),collectionGroup:p[p.length-2],documentId:p[p.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};r.push(d.put(C))}).next(()=>pe.waitFor(r))}zs(e,t){const i=t.store("mutations"),r=ak(this.It),s=new fk(ly.Bs,this.It.re);return i.W().next(l=>{const d=new Map;return l.forEach(p=>{var v;let C=null!==(v=d.get(p.userId))&&void 0!==v?v:pn();o0(this.It,p).keys().forEach(w=>C=C.add(w)),d.set(p.userId,C)}),pe.forEach(d,(p,v)=>{const C=new Br(v),w=iy.oe(this.It,C),A=s.getIndexManager(C),I=ay.oe(C,this.It,A,s.referenceDelegate);return new dk(r,I,w,A).recalculateAndSaveOverlaysForDocumentKeys(new BS(t,u2.at),p).next()})})}}function hk(n){n.createObjectStore("targetDocuments",{keyPath:$J}).createIndex("documentTargetsIndex",qJ,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",jJ,{unique:!0}),n.createObjectStore("targetGlobal")}const KS="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class ZS{constructor(e,t,i,r,s,l,d,p,v,C,w=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.Hs=s,this.window=l,this.document=d,this.Js=v,this.Ys=C,this.Xs=w,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=A=>Promise.resolve(),!ZS.C())throw new Ue(Ce.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new gee(this,r),this.ii=t+"main",this.It=new Gz(p),this.ri=new no(this.ii,this.Xs,new Aee(this.It)),this.Cs=new fee(this.referenceDelegate,this.It),this.remoteDocumentCache=ak(this.It),this.Ns=new ree,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===C&&pr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ue(Ce.FAILED_PRECONDITION,KS);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new u2(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var i=(0,Se.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,Se.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,Se.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>uy(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(u3(e))return Ke("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ke("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return E9(e).get("owner").next(t=>pe.resolve(this.mi(t)))}gi(e){return uy(e).delete(this.clientId)}yi(){var e=this;return(0,Se.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Gr(i,"clientMetadata");return r.W().next(s=>{const l=e.Ii(s,18e5),d=s.filter(p=>-1===l.indexOf(p));return pe.forEach(d,p=>r.delete(p.clientId)).next(()=>d)})}).catch(()=>[]);if(e.oi)for(const i of t)e.oi.removeItem(e.Ti(i.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?pe.resolve(!0):E9(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new Ue(Ce.FAILED_PRECONDITION,KS);return!1}}return!(!this.networkEnabled||!this.inForeground)||uy(e).W().next(i=>void 0===this.Ii(i,5e3).find(r=>{if(this.clientId!==r.clientId){const l=!this.inForeground&&r.inForeground,d=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||l&&d)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Ke("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Se.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new BS(t,u2.at);return e._i(i).next(()=>e.gi(i))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(i=>this.pi(i.updateTimeMs,t)&&!this.Ei(i.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>uy(e).W().next(t=>this.Ii(t,18e5).map(i=>i.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return ay.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new dee(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return iy.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,i){Ke("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",s=15===(l=this.Xs)?nee:14===l?Uz:13===l?Bz:12===l?tee:11===l?Oz:void St();var l;let d;return this.ri.runTransaction(e,r,s,p=>(d=new BS(p,this.Ss?this.Ss.next():u2.at),"readwrite-primary"===t?this.fi(d).next(v=>!!v||this.di(d)).next(v=>{if(!v)throw pr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Ue(Ce.FAILED_PRECONDITION,VH);return i(d)}).next(v=>this.wi(d).next(()=>v)):this.Vi(d).next(()=>i(d)))).then(p=>(d.raiseOnCommittedEvent(),p))}Vi(e){return E9(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ue(Ce.FAILED_PRECONDITION,KS)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return E9(e).put("owner",t)}static C(){return no.C()}_i(e){const t=E9(e);return t.get("owner").next(i=>this.mi(i)?(Ke("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):pe.resolve())}pi(e,t){const i=Date.now();return!(e<i-t||e>i&&(pr(`Detected an update time that is in the future: ${e} > ${i}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,O.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const i=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Ke("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return pr("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){pr("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function E9(n){return Gr(n,"owner")}function uy(n){return Gr(n,"clientMetadata")}function QS(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class XS{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Si=i,this.Di=r}static Ci(e,t){let i=pn(),r=pn();for(const s of t.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new XS(e,t.fromCache,i,r)}}class pk{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,i,r){return this.ki(e,t).next(s=>s||this.Oi(e,t,r,i)).next(s=>s||this.Mi(e,t))}ki(e,t){if(ez(t))return pe.resolve(null);let i=Ns(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=K_(t,null,"F"),i=Ns(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const l=pn(...s);return this.Ni.getDocuments(e,l).next(d=>this.indexManager.getMinOffset(e,i).next(p=>{const v=this.Fi(t,d);return this.$i(t,v,l,p.readTime)?this.ki(e,K_(t,null,"F")):this.Bi(e,v,t,p)}))})))}Oi(e,t,i,r){return ez(t)||r.isEqual($t.min())?this.Mi(e,t):this.Ni.getDocuments(e,i).next(s=>{const l=this.Fi(t,s);return this.$i(t,l,i,r)?this.Mi(e,t):(bS()<=Vs.in.DEBUG&&Ke("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),zS(t)),this.Bi(e,l,t,IH(r,-1)))})}Fi(e,t){let i=new ii(iz(e));return t.forEach((r,s)=>{kS(e,s)&&(i=i.add(s))}),i}$i(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Mi(e,t){return bS()<=Vs.in.DEBUG&&Ke("QueryEngine","Using full collection scan to execute query:",zS(t)),this.Ni.getDocumentsMatchingQuery(e,t,F2.min())}Bi(e,t,i,r){return this.Ni.getDocumentsMatchingQuery(e,i,r).next(s=>(t.forEach(l=>{s=s.insert(l.key,l)}),s))}}class Dee{constructor(e,t,i,r){this.persistence=e,this.Li=t,this.It=r,this.Ui=new Xi(sn),this.qi=new g3(s=>e0(s),c9),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(i)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dk(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function mk(n,e,t,i){return new Dee(n,e,t,i)}function gk(n,e){return JS.apply(this,arguments)}function JS(){return JS=(0,Se.Z)(function*(n,e){const t=at(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,t.Qi(e),t.mutationQueue.getAllMutationBatches(i))).next(s=>{const l=[],d=[];let p=pn();for(const v of r){l.push(v.batchId);for(const C of v.mutations)p=p.add(C.key)}for(const v of s){d.push(v.batchId);for(const C of v.mutations)p=p.add(C.key)}return t.localDocuments.getDocuments(i,p).next(v=>({ji:v,removedBatchIds:l,addedBatchIds:d}))})})}),JS.apply(this,arguments)}function Lee(n,e){const t=at(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=t.Gi.newChangeBuffer({trackRemovals:!0});return function(l,d,p,v){const C=p.batch,w=C.keys();let A=pe.resolve();return w.forEach(I=>{A=A.next(()=>v.getEntry(d,I)).next(k=>{const j=p.docVersions.get(I);jt(null!==j),k.version.compareTo(j)<0&&(C.applyToRemoteDocument(k,p),k.isValidDocument()&&(k.setReadTime(p.commitVersion),v.addEntry(k)))})}),A.next(()=>l.mutationQueue.removeMutationBatch(d,C))}(t,i,e,s).next(()=>s.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(l){let d=pn();for(let p=0;p<l.mutationResults.length;++p)l.mutationResults[p].transformResults.length>0&&(d=d.add(l.batch.mutations[p].key));return d}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function vk(n){const e=at(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function Iee(n,e){const t=at(n),i=e.snapshotVersion;let r=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const l=t.Gi.newChangeBuffer({trackRemovals:!0});r=t.Ui;const d=[];e.targetChanges.forEach((C,w)=>{const A=r.get(w);if(!A)return;d.push(t.Cs.removeMatchingKeys(s,C.removedDocuments,w).next(()=>t.Cs.addMatchingKeys(s,C.addedDocuments,w)));let I=A.withSequenceNumber(s.currentSequenceNumber);var k,j,X;e.targetMismatches.has(w)?I=I.withResumeToken(Vr.EMPTY_BYTE_STRING,$t.min()).withLastLimboFreeSnapshotVersion($t.min()):C.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(C.resumeToken,i)),r=r.insert(w,I),j=I,X=C,(0===(k=A).resumeToken.approximateByteSize()||j.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=3e8||X.addedDocuments.size+X.modifiedDocuments.size+X.removedDocuments.size>0)&&d.push(t.Cs.updateTargetData(s,I))});let p=d2(),v=pn();if(e.documentUpdates.forEach(C=>{e.resolvedLimboDocuments.has(C)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(s,C))}),d.push(_k(s,l,e.documentUpdates).next(C=>{p=C.Wi,v=C.zi})),!i.isEqual($t.min())){const C=t.Cs.getLastRemoteSnapshotVersion(s).next(w=>t.Cs.setTargetsMetadata(s,s.currentSequenceNumber,i));d.push(C)}return pe.waitFor(d).next(()=>l.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,p,v)).next(()=>p)}).then(s=>(t.Ui=r,s))}function _k(n,e,t){let i=pn(),r=pn();return t.forEach(s=>i=i.add(s)),e.getEntries(n,i).next(s=>{let l=d2();return t.forEach((d,p)=>{const v=s.get(d);p.isFoundDocument()!==v.isFoundDocument()&&(r=r.add(d)),p.isNoDocument()&&p.version.isEqual($t.min())?(e.removeEntry(d,p.readTime),l=l.insert(d,p)):!v.isValidDocument()||p.version.compareTo(v.version)>0||0===p.version.compareTo(v.version)&&v.hasPendingWrites?(e.addEntry(p),l=l.insert(d,p)):Ke("LocalStore","Ignoring outdated watch update for ",d,". Current version:",v.version," Watch version:",p.version)}),{Wi:l,zi:r}})}function Tee(n,e){const t=at(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Hd(n,e){const t=at(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Cs.getTargetData(i,e).next(s=>s?(r=s,pe.resolve(r)):t.Cs.allocateTargetId(i).next(l=>(r=new v3(e,l,0,i.currentSequenceNumber),t.Cs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.Ui.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(i.targetId,i),t.qi.set(e,i.targetId)),i})}function zd(n,e,t){return eE.apply(this,arguments)}function eE(){return eE=(0,Se.Z)(function*(n,e,t){const i=at(n),r=i.Ui.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",s,l=>i.persistence.referenceDelegate.removeTarget(l,r)))}catch(l){if(!u3(l))throw l;Ke("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}i.Ui=i.Ui.remove(e),i.qi.delete(r.target)}),eE.apply(this,arguments)}function dy(n,e,t){const i=at(n);let r=$t.min(),s=pn();return i.persistence.runTransaction("Execute query","readonly",l=>function(d,p,v){const C=at(d),w=C.qi.get(v);return void 0!==w?pe.resolve(C.Ui.get(w)):C.Cs.getTargetData(p,v)}(i,l,Ns(e)).next(d=>{if(d)return r=d.lastLimboFreeSnapshotVersion,i.Cs.getMatchingKeysForTargetId(l,d.targetId).next(p=>{s=p})}).next(()=>i.Li.getDocumentsMatchingQuery(l,e,t?r:$t.min(),t?s:pn())).next(d=>(Mk(i,nz(e),d),{documents:d,Hi:s})))}function yk(n,e){const t=at(n),i=at(t.Cs),r=t.Ui.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",s=>i.se(s,e).next(l=>l?l.target:null))}function Ck(n,e){const t=at(n),i=t.Ki.get(e)||$t.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.Gi.getAllFromCollectionGroup(r,e,IH(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(Mk(t,e,r),r))}function Mk(n,e,t){let i=n.Ki.get(e)||$t.min();t.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.Ki.set(e,i)}function tE(){return tE=(0,Se.Z)(function*(n,e,t,i){const r=at(n);let s=pn(),l=d2();for(const v of t){const C=e.Ji(v.metadata.name);v.document&&(s=s.add(C));const w=e.Yi(v);w.setReadTime(e.Xi(v.metadata.readTime)),l=l.insert(C,w)}const d=r.Gi.newChangeBuffer({trackRemovals:!0}),p=yield Hd(r,(v=i,Ns(wd(Vn.fromString(`__bundle__/docs/${v}`)))));var v;return r.persistence.runTransaction("Apply bundle documents","readwrite",v=>_k(v,d,l).next(C=>(d.apply(v),C)).next(C=>r.Cs.removeMatchingKeysForTargetId(v,p.targetId).next(()=>r.Cs.addMatchingKeys(v,s,p.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(v,C.Wi,C.zi)).next(()=>C.Wi)))}),tE.apply(this,arguments)}function Hee(n,e){return nE.apply(this,arguments)}function nE(){return nE=(0,Se.Z)(function*(n,e,t=pn()){const i=yield Hd(n,Ns($S(e.bundledQuery))),r=at(n);return r.persistence.runTransaction("Save named query","readwrite",s=>{const l=Ur(e.readTime);if(i.snapshotVersion.compareTo(l)>=0)return r.Ns.saveNamedQuery(s,e);const d=i.withResumeToken(Vr.EMPTY_BYTE_STRING,l);return r.Ui=r.Ui.insert(d.targetId,d),r.Cs.updateTargetData(s,d).next(()=>r.Cs.removeMatchingKeysForTargetId(s,i.targetId)).next(()=>r.Cs.addMatchingKeys(s,t,i.targetId)).next(()=>r.Ns.saveNamedQuery(s,e))})}),nE.apply(this,arguments)}function bk(n,e){return`firestore_clients_${n}_${e}`}function wk(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function iE(n,e){return`firestore_targets_${n}_${e}`}class fy{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static Zi(e,t,i){const r=JSON.parse(i);let s,l="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(s=new Ue(r.error.code,r.error.message))),l?new fy(e,t,r.state,s):(pr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class A9{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Zi(e,t){const i=JSON.parse(t);let r,s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new Ue(i.error.code,i.error.message))),s?new A9(e,i.state,r):(pr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class hy{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,s=J_();for(let l=0;r&&l<i.activeTargetIds.length;++l)r=FH(i.activeTargetIds[l]),s=s.add(i.activeTargetIds[l]);return r?new hy(e,s):(pr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class rE{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new rE(t.clientId,t.onlineState):(pr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class sE{constructor(){this.activeTargetIds=J_()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class oE{constructor(e,t,i,r,s){this.window=e,this.Hs=t,this.persistenceKey=i,this.sr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Xi(sn),this.started=!1,this.cr=[];const l=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ar=bk(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new sE),this.lr=new RegExp(`^firestore_clients_${l}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${l}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${l}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(d){return`firestore_bundle_loaded_v2_${d}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Se.Z)(function*(){const t=yield e.syncEngine.vi();for(const r of t){if(r===e.sr)continue;const s=e.getItem(bk(e.persistenceKey,r));if(s){const l=hy.Zi(r,s);l&&(e.ur=e.ur.insert(l.clientId,l))}}e.gr();const i=e.storage.getItem(e.wr);if(i){const r=e.yr(i);r&&e.pr(r)}for(const r of e.cr)e.rr(r);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,i){this.Tr(e,t,i),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(iE(this.persistenceKey,e));if(i){const r=A9.Zi(e,i);r&&(t=r.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(iE(this.persistenceKey,e))}updateQueryState(e,t,i){this.Rr(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Er(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ke("SharedClientState","READ",e,t),t}setItem(e,t){Ke("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ke("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const i=e;if(i.storageArea===this.storage){if(Ke("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ar)return void pr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,Se.Z)(function*(){if(t.started){if(null!==i.key)if(t.lr.test(i.key)){if(null==i.newValue){const r=t.vr(i.key);return t.Vr(r,null)}{const r=t.Sr(i.key,i.newValue);if(r)return t.Vr(r.clientId,r)}}else if(t.dr.test(i.key)){if(null!==i.newValue){const r=t.Dr(i.key,i.newValue);if(r)return t.Cr(r)}}else if(t._r.test(i.key)){if(null!==i.newValue){const r=t.Nr(i.key,i.newValue);if(r)return t.kr(r)}}else if(i.key===t.wr){if(null!==i.newValue){const r=t.yr(i.newValue);if(r)return t.pr(r)}}else if(i.key===t.hr){const r=function(s){let l=u2.at;if(null!=s)try{const d=JSON.parse(s);jt("number"==typeof d),l=d}catch(d){pr("SharedClientState","Failed to read sequence number from WebStorage",d)}return l}(i.newValue);r!==u2.at&&t.sequenceNumberHandler(r)}else if(i.key===t.mr){const r=t.Or(i.newValue);yield Promise.all(r.map(s=>t.syncEngine.Mr(s)))}}else t.cr.push(i)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,i){const r=new fy(this.currentUser,e,t,i),s=wk(this.persistenceKey,this.currentUser,e);this.setItem(s,r.tr())}Er(e){const t=wk(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,i){const r=iE(this.persistenceKey,e),s=new A9(e,t,i);this.setItem(r,s.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const i=this.vr(e);return hy.Zi(i,t)}Dr(e,t){const i=this.dr.exec(e),r=Number(i[1]);return fy.Zi(new Br(void 0!==i[2]?i[2]:null),r,t)}Nr(e,t){const i=this._r.exec(e),r=Number(i[1]);return A9.Zi(r,t)}yr(e){return rE.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,Se.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);Ke("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const i=t?this.ur.insert(e,t):this.ur.remove(e),r=this.Ir(this.ur),s=this.Ir(i),l=[],d=[];return s.forEach(p=>{r.has(p)||l.push(p)}),r.forEach(p=>{s.has(p)||d.push(p)}),this.syncEngine.Br(l,d).then(()=>{this.ur=i})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=J_();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class xk{constructor(){this.Lr=new sE,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,i){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new sE,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class zee{qr(e){}shutdown(){}}class Sk{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Ke("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Ke("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const kee={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Nee{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class Ree extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,i,r,s){const l=this.ho(e,t);Ke("RestConnection","Sending: ",l,i);const d={};return this.lo(d,r,s),this.fo(e,l,d,i).then(p=>(Ke("RestConnection","Received: ",p),p),p=>{throw W6("RestConnection",`${e} failed with error: `,p,"url: ",l,"request:",i),p})}_o(e,t,i,r,s,l){return this.ao(e,t,i,r,s)}lo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+_d,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,s)=>e[s]=r),i&&i.headers.forEach((r,s)=>e[s]=r)}ho(e,t){return`${this.oo}/v1/${t}:${kee[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,i,r){return new Promise((s,l)=>{const d=new kX;d.setWithCredentials(!0),d.listenOnce(VX.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case MS.NO_ERROR:const v=d.getResponseJson();Ke("Connection","XHR received:",JSON.stringify(v)),s(v);break;case MS.TIMEOUT:Ke("Connection",'RPC "'+e+'" timed out'),l(new Ue(Ce.DEADLINE_EXCEEDED,"Request time out"));break;case MS.HTTP_ERROR:const C=d.getStatus();if(Ke("Connection",'RPC "'+e+'" failed with status:',C,"response text:",d.getResponseText()),C>0){const w=d.getResponseJson().error;if(w&&w.status&&w.message){const A=function(I){const k=I.toLowerCase().replace(/_/g,"-");return Object.values(Ce).indexOf(k)>=0?k:Ce.UNKNOWN}(w.status);l(new Ue(A,w.message))}else l(new Ue(Ce.UNKNOWN,"Server responded with status "+d.getStatus()))}else l(new Ue(Ce.UNAVAILABLE,"Connection failed."));break;default:St()}}finally{Ke("Connection",'RPC "'+e+'" completed.')}});const p=JSON.stringify(r);d.send(t,"POST",p,i,15)})}wo(e,t,i){const r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=IX(),l=TX(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(d.xmlHttpFactory=new zX({})),this.lo(d.initMessageHeaders,t,i),d.encodeInitMessageHeaders=!0;const p=r.join("");Ke("Connection","Creating WebChannel: "+p,d);const v=s.createWebChannel(p,d);let C=!1,w=!1;const A=new Nee({Hr:k=>{w?Ke("Connection","Not sending because WebChannel is closed:",k):(C||(Ke("Connection","Opening WebChannel transport."),v.open(),C=!0),Ke("Connection","WebChannel sending:",k),v.send(k))},Jr:()=>v.close()}),I=(k,j,X)=>{k.listen(j,xe=>{try{X(xe)}catch(ke){setTimeout(()=>{throw ke},0)}})};return I(v,O_.EventType.OPEN,()=>{w||Ke("Connection","WebChannel transport opened.")}),I(v,O_.EventType.CLOSE,()=>{w||(w=!0,Ke("Connection","WebChannel transport closed"),A.io())}),I(v,O_.EventType.ERROR,k=>{w||(w=!0,W6("Connection","WebChannel transport errored:",k),A.io(new Ue(Ce.UNAVAILABLE,"The operation could not be completed")))}),I(v,O_.EventType.MESSAGE,k=>{var j;if(!w){const X=k.data[0];jt(!!X);const xe=X,ke=xe.error||(null===(j=xe[0])||void 0===j?void 0:j.error);if(ke){Ke("Connection","WebChannel received error:",ke);const qe=ke.status;let Ze=function(bt){const en=xr[bt];if(void 0!==en)return _z(en)}(qe),dt=ke.message;void 0===Ze&&(Ze=Ce.INTERNAL,dt="Unknown error status: "+qe+" with message "+ke.message),w=!0,A.io(new Ue(Ze,dt)),v.close()}else Ke("Connection","WebChannel received:",X),A.ro(X)}}),I(l,HX.STAT_EVENT,k=>{k.stat===xH.PROXY?Ke("Connection","Detected buffering proxy"):k.stat===xH.NOPROXY&&Ke("Connection","Detected no buffering proxy")}),setTimeout(()=>{A.so()},0),A}}function Ek(){return typeof window<"u"?window:null}function py(){return typeof document<"u"?document:null}function D9(n){return new DJ(n,!0)}class aE{constructor(e,t,i=1e3,r=1.5,s=6e4){this.Hs=e,this.timerId=t,this.mo=i,this.yo=r,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),i=Math.max(0,Date.now()-this.Eo),r=Math.max(0,t-i);r>0&&Ke("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,r,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class Ak{constructor(e,t,i,r,s,l,d,p){this.Hs=e,this.vo=i,this.Vo=r,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new aE(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,Se.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,Se.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var i=this;return(0,Se.Z)(function*(){i.Lo(),i.Uo(),i.xo.cancel(),i.So++,4!==e?i.xo.reset():t&&t.code===Ce.RESOURCE_EXHAUSTED?(pr(t.toString()),pr("Using maximum backoff delay to prevent overloading the backend."),i.xo.Ao()):t&&t.code===Ce.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.qo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.So===t&&this.Go(i,r)},i=>{e(()=>{const r=new Ue(Ce.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Qo(r)})})}Go(e,t){const i=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{i(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(r=>{i(()=>this.Qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,Se.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Ke("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(Ke("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Pee extends Ak{constructor(e,t,i,r,s,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,l),this.It=s}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function TJ(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(p=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===p?1:"REMOVE"===p?2:"CURRENT"===p?3:"RESET"===p?4:St(),r=e.targetChange.targetIds||[],s=function(p,v){return p.gt?(jt(void 0===v||"string"==typeof v),Vr.fromBase64String(v||"")):(jt(void 0===v||v instanceof Uint8Array),Vr.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,d=l&&function(p){const v=void 0===p.code?Ce.UNKNOWN:_z(p.code);return new Ue(v,p.message||"")}(l);t=new wz(i,r,s,d||null)}else if("documentChange"in e){const i=e.documentChange,r=qo(n,i.document.name),s=Ur(i.document.updateTime),l=new rs({mapValue:{fields:i.document.fields}}),d=mi.newFoundDocument(r,s,l);t=new ey(i.targetIds||[],i.removedTargetIds||[],d.key,d)}else if("documentDelete"in e){const i=e.documentDelete,r=qo(n,i.document),s=i.readTime?Ur(i.readTime):$t.min(),l=mi.newNoDocument(r,s);t=new ey([],i.removedTargetIds||[],l.key,l)}else if("documentRemove"in e){const i=e.documentRemove,r=qo(n,i.document);t=new ey([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return St();{const i=e.filter,s=new CJ(i.count||0);t=new bz(i.targetId,s)}}var p;return t}(this.It,e),i=function(r){if(!("targetChange"in r))return $t.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?$t.min():s.readTime?Ur(s.readTime):$t.min()}(e);return this.listener.Wo(t,i)}zo(e){const t={};t.database=_9(this.It),t.addTarget=function(r,s){let l;const d=s.target;return l=W_(d)?{documents:Hz(r,d)}:{query:OS(r,d)},l.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?l.resumeToken=Az(r,s.resumeToken):s.snapshotVersion.compareTo($t.min())>0&&(l.readTime=g9(r,s.snapshotVersion.toTimestamp())),l}(this.It,e);const i=function HJ(n,e){const t=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return St()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Bo(t)}Ho(e){const t={};t.database=_9(this.It),t.removeTarget=e,this.Bo(t)}}class Fee extends Ak{constructor(e,t,i,r,s,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,l),this.It=s,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(jt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function VJ(n,e){return n&&n.length>0?(jt(void 0!==e),n.map(t=>function(i,r){let s=Ur(i.updateTime?i.updateTime:r);return s.isEqual($t.min())&&(s=Ur(r)),new vJ(s,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=Ur(e.commitTime);return this.listener.Zo(i,t)}return jt(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=_9(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>y9(this.It,i))};this.Bo(t)}}class Oee extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.It=r,this.nu=!1}su(){if(this.nu)throw new Ue(Ce.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.ao(e,t,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===Ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Ue(Ce.UNKNOWN,r.toString())})}_o(e,t,i,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection._o(e,t,i,s,l,r)).catch(s=>{throw"FirebaseError"===s.name?(s.code===Ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ue(Ce.UNKNOWN,s.toString())})}terminate(){this.nu=!0}}class Uee{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(pr(t),this.ou=!1):Ke("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class Gee{constructor(e,t,i,r,s){var l=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=s,this.mu.qr(d=>{i.enqueueAndForget((0,Se.Z)(function*(){var p;mc(l)&&(Ke("RemoteStore","Restarting streams for network reachability change."),yield(p=(0,Se.Z)(function*(v){const C=at(v);C._u.add(4),yield kd(C),C.gu.set("Unknown"),C._u.delete(4),yield L9(C)}),function(v){return p.apply(this,arguments)})(l))}))}),this.gu=new Uee(i,r)}}function L9(n){return lE.apply(this,arguments)}function lE(){return lE=(0,Se.Z)(function*(n){if(mc(n))for(const e of n.wu)yield e(!0)}),lE.apply(this,arguments)}function kd(n){return uE.apply(this,arguments)}function uE(){return uE=(0,Se.Z)(function*(n){for(const e of n.wu)yield e(!1)}),uE.apply(this,arguments)}function my(n,e){const t=at(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),hE(t)?fE(t):Rd(t).ko()&&dE(t,e))}function I9(n,e){const t=at(n),i=Rd(t);t.du.delete(e),i.ko()&&Dk(t,e),0===t.du.size&&(i.ko()?i.Fo():mc(t)&&t.gu.set("Unknown"))}function dE(n,e){n.yu.Mt(e.targetId),Rd(n).zo(e)}function Dk(n,e){n.yu.Mt(e),Rd(n).Ho(e)}function fE(n){n.yu=new SJ({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),se:e=>n.du.get(e)||null}),Rd(n).start(),n.gu.uu()}function hE(n){return mc(n)&&!Rd(n).No()&&n.du.size>0}function mc(n){return 0===at(n)._u.size}function Lk(n){n.yu=void 0}function jee(n){return pE.apply(this,arguments)}function pE(){return pE=(0,Se.Z)(function*(n){n.du.forEach((e,t)=>{dE(n,e)})}),pE.apply(this,arguments)}function $ee(n,e){return mE.apply(this,arguments)}function mE(){return mE=(0,Se.Z)(function*(n,e){Lk(n),hE(n)?(n.gu.hu(e),fE(n)):n.gu.set("Unknown")}),mE.apply(this,arguments)}function qee(n,e,t){return gE.apply(this,arguments)}function gE(){return gE=(0,Se.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof wz&&2===e.state&&e.cause)try{yield(i=(0,Se.Z)(function*(r,s){const l=s.cause;for(const d of s.targetIds)r.du.has(d)&&(yield r.remoteSyncer.rejectListen(d,l),r.du.delete(d),r.yu.removeTarget(d))}),function(r,s){return i.apply(this,arguments)})(n,e)}catch(i){Ke("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield gy(n,i)}else if(e instanceof ey?n.yu.Gt(e):e instanceof bz?n.yu.Yt(e):n.yu.Wt(e),!t.isEqual($t.min()))try{const i=yield vk(n.localStore);t.compareTo(i)>=0&&(yield function(r,s){const l=r.yu.te(s);return l.targetChanges.forEach((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const v=r.du.get(p);v&&r.du.set(p,v.withResumeToken(d.resumeToken,s))}}),l.targetMismatches.forEach(d=>{const p=r.du.get(d);if(!p)return;r.du.set(d,p.withResumeToken(Vr.EMPTY_BYTE_STRING,p.snapshotVersion)),Dk(r,d);const v=new v3(p.target,d,1,p.sequenceNumber);dE(r,v)}),r.remoteSyncer.applyRemoteEvent(l)}(n,t))}catch(i){Ke("RemoteStore","Failed to raise snapshot:",i),yield gy(n,i)}var i}),gE.apply(this,arguments)}function gy(n,e,t){return vE.apply(this,arguments)}function vE(){return vE=(0,Se.Z)(function*(n,e,t){if(!u3(e))throw e;n._u.add(1),yield kd(n),n.gu.set("Offline"),t||(t=()=>vk(n.localStore)),n.asyncQueue.enqueueRetryable((0,Se.Z)(function*(){Ke("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield L9(n)}))}),vE.apply(this,arguments)}function Ik(n,e){return e().catch(t=>gy(n,t,e))}function Nd(n){return _E.apply(this,arguments)}function _E(){return _E=(0,Se.Z)(function*(n){const e=at(n),t=C3(e);let i=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;Wee(e);)try{const r=yield Tee(e.localStore,i);if(null===r){0===e.fu.length&&t.Fo();break}i=r.batchId,Yee(e,r)}catch(r){yield gy(e,r)}Tk(e)&&Vk(e)}),_E.apply(this,arguments)}function Wee(n){return mc(n)&&n.fu.length<10}function Yee(n,e){n.fu.push(e);const t=C3(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function Tk(n){return mc(n)&&!C3(n).No()&&n.fu.length>0}function Vk(n){C3(n).start()}function Kee(n){return yE.apply(this,arguments)}function yE(){return yE=(0,Se.Z)(function*(n){C3(n).eu()}),yE.apply(this,arguments)}function Zee(n){return CE.apply(this,arguments)}function CE(){return CE=(0,Se.Z)(function*(n){const e=C3(n);for(const t of n.fu)e.Xo(t.mutations)}),CE.apply(this,arguments)}function Qee(n,e,t){return ME.apply(this,arguments)}function ME(){return ME=(0,Se.Z)(function*(n,e,t){const i=n.fu.shift(),r=GS.from(i,e,t);yield Ik(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Nd(n)}),ME.apply(this,arguments)}function Xee(n,e){return bE.apply(this,arguments)}function bE(){return bE=(0,Se.Z)(function*(n,e){var t;e&&C3(n).Yo&&(yield(t=(0,Se.Z)(function*(i,r){if(vz(s=r.code)&&s!==Ce.ABORTED){const l=i.fu.shift();C3(i).Mo(),yield Ik(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,r)),yield Nd(i)}var s}),function(i,r){return t.apply(this,arguments)})(n,e)),Tk(n)&&Vk(n)}),bE.apply(this,arguments)}function Hk(n,e){return wE.apply(this,arguments)}function wE(){return wE=(0,Se.Z)(function*(n,e){const t=at(n);t.asyncQueue.verifyOperationInProgress(),Ke("RemoteStore","RemoteStore received new credentials");const i=mc(t);t._u.add(3),yield kd(t),i&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield L9(t)}),wE.apply(this,arguments)}function xE(n,e){return SE.apply(this,arguments)}function SE(){return SE=(0,Se.Z)(function*(n,e){const t=at(n);e?(t._u.delete(2),yield L9(t)):e||(t._u.add(2),yield kd(t),t.gu.set("Unknown"))}),SE.apply(this,arguments)}function Rd(n){return n.pu||(n.pu=function(e,t,i){const r=at(e);return r.su(),new Pee(t,r.connection,r.authCredentials,r.appCheckCredentials,r.It,i)}(n.datastore,n.asyncQueue,{Yr:jee.bind(null,n),Zr:$ee.bind(null,n),Wo:qee.bind(null,n)}),n.wu.push(function(){var e=(0,Se.Z)(function*(t){t?(n.pu.Mo(),hE(n)?fE(n):n.gu.set("Unknown")):(yield n.pu.stop(),Lk(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function C3(n){return n.Iu||(n.Iu=function(e,t,i){const r=at(e);return r.su(),new Fee(t,r.connection,r.authCredentials,r.appCheckCredentials,r.It,i)}(n.datastore,n.asyncQueue,{Yr:Kee.bind(null,n),Zr:Xee.bind(null,n),tu:Zee.bind(null,n),Zo:Qee.bind(null,n)}),n.wu.push(function(){var e=(0,Se.Z)(function*(t){t?(n.Iu.Mo(),yield Nd(n)):(yield n.Iu.stop(),n.fu.length>0&&(Ke("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class EE{constructor(e,t,i,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Tr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,t,i,r,s){const l=Date.now()+i,d=new EE(e,t,l,r,s);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ue(Ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pd(n,e){if(pr("AsyncQueue",`${e}: ${n}`),u3(n))return new Ue(Ce.UNAVAILABLE,`${e}: ${n}`);throw n}class Fd{constructor(e){this.comparator=e?(t,i)=>e(t,i)||ot.comparator(t.key,i.key):(t,i)=>ot.comparator(t.key,i.key),this.keyedMap=f9(),this.sortedSet=new Xi(this.comparator)}static emptySet(e){return new Fd(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Fd)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new Fd;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class zk{constructor(){this.Tu=new Xi(ot.comparator)}track(e){const t=e.doc.key,i=this.Tu.get(t);i?0!==e.type&&3===i.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==i.type?this.Tu=this.Tu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Tu=this.Tu.remove(t):1===e.type&&2===i.type?this.Tu=this.Tu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):St():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,i)=>{e.push(i)}),e}}class Od{constructor(e,t,i,r,s,l,d,p,v){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=v}static fromInitialDocuments(e,t,i,r,s){const l=[];return t.forEach(d=>{l.push({type:0,doc:d})}),new Od(e,t,Fd.emptySet(t),l,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&l9(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class Jee{constructor(){this.Au=void 0,this.listeners=[]}}class ete{constructor(){this.queries=new g3(e=>tz(e),l9),this.onlineState="Unknown",this.Ru=new Set}}function AE(n,e){return DE.apply(this,arguments)}function DE(){return DE=(0,Se.Z)(function*(n,e){const t=at(n),i=e.query;let r=!1,s=t.queries.get(i);if(s||(r=!0,s=new Jee),r)try{s.Au=yield t.onListen(i)}catch(l){const d=Pd(l,`Initialization of query '${zS(e.query)}' failed`);return void e.onError(d)}t.queries.set(i,s),s.listeners.push(e),e.bu(t.onlineState),s.Au&&e.Pu(s.Au)&&TE(t)}),DE.apply(this,arguments)}function LE(n,e){return IE.apply(this,arguments)}function IE(){return IE=(0,Se.Z)(function*(n,e){const t=at(n),i=e.query;let r=!1;const s=t.queries.get(i);if(s){const l=s.listeners.indexOf(e);l>=0&&(s.listeners.splice(l,1),r=0===s.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),IE.apply(this,arguments)}function tte(n,e){const t=at(n);let i=!1;for(const r of e){const l=t.queries.get(r.query);if(l){for(const d of l.listeners)d.Pu(r)&&(i=!0);l.Au=r}}i&&TE(t)}function nte(n,e,t){const i=at(n),r=i.queries.get(e);if(r)for(const s of r.listeners)s.onError(t);i.queries.delete(e)}function TE(n){n.Ru.forEach(e=>{e.next()})}class VE{constructor(e,t,i){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=i||{}}Pu(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new Od(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=Od.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class ite{constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}class kk{constructor(e){this.It=e}Ji(e){return qo(this.It,e)}Yi(e){return e.metadata.exists?Vz(this.It,e.document,!1):mi.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return Ur(e)}}class rte{constructor(e,t,i){this.Mu=e,this.localStore=t,this.It=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Nk(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const i=Vn.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,i=new kk(this.It);for(const r of e)if(r.metadata.queries){const s=i.Ji(r.metadata.name);for(const l of r.metadata.queries){const d=(t.get(l)||pn()).add(s);t.set(l,d)}}return t}complete(){var e=this;return(0,Se.Z)(function*(){const t=yield function Vee(n,e,t,i){return tE.apply(this,arguments)}(e.localStore,new kk(e.It),e.documents,e.Mu.id),i=e.$u(e.documents);for(const r of e.queries)yield Hee(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function Nk(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class Rk{constructor(e){this.key=e}}class Pk{constructor(e){this.key=e}}class Fk{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=pn(),this.mutatedKeys=pn(),this.Gu=iz(e),this.Qu=new Fd(this.Gu)}get ju(){return this.Uu}Wu(e,t){const i=t?t.zu:new zk,r=t?t.Qu:this.Qu;let s=t?t.mutatedKeys:this.mutatedKeys,l=r,d=!1;const p="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,v="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((C,w)=>{const A=r.get(C),I=kS(this.query,w)?w:null,k=!!A&&this.mutatedKeys.has(A.key),j=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let X=!1;A&&I?A.data.isEqual(I.data)?k!==j&&(i.track({type:3,doc:I}),X=!0):this.Hu(A,I)||(i.track({type:2,doc:I}),X=!0,(p&&this.Gu(I,p)>0||v&&this.Gu(I,v)<0)&&(d=!0)):!A&&I?(i.track({type:0,doc:I}),X=!0):A&&!I&&(i.track({type:1,doc:A}),X=!0,(p||v)&&(d=!0)),X&&(I?(l=l.add(I),s=j?s.add(C):s.delete(C)):(l=l.delete(C),s=s.delete(C)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const C="F"===this.query.limitType?l.last():l.first();l=l.delete(C.key),s=s.delete(C.key),i.track({type:1,doc:C})}return{Qu:l,zu:i,$i:d,mutatedKeys:s}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const s=e.zu.Eu();s.sort((v,C)=>function(w,A){const I=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return St()}};return I(w)-I(A)}(v.type,C.type)||this.Gu(v.doc,C.doc)),this.Ju(i);const l=t?this.Yu():[],d=0===this.Ku.size&&this.current?1:0,p=d!==this.qu;return this.qu=d,0!==s.length||p?{snapshot:new Od(this.query,e.Qu,r,s,e.mutatedKeys,0===d,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),Xu:l}:{Xu:l}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new zk,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=pn(),this.Qu.forEach(i=>{this.Zu(i.key)&&(this.Ku=this.Ku.add(i.key))});const t=[];return e.forEach(i=>{this.Ku.has(i)||t.push(new Pk(i))}),this.Ku.forEach(i=>{e.has(i)||t.push(new Rk(i))}),t}tc(e){this.Uu=e.Hi,this.Ku=pn();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return Od.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class ste{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class ote{constructor(e){this.key=e,this.nc=!1}}class ate{constructor(e,t,i,r,s,l){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.sc={},this.ic=new g3(d=>tz(d),l9),this.rc=new Map,this.oc=new Set,this.uc=new Xi(ot.comparator),this.cc=new Map,this.ac=new YS,this.hc={},this.lc=new Map,this.fc=u0.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function cte(n,e){return HE.apply(this,arguments)}function HE(){return HE=(0,Se.Z)(function*(n,e){const t=nA(n);let i,r;const s=t.ic.get(e);if(s)i=s.targetId,t.sharedClientState.addLocalQueryTarget(i),r=s.view.ec();else{const l=yield Hd(t.localStore,Ns(e));t.isPrimaryClient&&my(t.remoteStore,l);const d=t.sharedClientState.addLocalQueryTarget(l.targetId);i=l.targetId,r=yield zE(t,e,i,"current"===d,l.resumeToken)}return r}),HE.apply(this,arguments)}function zE(n,e,t,i,r){return kE.apply(this,arguments)}function kE(){return kE=(0,Se.Z)(function*(n,e,t,i,r){n._c=(w,A,I)=>{return(k=(0,Se.Z)(function*(j,X,xe,ke){let qe=X.view.Wu(xe);qe.$i&&(qe=yield dy(j.localStore,X.query,!1).then(({documents:bt})=>X.view.Wu(bt,qe)));const Ze=ke&&ke.targetChanges.get(X.targetId),dt=X.view.applyChanges(qe,j.isPrimaryClient,Ze);return $E(j,X.targetId,dt.Xu),dt.snapshot}),function(j,X,xe,ke){return k.apply(this,arguments)})(n,w,A,I);var k};const s=yield dy(n.localStore,e,!0),l=new Fk(e,s.Hi),d=l.Wu(s.documents),p=m9.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),v=l.applyChanges(d,n.isPrimaryClient,p);$E(n,t,v.Xu);const C=new ste(e,t,l);return n.ic.set(e,C),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),v.snapshot}),kE.apply(this,arguments)}function lte(n,e){return NE.apply(this,arguments)}function NE(){return NE=(0,Se.Z)(function*(n,e){const t=at(n),i=t.ic.get(e),r=t.rc.get(i.targetId);if(r.length>1)return t.rc.set(i.targetId,r.filter(s=>!l9(s,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield zd(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),I9(t.remoteStore,i.targetId),Bd(t,i.targetId)}).catch(l3))):(Bd(t,i.targetId),yield zd(t.localStore,i.targetId,!0))}),NE.apply(this,arguments)}function RE(){return RE=(0,Se.Z)(function*(n,e,t){const i=iA(n);try{const r=yield function(s,l){const d=at(s),p=Vi.now(),v=l.reduce((A,I)=>A.add(I.key),pn());let C,w;return d.persistence.runTransaction("Locally write mutations","readwrite",A=>{let I=d2(),k=pn();return d.Gi.getEntries(A,v).next(j=>{I=j,I.forEach((X,xe)=>{xe.isValidDocument()||(k=k.add(X))})}).next(()=>d.localDocuments.getOverlayedDocuments(A,I)).next(j=>{C=j;const X=[];for(const xe of l){const ke=yJ(xe,C.get(xe.key).overlayedDocument);null!=ke&&X.push(new pc(xe.key,ke,qH(ke.value.mapValue),Hi.exists(!0)))}return d.mutationQueue.addMutationBatch(A,p,X,l)}).next(j=>{w=j;const X=j.applyToLocalDocumentSet(C,k);return d.documentOverlayCache.saveOverlays(A,j.batchId,X)})}).then(()=>({batchId:w.batchId,changes:Cz(C)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,l,d){let p=s.hc[s.currentUser.toKey()];p||(p=new Xi(sn)),p=p.insert(l,d),s.hc[s.currentUser.toKey()]=p}(i,r.batchId,t),yield gc(i,r.changes),yield Nd(i.remoteStore)}catch(r){const s=Pd(r,"Failed to persist write");t.reject(s)}}),RE.apply(this,arguments)}function Ok(n,e){return PE.apply(this,arguments)}function PE(){return PE=(0,Se.Z)(function*(n,e){const t=at(n);try{const i=yield Iee(t.localStore,e);e.targetChanges.forEach((r,s)=>{const l=t.cc.get(s);l&&(jt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?l.nc=!0:r.modifiedDocuments.size>0?jt(l.nc):r.removedDocuments.size>0&&(jt(l.nc),l.nc=!1))}),yield gc(t,i,e)}catch(i){yield l3(i)}}),PE.apply(this,arguments)}function Bk(n,e,t){const i=at(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.ic.forEach((s,l)=>{const d=l.view.bu(e);d.snapshot&&r.push(d.snapshot)}),function(s,l){const d=at(s);d.onlineState=l;let p=!1;d.queries.forEach((v,C)=>{for(const w of C.listeners)w.bu(l)&&(p=!0)}),p&&TE(d)}(i.eventManager,e),r.length&&i.sc.Wo(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function dte(n,e,t){return FE.apply(this,arguments)}function FE(){return FE=(0,Se.Z)(function*(n,e,t){const i=at(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.cc.get(e),s=r&&r.key;if(s){let l=new Xi(ot.comparator);l=l.insert(s,mi.newNoDocument(s,$t.min()));const d=pn().add(s),p=new p9($t.min(),new Map,new ii(sn),l,d);yield Ok(i,p),i.uc=i.uc.remove(s),i.cc.delete(e),qE(i)}else yield zd(i.localStore,e,!1).then(()=>Bd(i,e,t)).catch(l3)}),FE.apply(this,arguments)}function fte(n,e){return OE.apply(this,arguments)}function OE(){return OE=(0,Se.Z)(function*(n,e){const t=at(n),i=e.batch.batchId;try{const r=yield Lee(t.localStore,e);jE(t,i,null),GE(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield gc(t,r)}catch(r){yield l3(r)}}),OE.apply(this,arguments)}function hte(n,e,t){return BE.apply(this,arguments)}function BE(){return BE=(0,Se.Z)(function*(n,e,t){const i=at(n);try{const r=yield function(s,l){const d=at(s);return d.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let v;return d.mutationQueue.lookupMutationBatch(p,l).next(C=>(jt(null!==C),v=C.keys(),d.mutationQueue.removeMutationBatch(p,C))).next(()=>d.mutationQueue.performConsistencyCheck(p)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(p,v,l)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v)).next(()=>d.localDocuments.getDocuments(p,v))})}(i.localStore,e);jE(i,e,t),GE(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield gc(i,r)}catch(r){yield l3(r)}}),BE.apply(this,arguments)}function UE(){return UE=(0,Se.Z)(function*(n,e){const t=at(n);mc(t.remoteStore)||Ke("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const l=at(s);return l.persistence.runTransaction("Get highest unacknowledged batch id","readonly",d=>l.mutationQueue.getHighestUnacknowledgedBatchId(d))}(t.localStore);if(-1===i)return void e.resolve();const r=t.lc.get(i)||[];r.push(e),t.lc.set(i,r)}catch(i){const r=Pd(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),UE.apply(this,arguments)}function GE(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function jE(n,e,t){const i=at(n);let r=i.hc[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(t?s.reject(t):s.resolve(),r=r.remove(e)),i.hc[i.currentUser.toKey()]=r}}function Bd(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.rc.get(e))n.ic.delete(i),t&&n.sc.wc(i,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(i=>{n.ac.containsKey(i)||Uk(n,i)})}function Uk(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(I9(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),qE(n))}function $E(n,e,t){for(const i of t)i instanceof Rk?(n.ac.addReference(i.key,e),mte(n,i)):i instanceof Pk?(Ke("SyncEngine","Document no longer in limbo: "+i.key),n.ac.removeReference(i.key,e),n.ac.containsKey(i.key)||Uk(n,i.key)):St()}function mte(n,e){const t=e.key,i=t.path.canonicalString();n.uc.get(t)||n.oc.has(i)||(Ke("SyncEngine","New document in limbo: "+t),n.oc.add(i),qE(n))}function qE(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new ot(Vn.fromString(e)),i=n.fc.next();n.cc.set(i,new ote(t)),n.uc=n.uc.insert(t,i),my(n.remoteStore,new v3(Ns(wd(t.path)),i,2,u2.at))}}function gc(n,e,t){return WE.apply(this,arguments)}function WE(){return WE=(0,Se.Z)(function*(n,e,t){const i=at(n),r=[],s=[],l=[];var d;i.ic.isEmpty()||(i.ic.forEach((d,p)=>{l.push(i._c(p,e,t).then(v=>{if((v||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(p.targetId,v?.fromCache?"not-current":"current"),v){r.push(v);const C=XS.Ci(p.targetId,v);s.push(C)}}))}),yield Promise.all(l),i.sc.Wo(r),yield(d=(0,Se.Z)(function*(p,v){const C=at(p);try{yield C.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>pe.forEach(v,A=>pe.forEach(A.Si,I=>C.persistence.referenceDelegate.addReference(w,A.targetId,I)).next(()=>pe.forEach(A.Di,I=>C.persistence.referenceDelegate.removeReference(w,A.targetId,I)))))}catch(w){if(!u3(w))throw w;Ke("LocalStore","Failed to update sequence numbers: "+w)}for(const w of v){const A=w.targetId;if(!w.fromCache){const I=C.Ui.get(A),j=I.withLastLimboFreeSnapshotVersion(I.snapshotVersion);C.Ui=C.Ui.insert(A,j)}}}),function(p,v){return d.apply(this,arguments)})(i.localStore,s))}),WE.apply(this,arguments)}function gte(n,e){return YE.apply(this,arguments)}function YE(){return YE=(0,Se.Z)(function*(n,e){const t=at(n);if(!t.currentUser.isEqual(e)){Ke("SyncEngine","User change. New user:",e.toKey());const i=yield gk(t.localStore,e);t.currentUser=e,(r=t).lc.forEach(l=>{l.forEach(d=>{d.reject(new Ue(Ce.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.lc.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield gc(t,i.ji)}var r}),YE.apply(this,arguments)}function vte(n,e){const t=at(n),i=t.cc.get(e);if(i&&i.nc)return pn().add(i.key);{let r=pn();const s=t.rc.get(e);if(!s)return r;for(const l of s){const d=t.ic.get(l);r=r.unionWith(d.view.ju)}return r}}function _te(n,e){return KE.apply(this,arguments)}function KE(){return KE=(0,Se.Z)(function*(n,e){const t=at(n),i=yield dy(t.localStore,e.query,!0),r=e.view.tc(i);return t.isPrimaryClient&&$E(t,e.targetId,r.Xu),r}),KE.apply(this,arguments)}function yte(n,e){return ZE.apply(this,arguments)}function ZE(){return ZE=(0,Se.Z)(function*(n,e){const t=at(n);return Ck(t.localStore,e).then(i=>gc(t,i))}),ZE.apply(this,arguments)}function Cte(n,e,t,i){return QE.apply(this,arguments)}function QE(){return QE=(0,Se.Z)(function*(n,e,t,i){const r=at(n),s=yield function(l,d){const p=at(l),v=at(p.mutationQueue);return p.persistence.runTransaction("Lookup mutation documents","readonly",C=>v.Tn(C,d).next(w=>w?p.localDocuments.getDocuments(C,w):pe.resolve(null)))}(r.localStore,e);var d;null!==s?("pending"===t?yield Nd(r.remoteStore):"acknowledged"===t||"rejected"===t?(jE(r,e,i||null),GE(r,e),d=e,at(at(r.localStore).mutationQueue).An(d)):St(),yield gc(r,s)):Ke("SyncEngine","Cannot apply mutation batch with id: "+e)}),QE.apply(this,arguments)}function XE(){return XE=(0,Se.Z)(function*(n,e){const t=at(n);if(nA(t),iA(t),!0===e&&!0!==t.dc){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield Gk(t,i.toArray());t.dc=!0,yield xE(t.remoteStore,!0);for(const s of r)my(t.remoteStore,s)}else if(!1===e&&!1!==t.dc){const i=[];let r=Promise.resolve();t.rc.forEach((s,l)=>{t.sharedClientState.isLocalQueryTarget(l)?i.push(l):r=r.then(()=>(Bd(t,l),zd(t.localStore,l,!0))),I9(t.remoteStore,l)}),yield r,yield Gk(t,i),function(s){const l=at(s);l.cc.forEach((d,p)=>{I9(l.remoteStore,p)}),l.ac.fs(),l.cc=new Map,l.uc=new Xi(ot.comparator)}(t),t.dc=!1,yield xE(t.remoteStore,!1)}}),XE.apply(this,arguments)}function Gk(n,e,t){return JE.apply(this,arguments)}function JE(){return JE=(0,Se.Z)(function*(n,e,t){const i=at(n),r=[],s=[];for(const l of e){let d;const p=i.rc.get(l);if(p&&0!==p.length){d=yield Hd(i.localStore,Ns(p[0]));for(const v of p){const C=i.ic.get(v),w=yield _te(i,C);w.snapshot&&s.push(w.snapshot)}}else{const v=yield yk(i.localStore,l);d=yield Hd(i.localStore,v),yield zE(i,jk(v),l,!1,d.resumeToken)}r.push(d)}return i.sc.Wo(s),r}),JE.apply(this,arguments)}function jk(n){return JH(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function bte(n){const e=at(n);return at(at(e.localStore).persistence).vi()}function wte(n,e,t,i){return eA.apply(this,arguments)}function eA(){return eA=(0,Se.Z)(function*(n,e,t,i){const r=at(n);if(r.dc)return void Ke("SyncEngine","Ignoring unexpected query state notification.");const s=r.rc.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const l=yield Ck(r.localStore,nz(s[0])),d=p9.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Vr.EMPTY_BYTE_STRING);yield gc(r,l,d);break}case"rejected":yield zd(r.localStore,e,!0),Bd(r,e,i);break;default:St()}}),eA.apply(this,arguments)}function xte(n,e,t){return tA.apply(this,arguments)}function tA(){return tA=(0,Se.Z)(function*(n,e,t){const i=nA(n);if(i.dc){for(const r of e){if(i.rc.has(r)){Ke("SyncEngine","Adding an already active target "+r);continue}const s=yield yk(i.localStore,r),l=yield Hd(i.localStore,s);yield zE(i,jk(s),l.targetId,!1,l.resumeToken),my(i.remoteStore,l)}for(const r of t)i.rc.has(r)&&(yield zd(i.localStore,r,!1).then(()=>{I9(i.remoteStore,r),Bd(i,r)}).catch(l3))}}),tA.apply(this,arguments)}function nA(n){const e=at(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ok.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vte.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=dte.bind(null,e),e.sc.Wo=tte.bind(null,e.eventManager),e.sc.wc=nte.bind(null,e.eventManager),e}function iA(n){const e=at(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fte.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=hte.bind(null,e),e}class $k{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Se.Z)(function*(){t.It=D9(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return mk(this.persistence,new pk,e.initialUser,this.It)}yc(e){return new fk(ly.Bs,this.It)}gc(e){return new xk}terminate(){var e=this;return(0,Se.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class qk extends $k{constructor(e,t,i){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,Se.Z)(function*(){yield t().call(i,e),yield i.Ac.initialize(i,e),yield iA(i.Ac.syncEngine),yield Nd(i.Ac.remoteStore),yield i.persistence.li(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return mk(this.persistence,new pk,e.initialUser,this.It)}Tc(e,t){return new pee(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const i=new QX(t,this.persistence);return new ZX(e.asyncQueue,i)}yc(e){const t=QS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?f2.withCacheSize(this.cacheSizeBytes):f2.DEFAULT;return new ZS(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,Ek(),py(),this.It,this.sharedClientState,!!this.forceOwnership)}gc(e){return new xk}}class Ete extends qk{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,Se.Z)(function*(){yield t().call(i,e);const r=i.Ac.syncEngine;i.sharedClientState instanceof oE&&(i.sharedClientState.syncEngine={Fr:Cte.bind(null,r),$r:wte.bind(null,r),Br:xte.bind(null,r),vi:bte.bind(null,r),Mr:yte.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.li(function(){var s=(0,Se.Z)(function*(l){yield function Mte(n,e){return XE.apply(this,arguments)}(i.Ac.syncEngine,l),i.gcScheduler&&(l&&!i.gcScheduler.started?i.gcScheduler.start():l||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(l&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():l||i.indexBackfillerScheduler.stop())});return function(l){return s.apply(this,arguments)}}())})()}gc(e){const t=Ek();if(!oE.C(t))throw new Ue(Ce.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=QS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new oE(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class rA{initialize(e,t){var i=this;return(0,Se.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>Bk(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=gte.bind(null,i.syncEngine),yield xE(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new ete}createDatastore(e){const t=D9(e.databaseInfo.databaseId),i=new Ree(e.databaseInfo);return new Oee(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,s=d=>Bk(this.syncEngine,d,0),l=Sk.C()?new Sk:new zee,new Gee(t,i,r,s,l);var t,i,r,s,l}createSyncEngine(e,t){return function(i,r,s,l,d,p,v){const C=new ate(i,r,s,l,d,p);return v&&(C.dc=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Se.Z)(function*(t){const i=at(t);Ke("RemoteStore","RemoteStore shutting down."),i._u.add(5),yield kd(i),i.mu.shutdown(),i.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function sA(n,e,t){if(!t)throw new Ue(Ce.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Wk(n,e,t,i){if(!0===e&&!0===i)throw new Ue(Ce.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Yk(n){if(!ot.isDocumentKey(n))throw new Ue(Ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Kk(n){if(ot.isDocumentKey(n))throw new Ue(Ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function vy(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":St()}function An(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ue(Ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=vy(n);throw new Ue(Ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Zk(n,e){if(e<=0)throw new Ue(Ce.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}const Qk=new Map;class Xk{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ue(Ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ue(Ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Wk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class T9{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xk({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ue(Ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ue(Ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xk(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new PX;switch(t.type){case"gapi":return new UX(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ue(Ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Qk.get(e);t&&(Ke("ComponentProvider","Removing Datastore"),Qk.delete(e),t.terminate())}(this),Promise.resolve()}}class Ci{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ci(this.firestore,e,this._key)}}class _s{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new _s(this.firestore,e,this._query)}}class Yo extends _s{constructor(e,t,i){super(e,t,wd(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ci(this.firestore,null,new ot(e))}withConverter(e){return new Yo(this.firestore,e,this._path)}}function eN(n,e,...t){if(n=(0,O.m9)(n),sA("collection","path",e),n instanceof T9){const i=Vn.fromString(e,...t);return Kk(i),new Yo(n,null,i)}{if(!(n instanceof Ci||n instanceof Yo))throw new Ue(Ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Vn.fromString(e,...t));return Kk(i),new Yo(n.firestore,null,i)}}function _y(n,e,...t){if(n=(0,O.m9)(n),1===arguments.length&&(e=DH.R()),sA("doc","path",e),n instanceof T9){const i=Vn.fromString(e,...t);return Yk(i),new Ci(n,null,new ot(i))}{if(!(n instanceof Ci||n instanceof Yo))throw new Ue(Ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Vn.fromString(e,...t));return Yk(i),new Ci(n.firestore,n instanceof Yo?n.converter:null,new ot(i))}}function tN(n,e){return n=(0,O.m9)(n),e=(0,O.m9)(e),(n instanceof Ci||n instanceof Yo)&&(e instanceof Ci||e instanceof Yo)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function oA(n,e){return n=(0,O.m9)(n),e=(0,O.m9)(e),n instanceof _s&&e instanceof _s&&n.firestore===e.firestore&&l9(n._query,e._query)&&n.converter===e.converter}function nN(n,e=10240){let t=0;return{read:()=>(0,Se.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,Se.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class yy{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):pr("Uncaught Error in snapshot listener:",e)}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Dte{constructor(e,t){this.Pc=e,this.It=t,this.metadata=new Tr,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(i=>{i&&i.Ou()?this.metadata.resolve(i.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.ku)}`))},i=>this.metadata.reject(i))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,Se.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,Se.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,Se.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const i=e.vc.decode(t),r=Number(i);isNaN(r)&&e.Dc(`length string (${i}) is not valid number`);const s=yield e.Cc(r);return new ite(JSON.parse(s),t.length+r)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,Se.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}Cc(e){var t=this;return(0,Se.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const i=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,Se.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class Tte{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Se.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ue(Ce.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,Se.Z)(function*(s,l){const d=at(s),p=_9(d.It)+"/documents",v={documents:l.map(I=>v9(d.It,I))},C=yield d._o("BatchGetDocuments",p,v,l.length),w=new Map;C.forEach(I=>{const k=function IJ(n,e){return"found"in e?function(t,i){jt(!!i.found);const r=qo(t,i.found.name),s=Ur(i.found.updateTime),l=new rs({mapValue:{fields:i.found.fields}});return mi.newFoundDocument(r,s,l)}(n,e):"missing"in e?function(t,i){jt(!!i.missing),jt(!!i.readTime);const r=qo(t,i.missing),s=Ur(i.readTime);return mi.newNoDocument(r,s)}(n,e):St()}(d.It,I);w.set(k.key.toString(),k)});const A=[];return l.forEach(I=>{const k=w.get(I.toString());jt(!!k),A.push(k)}),A}),function(s,l){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new Dd(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Se.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const s=ot.fromPath(r);e.mutations.push(new NS(s,e.precondition(s)))}),yield(i=(0,Se.Z)(function*(r,s){const l=at(r),d=_9(l.It)+"/documents",p={writes:s.map(v=>y9(l.It,v))};yield l.ao("Commit",d,p)}),function(r,s){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw St();t=$t.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new Ue(Ce.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual($t.min())?Hi.exists(!1):Hi.updateTime(t):Hi.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual($t.min()))throw new Ue(Ce.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Hi.updateTime(t)}return Hi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Vte{constructor(e,t,i,r,s){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=s,this.kc=i.maxAttempts,this.xo=new aE(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,Se.Z)(function*(){const t=new Tte(e.datastore),i=e.Mc(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(s=>{e.Fc(s)}))}).catch(r=>{e.Fc(r)})}))}Mc(e){try{const t=this.updateFunction(e);return!i9(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!vz(t)}return!1}}class Hte{constructor(e,t,i,r){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=Br.UNAUTHENTICATED,this.clientId=DH.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var l=(0,Se.Z)(function*(d){Ke("FirestoreClient","Received user=",d.uid),yield s.authCredentialListener(d),s.user=d});return function(d){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(i,l=>(Ke("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var e=this;return(0,Se.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ue(Ce.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Tr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Se.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=Pd(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function iN(n,e){return aA.apply(this,arguments)}function aA(){return aA=(0,Se.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ke("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,Se.Z)(function*(s){i.isEqual(s)||(yield gk(e.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),aA.apply(this,arguments)}function rN(n,e){return cA.apply(this,arguments)}function cA(){return cA=(0,Se.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield lA(n);Ke("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>Hk(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>Hk(e.remoteStore,s)),n.onlineComponents=e}),cA.apply(this,arguments)}function lA(n){return uA.apply(this,arguments)}function uA(){return uA=(0,Se.Z)(function*(n){return n.offlineComponents||(Ke("FirestoreClient","Using default OfflineComponentProvider"),yield iN(n,new $k)),n.offlineComponents}),uA.apply(this,arguments)}function Cy(n){return dA.apply(this,arguments)}function dA(){return dA=(0,Se.Z)(function*(n){return n.onlineComponents||(Ke("FirestoreClient","Using default OnlineComponentProvider"),yield rN(n,new rA)),n.onlineComponents}),dA.apply(this,arguments)}function sN(n){return lA(n).then(e=>e.persistence)}function My(n){return lA(n).then(e=>e.localStore)}function fA(n){return Cy(n).then(e=>e.remoteStore)}function hA(n){return Cy(n).then(e=>e.syncEngine)}function Ud(n){return pA.apply(this,arguments)}function pA(){return pA=(0,Se.Z)(function*(n){const e=yield Cy(n),t=e.eventManager;return t.onListen=cte.bind(null,e.syncEngine),t.onUnlisten=lte.bind(null,e.syncEngine),t}),pA.apply(this,arguments)}function aN(n,e,t={}){const i=new Tr;return n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return function(r,s,l,d,p){const v=new yy({next:w=>{s.enqueueAndForget(()=>LE(r,C));const A=w.docs.has(l);!A&&w.fromCache?p.reject(new Ue(Ce.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&w.fromCache&&d&&"server"===d.source?p.reject(new Ue(Ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(w)},error:w=>p.reject(w)}),C=new VE(wd(l.path),v,{includeMetadataChanges:!0,Nu:!0});return AE(r,C)}(yield Ud(n),n.asyncQueue,e,t,i)})),i.promise}function cN(n,e,t={}){const i=new Tr;return n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return function(r,s,l,d,p){const v=new yy({next:w=>{s.enqueueAndForget(()=>LE(r,C)),w.fromCache&&"server"===d.source?p.reject(new Ue(Ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(w)},error:w=>p.reject(w)}),C=new VE(l,v,{includeMetadataChanges:!0,Nu:!0});return AE(r,C)}(yield Ud(n),n.asyncQueue,e,t,i)})),i.promise}class Bte{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new aE(this,"async_queue_retry"),this.Wc=()=>{const t=py();t&&Ke("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=py();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const t=py();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const t=new Tr;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,Se.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!u3(t))throw t;Ke("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(i=>{throw this.Kc=i,this.Gc=!1,pr("INTERNAL UNHANDLED ERROR: ",function(s){let l=s.message||"";return s.stack&&(l=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),l}(i)),i}).then(i=>(this.Gc=!1,i))));return this.Bc=t,t}enqueueAfterDelay(e,t,i){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const r=EE.createAndSchedule(this,e,t,i,s=>this.Yc(s));return this.qc.push(r),r}zc(){this.Kc&&St()}verifyOperationInProgress(){}Xc(){var e=this;return(0,Se.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.qc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.qc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.qc.indexOf(e);this.qc.splice(t,1)}}function mA(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class Ute{constructor(){this._progressObserver={},this._taskCompletionResolver=new Tr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Mi extends T9{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new Bte,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||lN(this),this._firestoreClient.terminate()}}function mr(n){return n._firestoreClient||lN(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function lN(n){var e;const t=n._freezeSettings(),i=(s=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new eJ(n._databaseId,s,n._persistenceKey,(d=t).host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,d.useFetchStreams));var s,d;n._firestoreClient=new Hte(n._authCredentials,n._appCheckCredentials,n._queue,i)}function uN(n,e,t){const i=new Tr;return n.asyncQueue.enqueue((0,Se.Z)(function*(){try{yield iN(n,t),yield rN(n,e),i.resolve()}catch(r){const s=r;if(!("FirebaseError"===(l=s).name?l.code===Ce.FAILED_PRECONDITION||l.code===Ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code))throw s;W6("Error enabling offline persistence. Falling back to persistence disabled: "+s),i.reject(s)}var l})).then(()=>i.promise)}function dN(n){if(n._initialized||n._terminated)throw new Ue(Ce.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ko{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ko(Vr.fromBase64String(e))}catch(t){throw new Ue(Ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ko(Vr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class vc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ue(Ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class f0{constructor(e){this._methodName=e}}class by{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ue(Ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ue(Ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return sn(this._lat,e._lat)||sn(this._long,e._long)}}const Xte=/^__.*__$/;class Jte{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new pc(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ad(e,this.data,t,this.fieldTransforms)}}class fN{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new pc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function hN(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw St()}}class wy{constructor(e,t,i,r,s,l){this.settings=e,this.databaseId=t,this.It=i,this.ignoreUndefinedProperties=r,void 0===s&&this.na(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new wy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:i,oa:!1});return r.ua(e),r}ca(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:i,oa:!1});return r.na(),r}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return Ey(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(hN(this.sa)&&Xte.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class ene{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=i||D9(e)}da(e,t,i,r=!1){return new wy({sa:e,methodName:t,fa:i,path:Qi.emptyPath(),oa:!1,la:r},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function h0(n){const e=n._freezeSettings(),t=D9(n._databaseId);return new ene(n._databaseId,!!e.ignoreUndefinedProperties,t)}function xy(n,e,t,i,r,s={}){const l=n.da(s.merge||s.mergeFields?2:0,e,t,r);yA("Data must be an object, but it was:",l,i);const d=gN(i,l);let p,v;if(s.merge)p=new O2(l.fieldMask),v=l.fieldTransforms;else if(s.mergeFields){const C=[];for(const w of s.mergeFields){const A=CA(e,w,t);if(!l.contains(A))throw new Ue(Ce.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);_N(C,A)||C.push(A)}p=new O2(C),v=l.fieldTransforms.filter(w=>p.covers(w.field))}else p=null,v=l.fieldTransforms;return new Jte(new rs(d),p,v)}class V9 extends f0{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof V9}}function pN(n,e,t){return new wy({sa:3,fa:e.settings.fa,methodName:n._methodName,oa:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class gA extends f0{_toFieldTransform(e){return new u9(e.path,new Sd)}isEqual(e){return e instanceof gA}}class tne extends f0{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=pN(this,e,!0),i=this._a.map(s=>p0(s,t)),r=new t0(i);return new u9(e.path,r)}isEqual(e){return this===e}}class nne extends f0{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=pN(this,e,!0),i=this._a.map(s=>p0(s,t)),r=new n0(i);return new u9(e.path,r)}isEqual(e){return this===e}}class ine extends f0{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new Ed(e.It,oz(e.It,this.wa));return new u9(e.path,t)}isEqual(e){return this===e}}function vA(n,e,t,i){const r=n.da(1,e,t);yA("Data must be an object, but it was:",r,i);const s=[],l=rs.empty();Z6(i,(p,v)=>{const C=Sy(e,p,t);v=(0,O.m9)(v);const w=r.ca(C);if(v instanceof V9)s.push(C);else{const A=p0(v,w);null!=A&&(s.push(C),l.set(C,A))}});const d=new O2(s);return new fN(l,d,r.fieldTransforms)}function _A(n,e,t,i,r,s){const l=n.da(1,e,t),d=[CA(e,i,t)],p=[r];if(s.length%2!=0)throw new Ue(Ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<s.length;A+=2)d.push(CA(e,s[A])),p.push(s[A+1]);const v=[],C=rs.empty();for(let A=d.length-1;A>=0;--A)if(!_N(v,d[A])){const I=d[A];let k=p[A];k=(0,O.m9)(k);const j=l.ca(I);if(k instanceof V9)v.push(I);else{const X=p0(k,j);null!=X&&(v.push(I),C.set(I,X))}}const w=new O2(v);return new fN(C,w,l.fieldTransforms)}function mN(n,e,t,i=!1){return p0(t,n.da(i?4:3,e))}function p0(n,e){if(vN(n=(0,O.m9)(n)))return yA("Unsupported field value:",e,n),gN(n,e);if(n instanceof f0)return function(t,i){if(!hN(i.sa))throw i.ha(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i.ha(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,i){const r=[];let s=0;for(const l of t){let d=p0(l,i.aa(s));null==d&&(d={nullValue:"NULL_VALUE"}),r.push(d),s++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,O.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return oz(i.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=Vi.fromDate(t);return{timestampValue:g9(i.It,r)}}if(t instanceof Vi){const r=new Vi(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:g9(i.It,r)}}if(t instanceof by)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ko)return{bytesValue:Az(i.It,t._byteString)};if(t instanceof Ci){const r=i.databaseId,s=t.firestore._databaseId;if(!s.isEqual(r))throw i.ha(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:RS(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i.ha(`Unsupported field value: ${vy(t)}`)}(n,e)}function gN(n,e){const t={};return NH(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Z6(n,(i,r)=>{const s=p0(r,e.ra(i));null!=s&&(t[i]=s)}),{mapValue:{fields:t}}}function vN(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Vi||n instanceof by||n instanceof Ko||n instanceof Ci||n instanceof f0)}function yA(n,e,t){if(!vN(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=vy(t);throw e.ha("an object"===i?n+" a custom object":n+" "+i)}var i}function CA(n,e,t){if((e=(0,O.m9)(e))instanceof vc)return e._internalPath;if("string"==typeof e)return Sy(n,e);throw Ey("Field path arguments must be of type string or ",n,!1,void 0,t)}const rne=new RegExp("[~\\*/\\[\\]]");function Sy(n,e,t){if(e.search(rne)>=0)throw Ey(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new vc(...e.split("."))._internalPath}catch{throw Ey(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Ey(n,e,t,i,r){const s=i&&!i.isEmpty(),l=void 0!==r;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(s||l)&&(p+=" (found",s&&(p+=` in field ${i}`),l&&(p+=` in document ${r}`),p+=")"),new Ue(Ce.INVALID_ARGUMENT,d+n+p)}function _N(n,e){return n.some(t=>t.isEqual(e))}class H9{constructor(e,t,i,r,s){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ci(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new sne(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ay("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class sne extends H9{data(){return super.data()}}function Ay(n,e){return"string"==typeof e?Sy(n,e):e instanceof vc?e._internalPath:e._delegate._internalPath}function yN(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ue(Ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class z9{}function M3(n,...e){for(const t of e)n=t._apply(n);return n}class one extends z9{constructor(e,t,i){super(),this.ma=e,this.ga=t,this.ya=i,this.type="where"}_apply(e){const t=h0(e.firestore),i=function(r,s,l,d,p,v,C){let w;if(p.isKeyField()){if("array-contains"===v||"array-contains-any"===v)throw new Ue(Ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if("in"===v||"not-in"===v){SN(C,v);const I=[];for(const k of C)I.push(xN(d,r,k));w={arrayValue:{values:I}}}else w=xN(d,r,C)}else"in"!==v&&"not-in"!==v&&"array-contains-any"!==v||SN(C,v),w=mN(l,"where",C,"in"===v||"not-in"===v);const A=ss.create(p,v,w);return function(I,k){if(k.dt()){const X=VS(I);if(null!==X&&!X.isEqual(k.field))throw new Ue(Ce.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${X.toString()}' and '${k.field.toString()}'`);const xe=TS(I);null!==xe&&EN(0,k.field,xe)}const j=function(X,xe){for(const ke of X.filters)if(xe.indexOf(ke.op)>=0)return ke.op;return null}(I,function(X){switch(X){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(k.op));if(null!==j)throw new Ue(Ce.INVALID_ARGUMENT,j===k.op?`Invalid query. You cannot use more than one '${k.op.toString()}' filter.`:`Invalid query. You cannot use '${k.op.toString()}' filters with '${j.toString()}' filters.`)}(r,A),A}(e._query,0,t,e.firestore._databaseId,this.ma,this.ga,this.ya);return new _s(e.firestore,e.converter,function(r,s){const l=r.filters.concat([s]);return new hc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),l,r.limit,r.limitType,r.startAt,r.endAt)}(e._query,i))}}class cne extends z9{constructor(e,t){super(),this.ma=e,this.pa=t,this.type="orderBy"}_apply(e){const t=function(i,r,s){if(null!==i.startAt)throw new Ue(Ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Ue(Ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const l=new bd(r,s);return function(d,p){if(null===TS(d)){const v=VS(d);null!==v&&EN(0,v,p.field)}}(i,l),l}(e._query,this.ma,this.pa);return new _s(e.firestore,e.converter,function(i,r){const s=i.explicitOrderBy.concat([r]);return new hc(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class CN extends z9{constructor(e,t,i){super(),this.type=e,this.Ia=t,this.Ta=i}_apply(e){return new _s(e.firestore,e.converter,K_(e._query,this.Ia,this.Ta))}}class MN extends z9{constructor(e,t,i){super(),this.type=e,this.Ea=t,this.Aa=i}_apply(e){const t=wN(e,this.type,this.Ea,this.Aa);return new _s(e.firestore,e.converter,(r=t,new hc((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class bN extends z9{constructor(e,t,i){super(),this.type=e,this.Ea=t,this.Aa=i}_apply(e){const t=wN(e,this.type,this.Ea,this.Aa);return new _s(e.firestore,e.converter,(r=t,new hc((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function wN(n,e,t,i){if(t[0]=(0,O.m9)(t[0]),t[0]instanceof H9)return function(r,s,l,d,p){if(!d)throw new Ue(Ce.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const v=[];for(const C of xd(r))if(C.field.isKeyField())v.push(J6(s,d.key));else{const w=d.data.field(C.field);if(DS(w))throw new Ue(Ce.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+C.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===w){const A=C.field.canonicalString();throw new Ue(Ce.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${A}' (used as the orderBy) does not exist.`)}v.push(w)}return new m3(v,p)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=h0(n.firestore);return function(s,l,d,p,v,C){const w=s.explicitOrderBy;if(v.length>w.length)throw new Ue(Ce.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const A=[];for(let I=0;I<v.length;I++){const k=v[I];if(w[I].field.isKeyField()){if("string"!=typeof k)throw new Ue(Ce.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof k}`);if(!HS(s)&&-1!==k.indexOf("/"))throw new Ue(Ce.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${k}' contains a slash.`);const j=s.path.child(Vn.fromString(k));if(!ot.isDocumentKey(j))throw new Ue(Ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${j}' is not because it contains an odd number of segments.`);const X=new ot(j);A.push(J6(l,X))}else{const j=mN(d,p,k);A.push(j)}}return new m3(A,C)}(n._query,n.firestore._databaseId,r,e,t,i)}}function xN(n,e,t){if("string"==typeof(t=(0,O.m9)(t))){if(""===t)throw new Ue(Ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!HS(e)&&-1!==t.indexOf("/"))throw new Ue(Ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Vn.fromString(t));if(!ot.isDocumentKey(i))throw new Ue(Ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return J6(n,new ot(i))}if(t instanceof Ci)return J6(n,t._key);throw new Ue(Ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vy(t)}.`)}function SN(n,e){if(!Array.isArray(n)||0===n.length)throw new Ue(Ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Ue(Ce.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function EN(n,e,t){if(!t.isEqual(e))throw new Ue(Ce.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class MA{convertValue(e,t="none"){switch(X6(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ji(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Q6(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw St()}}convertObject(e,t){const i={};return Z6(e.fields,(r,s)=>{i[r]=this.convertValue(s,t)}),i}convertGeoPoint(e){return new by(Ji(e.latitude),Ji(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=PH(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(n9(e));default:return null}}convertTimestamp(e){const t=d3(e);return new Vi(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Vn.fromString(e);jt(Nz(i));const r=new f3(i.get(1),i.get(3)),s=new ot(i.popFirst(5));return r.isEqual(t)||pr(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function Dy(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class gne extends MA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ko(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ci(this.firestore,null,t)}}class m0{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _c extends H9{constructor(e,t,i,r,s,l){super(e,t,i,r,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new k9(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Ay("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class k9 extends _c{data(e={}){return super.data(e)}}class b3{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new m0(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new k9(this._firestore,this._userDataWriter,i.key,i,new m0(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ue(Ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(l=>({type:"added",doc:new k9(i._firestore,i._userDataWriter,l.doc.key,l.doc,new m0(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>r||3!==l.type).map(l=>{const d=new k9(i._firestore,i._userDataWriter,l.doc.key,l.doc,new m0(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,v=-1;return 0!==l.type&&(p=s.indexOf(l.doc.key),s=s.delete(l.doc.key)),1!==l.type&&(s=s.add(l.doc),v=s.indexOf(l.doc.key)),{type:vne(l.type),doc:d,oldIndex:p,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function vne(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return St()}}function AN(n,e){return n instanceof _c&&e instanceof _c?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof b3&&e instanceof b3&&n._firestore===e._firestore&&oA(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class w3 extends MA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ko(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ci(this.firestore,null,t)}}function DN(n,e,t){n=An(n,Ci);const i=An(n.firestore,Mi),r=Dy(n.converter,e,t);return Gd(i,[xy(h0(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,Hi.none())])}function LN(n,e,t,...i){n=An(n,Ci);const r=An(n.firestore,Mi),s=h0(r);let l;return l="string"==typeof(e=(0,O.m9)(e))||e instanceof vc?_A(s,"updateDoc",n._key,e,t,i):vA(s,"updateDoc",n._key,e),Gd(r,[l.toMutation(n._key,Hi.exists(!0))])}function IN(n,...e){var t,i,r;n=(0,O.m9)(n);let s={includeMetadataChanges:!1},l=0;"object"!=typeof e[l]||mA(e[l])||(s=e[l],l++);const d={includeMetadataChanges:s.includeMetadataChanges};if(mA(e[l])){const w=e[l];e[l]=null===(t=w.next)||void 0===t?void 0:t.bind(w),e[l+1]=null===(i=w.error)||void 0===i?void 0:i.bind(w),e[l+2]=null===(r=w.complete)||void 0===r?void 0:r.bind(w)}let p,v,C;if(n instanceof Ci)v=An(n.firestore,Mi),C=wd(n._key.path),p={next:w=>{e[l]&&e[l](bA(v,n,w))},error:e[l+1],complete:e[l+2]};else{const w=An(n,_s);v=An(w.firestore,Mi),C=w._query;const A=new w3(v);p={next:I=>{e[l]&&e[l](new b3(v,A,w,I))},error:e[l+1],complete:e[l+2]},yN(n._query)}return function(w,A,I,k){const j=new yy(k),X=new VE(A,j,I);return w.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return AE(yield Ud(w),X)})),()=>{j.bc(),w.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return LE(yield Ud(w),X)}))}}(mr(v),C,d,p)}function Gd(n,e){return function(t,i){const r=new Tr;return t.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return function ute(n,e,t){return RE.apply(this,arguments)}(yield hA(t),i,r)})),r.promise}(mr(n),e)}function bA(n,e,t){const i=t.docs.get(e._key),r=new w3(n);return new _c(n,r,e._key,i,new m0(t.hasPendingWrites,t.fromCache),e.converter)}const Ane={maxAttempts:5};class TN{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=h0(e)}set(e,t,i){this._verifyNotCommitted();const r=x3(e,this._firestore),s=Dy(r.converter,t,i),l=xy(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,i);return this._mutations.push(l.toMutation(r._key,Hi.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const s=x3(e,this._firestore);let l;return l="string"==typeof(t=(0,O.m9)(t))||t instanceof vc?_A(this._dataReader,"WriteBatch.update",s._key,t,i,r):vA(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(l.toMutation(s._key,Hi.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=x3(e,this._firestore);return this._mutations=this._mutations.concat(new Dd(t._key,Hi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ue(Ce.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function x3(n,e){if((n=(0,O.m9)(n)).firestore!==e)throw new Ue(Ce.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Dne extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=h0(e)}get(e){const t=x3(e,this._firestore),i=new gne(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return St();const s=r[0];if(s.isFoundDocument())return new H9(this._firestore,i,s.key,s,t.converter);if(s.isNoDocument())return new H9(this._firestore,i,t._key,null,t.converter);throw St()})}set(e,t,i){const r=x3(e,this._firestore),s=Dy(r.converter,t,i),l=xy(this._dataReader,"Transaction.set",r._key,s,null!==r.converter,i);return this._transaction.set(r._key,l),this}update(e,t,i,...r){const s=x3(e,this._firestore);let l;return l="string"==typeof(t=(0,O.m9)(t))||t instanceof vc?_A(this._dataReader,"Transaction.update",s._key,t,i,r):vA(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,l),this}delete(e){const t=x3(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=x3(e,this._firestore),i=new w3(this._firestore);return super.get(e).then(r=>new _c(this._firestore,i,t._key,r._document,new m0(!1,!1),t.converter))}}function wA(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ue("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function HN(){if(typeof Uint8Array>"u")throw new Ue("unimplemented","Uint8Arrays are not available in this environment.")}function zN(){if(!function XX(){return typeof atob<"u"}())throw new Ue("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){_d=Dr.SDK_VERSION,(0,Dr._registerComponent)(new ms.wA("firestore",(t,{instanceIdentifier:i,options:r})=>{const s=t.getProvider("app").getImmediate(),l=new Mi(new OX(t.getProvider("auth-internal")),new GX(t.getProvider("app-check-internal")),function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Ue(Ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new f3(d.options.projectId,p)}(s,i),s);return r=Object.assign({useFetchStreams:e},r),l._setSettings(r),l},"PUBLIC").setMultipleInstances(!0)),(0,Dr.registerVersion)(SH,"3.7.2",n),(0,Dr.registerVersion)(SH,"3.7.2","esm2017")}();class N9{constructor(e){this._delegate=e}static fromBase64String(e){return zN(),new N9(Ko.fromBase64String(e))}static fromUint8Array(e){return HN(),new N9(Ko.fromUint8Array(e))}toBase64(){return zN(),this._delegate.toBase64()}toUint8Array(){return HN(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function xA(n){return function Rne(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class Pne{enableIndexedDbPersistence(e,t){return function jte(n,e){dN(n=An(n,Mi));const t=mr(n),i=n._freezeSettings(),r=new rA;return uN(t,r,new qk(r,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function $te(n){dN(n=An(n,Mi));const e=mr(n),t=n._freezeSettings(),i=new rA;return uN(e,i,new Ete(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function qte(n){if(n._initialized&&!n._terminated)throw new Ue(Ce.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Tr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Se.Z)(function*(){try{yield(t=(0,Se.Z)(function*(i){if(!no.C())return Promise.resolve();const r=i+"main";yield no.delete(r)}),function(i){return t.apply(this,arguments)})(QS(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class kN{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof f3||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&W6("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function Jk(n,e,t,i={}){var r;const s=(n=An(n,T9))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&W6("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${t}`,ssl:!1})),i.mockUserToken){let l,d;if("string"==typeof i.mockUserToken)l=i.mockUserToken,d=Br.MOCK_USER;else{l=(0,O.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const p=i.mockUserToken.sub||i.mockUserToken.user_id;if(!p)throw new Ue(Ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Br(p)}n._authCredentials=new FX(new EH(l,d))}}(this._delegate,e,t,i)}enableNetwork(){return function Yte(n){return function zte(n){return n.asyncQueue.enqueue((0,Se.Z)(function*(){const e=yield sN(n),t=yield fA(n);return e.setNetworkEnabled(!0),function(i){const r=at(i);return r._u.delete(0),L9(r)}(t)}))}(mr(n=An(n,Mi)))}(this._delegate)}disableNetwork(){return function Kte(n){return function kte(n){return n.asyncQueue.enqueue((0,Se.Z)(function*(){const e=yield sN(n),t=yield fA(n);return e.setNetworkEnabled(!1),(i=(0,Se.Z)(function*(r){const s=at(r);s._u.add(0),yield kd(s),s.gu.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(mr(n=An(n,Mi)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,Wk("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Wte(n){return function(e){const t=new Tr;return e.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return function pte(n,e){return UE.apply(this,arguments)}(yield hA(e),t)})),t.promise}(mr(n=An(n,Mi)))}(this._delegate)}onSnapshotsInSync(e){return function Ene(n,e){return function Pte(n,e){const t=new yy(e);return n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return i=yield Ud(n),r=t,at(i).Ru.add(r),void r.next();var i,r})),()=>{t.bc(),n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return i=yield Ud(n),r=t,void at(i).Ru.delete(r);var i,r}))}}(mr(n=An(n,Mi)),mA(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ue("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new jd(this,eN(this._delegate,e))}catch(t){throw Ps(t,"collection()","Firestore.collection()")}}doc(e){try{return new m1(this,_y(this._delegate,e))}catch(t){throw Ps(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Fs(this,function Ate(n,e){if(n=An(n,T9),sA("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ue(Ce.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new _s(n,null,(t=e,new hc(Vn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Ps(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function Lne(n,e,t){n=An(n,Mi);const i=Object.assign(Object.assign({},Ane),t);return function(r){if(r.maxAttempts<1)throw new Ue(Ce.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,s,l){const d=new Tr;return r.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){const p=yield function oN(n){return Cy(n).then(e=>e.datastore)}(r);new Vte(r.asyncQueue,p,l,s,d).run()})),d.promise}(mr(n),r=>e(new Dne(n,r)),i)}(this._delegate,t=>e(new NN(this,t)))}batch(){return mr(this._delegate),new RN(new TN(this._delegate,e=>Gd(this._delegate,e)))}loadBundle(e){return function Zte(n,e){const t=mr(n=An(n,Mi)),i=new Ute;return function Fte(n,e,t,i){const r=function(s,l){let d;return d="string"==typeof s?(new TextEncoder).encode(s):s,p=function(p,v){if(p instanceof Uint8Array)return nN(p,v);if(p instanceof ArrayBuffer)return nN(new Uint8Array(p),v);if(p instanceof ReadableStream)return p.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(d),new Dte(p,l);var p}(t,D9(e));n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){!function Ste(n,e,t){const i=at(n);var r;(r=(0,Se.Z)(function*(s,l,d){try{const p=yield l.getMetadata();if(yield function(A,I){const k=at(A),j=Ur(I.createTime);return k.persistence.runTransaction("hasNewerBundle","readonly",X=>k.Ns.getBundleMetadata(X,I.id)).then(X=>!!X&&X.createTime.compareTo(j)>=0)}(s.localStore,p))return yield l.close(),d._completeWith({taskState:"Success",documentsLoaded:(A=p).totalDocuments,bytesLoaded:A.totalBytes,totalDocuments:A.totalDocuments,totalBytes:A.totalBytes}),Promise.resolve(new Set);d._updateProgress(Nk(p));const v=new rte(p,s.localStore,l.It);let C=yield l.mc();for(;C;){const A=yield v.Fu(C);A&&d._updateProgress(A),C=yield l.mc()}const w=yield v.complete();return yield gc(s,w.Lu,void 0),yield function(A,I){const k=at(A);return k.persistence.runTransaction("Save bundle","readwrite",j=>k.Ns.saveBundleMetadata(j,I))}(s.localStore,p),d._completeWith(w.progress),Promise.resolve(w.Bu)}catch(p){return W6("SyncEngine",`Loading bundle failed with ${p}`),d._failWith(p),Promise.resolve(new Set)}var A}),function(s,l,d){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield hA(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function Qte(n,e){return function Ote(n,e){return n.asyncQueue.enqueue((0,Se.Z)(function*(){return function(t,i){const r=at(t);return r.persistence.runTransaction("Get named query","readonly",s=>r.Ns.getNamedQuery(s,i))}(yield My(n),e)}))}(mr(n=An(n,Mi)),e).then(t=>t?new _s(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Fs(this,t):null)}}class Ly extends MA{constructor(e){super(),this.firestore=e}convertBytes(e){return new N9(new Ko(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return m1.forKey(t,this.firestore,null)}}class NN{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Ly(e)}get(e){const t=v0(e);return this._delegate.get(t).then(i=>new R9(this._firestore,new _c(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=v0(e);return i?(wA("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const s=v0(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,i,...r),this}delete(e){const t=v0(e);return this._delegate.delete(t),this}}class RN{constructor(e){this._delegate=e}set(e,t,i){const r=v0(e);return i?(wA("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const s=v0(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,i,...r),this}delete(e){const t=v0(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class g0{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new k9(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new P9(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=g0.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let s=r.get(t);return s||(s=new g0(e,new Ly(e),t),r.set(t,s)),s}}g0.INSTANCES=new WeakMap;class m1{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Ly(e)}static forPath(e,t,i){if(e.length%2!=0)throw new Ue("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new m1(t,new Ci(t._delegate,i,new ot(e)))}static forKey(e,t,i){return new m1(t,new Ci(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new jd(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new jd(this.firestore,eN(this._delegate,e))}catch(t){throw Ps(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,O.m9)(e))instanceof Ci&&tN(this._delegate,e)}set(e,t){t=wA("DocumentReference.set",t);try{return t?DN(this._delegate,e,t):DN(this._delegate,e)}catch(i){throw Ps(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?LN(this._delegate,e):LN(this._delegate,e,t,...i)}catch(r){throw Ps(r,"updateDoc()","DocumentReference.update()")}}delete(){return function xne(n){return Gd(An(n.firestore,Mi),[new Dd(n._key,Hi.none())])}(this._delegate)}onSnapshot(...e){const t=PN(e),i=FN(e,r=>new R9(this.firestore,new _c(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return IN(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function yne(n){n=An(n,Ci);const e=An(n.firestore,Mi),t=mr(e),i=new w3(e);return function Nte(n,e){const t=new Tr;return n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return(i=(0,Se.Z)(function*(r,s,l){try{const d=yield function(p,v){const C=at(p);return C.persistence.runTransaction("read document","readonly",w=>C.localDocuments.getDocument(w,v))}(r,s);d.isFoundDocument()?l.resolve(d):d.isNoDocument()?l.resolve(null):l.reject(new Ue(Ce.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(d){const p=Pd(d,`Failed to get document '${s} from cache`);l.reject(p)}}),function(r,s,l){return i.apply(this,arguments)})(yield My(n),e,t);var i})),t.promise}(t,n._key).then(r=>new _c(e,i,n._key,r,new m0(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function Cne(n){n=An(n,Ci);const e=An(n.firestore,Mi);return aN(mr(e),n._key,{source:"server"}).then(t=>bA(e,n,t))}(this._delegate):function _ne(n){n=An(n,Ci);const e=An(n.firestore,Mi);return aN(mr(e),n._key).then(t=>bA(e,n,t))}(this._delegate),t.then(i=>new R9(this.firestore,new _c(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new m1(this.firestore,this._delegate.withConverter(e?g0.getInstance(this.firestore,e):null))}}function Ps(n,e,t){return n.message=n.message.replace(e,t),n}function PN(n){for(const e of n)if("object"==typeof e&&!xA(e))return e;return{}}function FN(n,e){var t,i;let r;return r=xA(n[0])?n[0]:xA(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(e(s))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class R9{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new m1(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return AN(this._delegate,e._delegate)}}class P9 extends R9{data(e){const t=this._delegate.data(e);return function RX(n,e){n||St()}(void 0!==t),t}}class Fs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Ly(e)}where(e,t,i){try{return new Fs(this.firestore,M3(this._delegate,function ane(n,e,t){const i=e,r=Ay("where",n);return new one(r,i,t)}(e,t,i)))}catch(r){throw Ps(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Fs(this.firestore,M3(this._delegate,function lne(n,e="asc"){const t=e,i=Ay("orderBy",n);return new cne(i,t)}(e,t)))}catch(i){throw Ps(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Fs(this.firestore,M3(this._delegate,function une(n){return Zk("limit",n),new CN("limit",n,"F")}(e)))}catch(t){throw Ps(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Fs(this.firestore,M3(this._delegate,function dne(n){return Zk("limitToLast",n),new CN("limitToLast",n,"L")}(e)))}catch(t){throw Ps(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Fs(this.firestore,M3(this._delegate,function fne(...n){return new MN("startAt",n,!0)}(...e)))}catch(t){throw Ps(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Fs(this.firestore,M3(this._delegate,function hne(...n){return new MN("startAfter",n,!1)}(...e)))}catch(t){throw Ps(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Fs(this.firestore,M3(this._delegate,function pne(...n){return new bN("endBefore",n,!1)}(...e)))}catch(t){throw Ps(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Fs(this.firestore,M3(this._delegate,function mne(...n){return new bN("endAt",n,!0)}(...e)))}catch(t){throw Ps(t,"endAt()","Query.endAt()")}}isEqual(e){return oA(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function bne(n){n=An(n,_s);const e=An(n.firestore,Mi),t=mr(e),i=new w3(e);return function Rte(n,e){const t=new Tr;return n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return(i=(0,Se.Z)(function*(r,s,l){try{const d=yield dy(r,s,!0),p=new Fk(s,d.Hi),v=p.Wu(d.documents),C=p.applyChanges(v,!1);l.resolve(C.snapshot)}catch(d){const p=Pd(d,`Failed to execute query '${s} against cache`);l.reject(p)}}),function(r,s,l){return i.apply(this,arguments)})(yield My(n),e,t);var i})),t.promise}(t,n._query).then(r=>new b3(e,i,n,r))}(this._delegate):"server"===e?.source?function wne(n){n=An(n,_s);const e=An(n.firestore,Mi),t=mr(e),i=new w3(e);return cN(t,n._query,{source:"server"}).then(r=>new b3(e,i,n,r))}(this._delegate):function Mne(n){n=An(n,_s);const e=An(n.firestore,Mi),t=mr(e),i=new w3(e);return yN(n._query),cN(t,n._query).then(r=>new b3(e,i,n,r))}(this._delegate),t.then(i=>new SA(this.firestore,new b3(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=PN(e),i=FN(e,r=>new SA(this.firestore,new b3(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return IN(this._delegate,t,i)}withConverter(e){return new Fs(this.firestore,this._delegate.withConverter(e?g0.getInstance(this.firestore,e):null))}}class One{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new P9(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class SA{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Fs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new P9(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new One(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new P9(this._firestore,i))})}isEqual(e){return AN(this._delegate,e._delegate)}}class jd extends Fs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new m1(this.firestore,e):null}doc(e){try{return new m1(this.firestore,void 0===e?_y(this._delegate):_y(this._delegate,e))}catch(t){throw Ps(t,"doc()","CollectionReference.doc()")}}add(e){return function Sne(n,e){const t=An(n.firestore,Mi),i=_y(n),r=Dy(n.converter,e);return Gd(t,[xy(h0(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Hi.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new m1(this.firestore,t))}isEqual(e){return tN(this._delegate,e._delegate)}withConverter(e){return new jd(this.firestore,this._delegate.withConverter(e?g0.getInstance(this.firestore,e):null))}}function v0(n){return An(n,Ci)}class EA{constructor(...e){this._delegate=new vc(...e)}static documentId(){return new EA(Qi.keyField().canonicalString())}isEqual(e){return(e=(0,O.m9)(e))instanceof vc&&this._delegate._internalPath.isEqual(e._internalPath)}}class _0{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Tne(){return new gA("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new _0(e)}static delete(){const e=function Ine(){return new V9("deleteField")}();return e._methodName="FieldValue.delete",new _0(e)}static arrayUnion(...e){const t=function Vne(...n){return new tne("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new _0(t)}static arrayRemove(...e){const t=function Hne(...n){return new nne("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new _0(t)}static increment(e){const t=function zne(n){return new ine("increment",n)}(e);return t._methodName="FieldValue.increment",new _0(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Bne={Firestore:kN,GeoPoint:by,Timestamp:Vi,Blob:N9,Transaction:NN,WriteBatch:RN,DocumentReference:m1,DocumentSnapshot:R9,Query:Fs,QueryDocumentSnapshot:P9,QuerySnapshot:SA,CollectionReference:jd,FieldPath:EA,FieldValue:_0,setLogLevel:function Fne(n){!function NX(n){c3.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function ON(n,e){return function jne(n,e=uc.z){return new Di.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function AA(n,e){return ON(n,e).pipe((0,Tt.U)(t=>({payload:t,type:"query"})))}function Iy(n,e){return AA(n,e).pipe(vs(void 0),H6(),(0,Tt.U)(([t,i])=>{const r=i.payload.docChanges(),s=r.map(l=>({type:l.type,payload:l}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((l,d)=>{const p=r.find(C=>C.doc.ref.isEqual(l.ref)),v=t?.payload.docs.find(C=>C.ref.isEqual(l.ref));p&&JSON.stringify(p.doc.metadata)===JSON.stringify(l.metadata)||!p&&v&&JSON.stringify(v.metadata)===JSON.stringify(l.metadata)||s.push({type:"modified",payload:{oldIndex:d,newIndex:d,type:"modified",doc:l}})}),s}))}function BN(n,e,t){return Iy(n,t).pipe(Ro((i,r)=>function qne(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function Wne(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return DA(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return DA(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return DA(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(s=>s.payload),e),[]),V6(),(0,Tt.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function DA(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function UN(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function Gne(n){(function Une(n,e){n.INTERNAL.registerComponent(new ms.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},Bne)))})(n,(e,t)=>new kN(e,t,new Pne)),n.registerVersion("@firebase/firestore-compat","0.2.2")}(x7.Z);class GN{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=Iy(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Tt.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(vs(void 0),H6(),mn(([i,r])=>r.length>0||!i),(0,Tt.U)(([i,r])=>r),fn.iC)}auditTrail(e){return this.stateChanges(e).pipe(Ro((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=UN(e);return BN(this.query,t,this.afs.schedulers.outsideAngular).pipe(fn.iC)}valueChanges(e={}){return AA(this.query,this.afs.schedulers.outsideAngular).pipe((0,Tt.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),fn.iC)}get(e){return(0,nn.D)(this.query.get(e)).pipe(fn.iC)}add(e){return this.ref.add(e)}doc(e){return new jN(this.ref.doc(e),this.afs)}}class jN{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:s}=WN(i,t);return new GN(r,s,this.afs)}snapshotChanges(){return function $ne(n,e){return ON(n,e).pipe(vs(void 0),H6(),(0,Tt.U)(([t,i])=>i.exists?t?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(fn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Tt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,nn.D)(this.ref.get(e)).pipe(fn.iC)}}class Yne{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Iy(this.query,this.afs.schedulers.outsideAngular).pipe((0,Tt.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),mn(t=>t.length>0),fn.iC):Iy(this.query,this.afs.schedulers.outsideAngular).pipe(fn.iC)}auditTrail(e){return this.stateChanges(e).pipe(Ro((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=UN(e);return BN(this.query,t,this.afs.schedulers.outsideAngular).pipe(fn.iC)}valueChanges(e={}){return AA(this.query,this.afs.schedulers.outsideAngular).pipe((0,Tt.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),fn.iC)}get(e){return(0,nn.D)(this.query.get(e)).pipe(fn.iC)}}const $N=new c.OlP("angularfire2.enableFirestorePersistence"),qN=new c.OlP("angularfire2.firestore.persistenceSettings"),Kne=new c.OlP("angularfire2.firestore.settings"),Zne=new c.OlP("angularfire2.firestore.use-emulator");function WN(n,e=(t=>t)){return{query:e(n),ref:n}}let F9=(()=>{class n{constructor(t,i,r,s,l,d,p,v,C,w,A,I,k,j,X,xe,ke){this.schedulers=p;const qe=(0,pi.on)(t,d,i),Ze=C;w&&g8(qe,d,A,k,j,X,I,xe),[this.firestore,this.persistenceEnabled$]=(0,pi.cc)(`${qe.name}.firestore`,"AngularFirestore",qe.name,()=>{const dt=d.runOutsideAngular(()=>qe.firestore());if(s&&dt.settings(s),Ze&&dt.useEmulator(...Ze),r&&!Kr(l)){const bt=()=>{try{return(0,nn.D)(dt.enablePersistence(v||void 0).then(()=>!0,()=>!1))}catch(en){return typeof console<"u"&&console.warn(en),ct(!1)}};return[dt,d.runOutsideAngular(bt)]}return[dt,ct(!1)]},[s,Ze,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:s,query:l}=WN(r,i),d=this.schedulers.ngZone.run(()=>s);return new GN(d,l,this)}collectionGroup(t,i){const r=i||(l=>l),s=this.firestore.collectionGroup(t);return new Yne(r(s),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new jN(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(pi.Dh),c.LFG(pi.xv,8),c.LFG($N,8),c.LFG(Kne,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(fn.HU),c.LFG(qN,8),c.LFG(Zne,8),c.LFG(o2,8),c.LFG(h8,8),c.LFG(bh,8),c.LFG(wh,8),c.LFG(p8,8),c.LFG(xh,8),c.LFG(m8,8),c.LFG(V4,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Qne=(()=>{class n{constructor(){Ja.Z.registerVersion("angularfire",fn.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:$N,useValue:!0},{provide:qN,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[F9]}),n})();function Ty(n,e=uc.z){return(0,Li.e)((t,i)=>{let r=null,s=null,l=null;const d=()=>{if(r){r.unsubscribe(),r=null;const v=s;s=null,i.next(v)}};function p(){const v=l+n,C=e.now();if(C<v)return r=this.schedule(void 0,v-C),void i.add(r);d()}t.subscribe((0,ti.x)(i,v=>{s=v,l=e.now(),r||(r=e.schedule(p,n),i.add(r))},()=>{d(),i.complete()},void 0,()=>{s=r=null}))})}const YN="firebasestorage.googleapis.com",KN="storageBucket";class er extends O.ZR{constructor(e,t,i=0){super(LA(e),`Firebase Storage: ${t} (${LA(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,er.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return LA(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function LA(n){return"storage/"+n}function IA(){return new er("unknown","An unknown error occurred, please check the error payload for server response.")}function ZN(){return new er("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function QN(){return new er("canceled","User canceled the upload/download.")}function XN(){return new er("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function $d(n){return new er("invalid-argument",n)}function JN(){return new er("app-deleted","The Firebase app was deleted.")}function eR(n){return new er("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function O9(n,e){return new er("invalid-format","String does not match format '"+n+"': "+e)}function B9(n){throw new er("internal-error","Internal error: "+n)}class ys{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=ys.makeFromUrl(e,t)}catch{return new ys(e,"")}if(""===i.path)return i;throw function aie(n){return new er("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let i=null;const r="([A-Za-z0-9.\\-_]+)",d=new RegExp("^gs://"+r+"(/(.*))?$","i");function v(Ze){Ze.path_=decodeURIComponent(Ze.path)}const w=t.replace(/[.]/g,"\\."),qe=[{regex:d,indices:{bucket:1,path:3},postModify:function s(Ze){"/"===Ze.path.charAt(Ze.path.length-1)&&(Ze.path_=Ze.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${w}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:v},{regex:new RegExp(`^https?://${t===YN?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:v}];for(let Ze=0;Ze<qe.length;Ze++){const dt=qe[Ze],bt=dt.regex.exec(e);if(bt){let Si=bt[dt.indices.path];Si||(Si=""),i=new ys(bt[dt.indices.bucket],Si),dt.postModify(i);break}}if(null==i)throw function oie(n){return new er("invalid-url","Invalid URL '"+n+"'.")}(e);return i}}class die{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function Vy(n){return"string"==typeof n||n instanceof String}function tR(n){return TA()&&n instanceof Blob}function TA(){return typeof Blob<"u"&&!(0,O.UG)()}function VA(n,e,t,i){if(i<e)throw $d(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw $d(`Invalid value for '${n}'. Expected ${t} or less.`)}function yc(n,e,t){let i=e;return null==t&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function nR(n){const e=encodeURIComponent;let t="?";for(const i in n)n.hasOwnProperty(i)&&(t=t+(e(i)+"=")+e(n[i])+"&");return t=t.slice(0,-1),t}var S3=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(S3||(S3={})),S3))();function iR(n,e){const t=n>=500&&n<600,r=-1!==[408,429].indexOf(n),s=-1!==e.indexOf(n);return t||r||s}class vie{constructor(e,t,i,r,s,l,d,p,v,C,w,A=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=l,this.callback_=d,this.errorCallback_=p,this.timeout_=v,this.progressCallback_=C,this.connectionFactory_=w,this.retry=A,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((I,k)=>{this.resolve_=I,this.reject_=k,this.start_()})}start_(){const t=(i,r)=>{const s=this.resolve_,l=this.reject_,d=r.connection;if(r.wasSuccessCode)try{const p=this.callback_(d,d.getResponse());!function pie(n){return void 0!==n}(p)?s():s(p)}catch(p){l(p)}else if(null!==d){const p=IA();p.serverResponse=d.getErrorText(),l(this.errorCallback_?this.errorCallback_(d,p):p)}else l(r.canceled?this.appDelete_?JN():QN():ZN())};this.canceled_?t(0,new Hy(!1,null,!0)):this.backoffId_=function fie(n,e,t){let i=1,r=null,s=null,l=!1,d=0;function p(){return 2===d}let v=!1;function C(...X){v||(v=!0,e.apply(null,X))}function w(X){r=setTimeout(()=>{r=null,n(I,p())},X)}function A(){s&&clearTimeout(s)}function I(X,...xe){if(v)return void A();if(X)return A(),void C.call(null,X,...xe);if(p()||l)return A(),void C.call(null,X,...xe);let qe;i<64&&(i*=2),1===d?(d=2,qe=0):qe=1e3*(i+Math.random()),w(qe)}let k=!1;function j(X){k||(k=!0,A(),!v&&(null!==r?(X||(d=2),clearTimeout(r),w(0)):X||(d=1)))}return w(0),s=setTimeout(()=>{l=!0,j(!0)},t),j}((i,r)=>{if(r)return void i(!1,new Hy(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const l=d=>{null!==this.progressCallback_&&this.progressCallback_(d.loaded,d.lengthComputable?d.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(l),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(l),this.pendingConnection_=null;const d=s.getErrorCode()===S3.NO_ERROR,p=s.getStatus();if((!d||iR(p,this.additionalRetryCodes_))&&this.retry){const C=s.getErrorCode()===S3.ABORT;return void i(!1,new Hy(!1,null,C))}const v=-1!==this.successCodes_.indexOf(p);i(!0,new Hy(v,s))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function hie(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Hy{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function xie(...n){const e=function wie(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}if(TA())return new Blob(n);throw new er("unsupported-environment","This browser doesn't seem to support creating Blobs")}const B2={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class HA{constructor(e,t){this.data=e,this.contentType=t||null}}function zA(n,e){switch(n){case B2.RAW:return new HA(rR(e));case B2.BASE64:case B2.BASE64URL:return new HA(sR(n,e));case B2.DATA_URL:return new HA(function Die(n){const e=new oR(n);return e.base64?sR(B2.BASE64,e.rest):function Aie(n){let e;try{e=decodeURIComponent(n)}catch{throw O9(B2.DATA_URL,"Malformed data URL.")}return rR(e)}(e.rest)}(e),function Lie(n){return new oR(n).contentType}(e))}throw IA()}function rR(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);i<=127?e.push(i):i<=2047?e.push(192|i>>6,128|63&i):55296==(64512&i)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++t),e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):e.push(239,191,189):56320==(64512&i)?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(e)}function sR(n,e){switch(n){case B2.BASE64:{const r=-1!==e.indexOf("-"),s=-1!==e.indexOf("_");if(r||s)throw O9(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case B2.BASE64URL:{const r=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(r||s)throw O9(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function Eie(n){return atob(n)}(e)}catch{throw O9(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}class oR{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw O9(B2.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;null!=i&&(this.base64=function Iie(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}class Zo{constructor(e,t){let i=0,r="";tR(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(tR(this.data_)){const r=function Sie(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===r?null:new Zo(r)}{const i=new Uint8Array(this.data_.buffer,e,t-e);return new Zo(i,!0)}}static getBlob(...e){if(TA()){const t=e.map(i=>i instanceof Zo?i.data_:i);return new Zo(xie.apply(null,t))}{const t=e.map(l=>Vy(l)?zA(B2.RAW,l).data:l.data_);let i=0;t.forEach(l=>{i+=l.byteLength});const r=new Uint8Array(i);let s=0;return t.forEach(l=>{for(let d=0;d<l.length;d++)r[s++]=l[d]}),new Zo(r,!0)}}uploadData(){return this.data_}}function kA(n){let e;try{e=JSON.parse(n)}catch{return null}return function gie(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function aR(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function Hie(n,e){return e}class Os{constructor(e,t,i,r){this.server=e,this.local=t||e,this.writable=!!i,this.xform=r||Hie}}let zy=null;function U9(){if(zy)return zy;const n=[];n.push(new Os("bucket")),n.push(new Os("generation")),n.push(new Os("metageneration")),n.push(new Os("name","fullPath",!0));const t=new Os("name");t.xform=function e(s,l){return function zie(n){return!Vy(n)||n.length<2?n:aR(n)}(l)},n.push(t);const r=new Os("size");return r.xform=function i(s,l){return void 0!==l?Number(l):l},n.push(r),n.push(new Os("timeCreated")),n.push(new Os("updated")),n.push(new Os("md5Hash",null,!0)),n.push(new Os("cacheControl",null,!0)),n.push(new Os("contentDisposition",null,!0)),n.push(new Os("contentEncoding",null,!0)),n.push(new Os("contentLanguage",null,!0)),n.push(new Os("contentType",null,!0)),n.push(new Os("metadata","customMetadata",!0)),zy=n,zy}function cR(n,e,t){const i=kA(e);return null===i?null:function Nie(n,e,t){const i={type:"file"},r=t.length;for(let s=0;s<r;s++){const l=t[s];i[l.local]=l.xform(i,e[l.server])}return function kie(n,e){Object.defineProperty(n,"ref",{get:function t(){const s=new ys(n.bucket,n.fullPath);return e._makeStorageReference(s)}})}(i,n),i}(n,i,t)}function NA(n,e){const t={},i=e.length;for(let r=0;r<i;r++){const s=e[r];s.writable&&(t[s.server]=n[s.local])}return JSON.stringify(t)}const lR="prefixes";class Qo{constructor(e,t,i,r){this.url=e,this.method=t,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Xo(n){if(!n)throw IA()}function ky(n,e){return function t(i,r){const s=cR(n,r,e);return Xo(null!==s),s}}function qd(n){return function e(t,i){let r;return r=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function rie(){return new er("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function iie(){return new er("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function nie(n){return new er("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function sie(n){return new er("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):i,r.status=t.getStatus(),r.serverResponse=i.serverResponse,r}}function G9(n){const e=qd(n);return function t(i,r){let s=e(i,r);return 404===i.getStatus()&&(s=function tie(n){return new er("object-not-found","Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=r.serverResponse,s}}function dR(n,e,t){const r=yc(e.fullServerUrl(),n.host,n._protocol),l=n.maxOperationRetryTime,d=new Qo(r,"GET",ky(n,t),l);return d.errorHandler=G9(e),d}function Uie(n,e,t,i,r){const s={};s.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(s.delimiter=t),i&&(s.pageToken=i),r&&(s.maxResults=r);const d=yc(e.bucketOnlyServerUrl(),n.host,n._protocol),v=n.maxOperationRetryTime,C=new Qo(d,"GET",function Oie(n,e){return function t(i,r){const s=function Fie(n,e,t){const i=kA(t);return null===i?null:function Pie(n,e,t){const i={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[lR])for(const r of t[lR]){const s=r.replace(/\/$/,""),l=n._makeStorageReference(new ys(e,s));i.prefixes.push(l)}if(t.items)for(const r of t.items){const s=n._makeStorageReference(new ys(e,r.name));i.items.push(s)}return i}(n,e,i)}(n,e,r);return Xo(null!==s),s}}(n,e.bucket),v);return C.urlParams=s,C.errorHandler=qd(e),C}function hR(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=function qie(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),i}class Ny{constructor(e,t,i,r){this.current=e,this.total=t,this.finalized=!!i,this.metadata=r||null}}function RA(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{Xo(!1)}return Xo(!!t&&-1!==(e||["active"]).indexOf(t)),t}const Zie={STATE_CHANGED:"state_changed"},Bs={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function PA(n){switch(n){case"running":case"pausing":case"canceling":return Bs.RUNNING;case"paused":return Bs.PAUSED;case"success":return Bs.SUCCESS;case"canceled":return Bs.CANCELED;default:return Bs.ERROR}}class Qie{constructor(e,t,i){if(function mie(n){return"function"==typeof n}(e)||null!=t||null!=i)this.next=e,this.error=t??void 0,this.complete=i??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function Wd(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class Jie extends class Xie{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=S3.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=S3.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=S3.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,r){if(this.sent_)throw B9("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw B9("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw B9("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw B9("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw B9("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function io(){return new Jie}class vR{constructor(e,t,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=i,this._mappings=U9(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{if(this._request=void 0,this._chunkMultiplier=1,r._codeEquals("canceled"))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(iR(r.status,[])){if(!s)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();r=ZN()}this._error=r,this._transition("error")}},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals("canceled")?this.completeTransitions_():(this._error=r,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((r,s)=>{this._resolve=r,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,i])=>{switch(this._state){case"running":e(t,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const i=function Wie(n,e,t,i,r){const s=e.bucketOnlyServerUrl(),l=hR(e,i,r),d={name:l.fullPath},p=yc(s,n.host,n._protocol),C={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":l.contentType,"Content-Type":"application/json; charset=utf-8"},w=NA(l,t),k=new Qo(p,"POST",function I(j){let X;RA(j);try{X=j.getResponseHeader("X-Goog-Upload-URL")}catch{Xo(!1)}return Xo(Vy(X)),X},n.maxUploadRetryTime);return k.urlParams=d,k.headers=C,k.body=w,k.errorHandler=qd(e),k}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,io,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,i)=>{const r=function Yie(n,e,t,i){const p=new Qo(t,"POST",function s(v){const C=RA(v,["active","final"]);let w=null;try{w=v.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Xo(!1)}w||Xo(!1);const A=Number(w);return Xo(!isNaN(A)),new Ny(A,i.size(),"final"===C)},n.maxUploadRetryTime);return p.headers={"X-Goog-Upload-Command":"query"},p.errorHandler=qd(e),p}(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(r,io,t,i);this._request=s,s.getPromise().then(l=>{this._request=void 0,this._updateProgress(l.current),this._needToFetchStatus=!1,l.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new Ny(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,s)=>{let l;try{l=function Kie(n,e,t,i,r,s,l,d){const p=new Ny(0,0);if(l?(p.current=l.current,p.total=l.total):(p.current=0,p.total=i.size()),i.size()!==p.total)throw function lie(){return new er("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const v=p.total-p.current;let C=v;r>0&&(C=Math.min(C,r));const w=p.current;let I="";I=0===C?"finalize":v===C?"upload, finalize":"upload";const k={"X-Goog-Upload-Command":I,"X-Goog-Upload-Offset":`${p.current}`},j=i.slice(w,w+C);if(null===j)throw XN();const qe=new Qo(t,"POST",function X(Ze,dt){const bt=RA(Ze,["active","final"]),en=p.current+C,Si=i.size();let ir;return ir="final"===bt?ky(e,s)(Ze,dt):null,new Ny(en,Si,"final"===bt,ir)},e.maxUploadRetryTime);return qe.headers=k,qe.body=j.uploadData(),qe.progressCallback=d||null,qe.errorHandler=qd(n),qe}(this._ref._location,this._ref.storage,i,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(p){return this._error=p,void this._transition("error")}const d=this._ref.storage._makeRequest(l,io,r,s,!1);this._request=d,d.getPromise().then(p=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(p.current),p.finalized?(this._metadata=p.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const i=dR(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,io,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const i=function pR(n,e,t,i,r){const s=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"},p=function d(){let qe="";for(let Ze=0;Ze<2;Ze++)qe+=Math.random().toString().slice(2);return qe}();l["Content-Type"]="multipart/related; boundary="+p;const v=hR(e,i,r),C=NA(v,t),I=Zo.getBlob("--"+p+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+C+"\r\n--"+p+"\r\nContent-Type: "+v.contentType+"\r\n\r\n",i,"\r\n--"+p+"--");if(null===I)throw XN();const k={name:v.fullPath},j=yc(s,n.host,n._protocol),xe=n.maxUploadRetryTime,ke=new Qo(j,"POST",ky(n,t),xe);return ke.urlParams=k,ke.headers=l,ke.body=I.uploadData(),ke.errorHandler=qd(e),ke}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,io,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=QN(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=PA(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,i,r){const s=new Qie(t||void 0,i||void 0,r||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(PA(this._state)){case Bs.SUCCESS:Wd(this._resolve.bind(null,this.snapshot))();break;case Bs.CANCELED:case Bs.ERROR:Wd(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(PA(this._state)){case Bs.RUNNING:case Bs.PAUSED:e.next&&Wd(e.next.bind(e,this.snapshot))();break;case Bs.SUCCESS:e.complete&&Wd(e.complete.bind(e))();break;default:e.error&&Wd(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class y0{constructor(e,t){this._service=e,this._location=t instanceof ys?t:ys.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new y0(e,t)}get root(){const e=new ys(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return aR(this._location.path)}get storage(){return this._service}get parent(){const e=function Tie(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new ys(this._location.bucket,e);return new y0(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw eR(e)}}function yR(n,e,t){return FA.apply(this,arguments)}function FA(){return FA=(0,Se.Z)(function*(n,e,t){const r=yield CR(n,{pageToken:t});e.prefixes.push(...r.prefixes),e.items.push(...r.items),null!=r.nextPageToken&&(yield yR(n,e,r.nextPageToken))}),FA.apply(this,arguments)}function CR(n,e){null!=e&&"number"==typeof e.maxResults&&VA("options.maxResults",1,1e3,e.maxResults);const t=e||{},i=Uie(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(i,io)}function dre(n){n._throwIfRoot("getDownloadURL");const e=function Gie(n,e,t){const r=yc(e.fullServerUrl(),n.host,n._protocol),l=n.maxOperationRetryTime,d=new Qo(r,"GET",function Bie(n,e){return function t(i,r){const s=cR(n,r,e);return Xo(null!==s),function Rie(n,e,t,i){const r=kA(e);if(null===r||!Vy(r.downloadTokens))return null;const s=r.downloadTokens;if(0===s.length)return null;const l=encodeURIComponent;return s.split(",").map(v=>{const w=n.fullPath;return yc("/b/"+l(n.bucket)+"/o/"+l(w),t,i)+nR({alt:"media",token:v})})[0]}(s,r,n.host,n._protocol)}}(n,t),l);return d.errorHandler=G9(e),d}(n.storage,n._location,U9());return n.storage.makeRequestWithTokens(e,io).then(t=>{if(null===t)throw function uie(){return new er("no-download-url","The given file does not have any download URLs.")}();return t})}function MR(n,e){const t=function Vie(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),i=new ys(n._location.bucket,t);return new y0(n.storage,i)}function bR(n,e){if(n instanceof OA){const t=n;if(null==t._bucket)throw function cie(){return new er("no-default-bucket","No default bucket found. Did you set the '"+KN+"' property when initializing the app?")}();const i=new y0(t,t._bucket);return null!=e?bR(i,e):i}return void 0!==e?MR(n,e):n}function mre(n,e){if(e&&function hre(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof OA)return function pre(n,e){return new y0(n,e)}(n,e);throw $d("To use ref(service, url), the first argument must be a Storage instance.")}return bR(n,e)}function wR(n,e){const t=e?.[KN];return null==t?null:ys.makeFromBucketSpec(t,n)}class OA{constructor(e,t,i,r,s){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=YN,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?ys.makeFromBucketSpec(r,this._host):wR(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?ys.makeFromBucketSpec(this._url,e):wR(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){VA("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){VA("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,Se.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const i=yield t.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,Se.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new y0(this,e)}_makeRequest(e,t,i,r,s=!0){if(this._deleted)return new die(JN());{const l=function bie(n,e,t,i,r,s,l=!0){const d=nR(n.urlParams),p=n.url+d,v=Object.assign({},n.headers);return function Cie(n,e){e&&(n["X-Firebase-GMPID"]=e)}(v,e),function _ie(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(v,t),function yie(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(v,s),function Mie(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(v,i),new vie(p,n.method,v,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,l)}(e,this._appId,i,r,t,this._firebaseVersion,s);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}makeRequestWithTokens(e,t){var i=this;return(0,Se.Z)(function*(){const[r,s]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(e,t,r,s).getPromise()})()}}const xR="@firebase/storage";function AR(n,e){return mre(n=(0,O.m9)(n),e)}function Sre(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new OA(t,i,r,e,Dr.SDK_VERSION)}!function Ere(){(0,Dr._registerComponent)(new ms.wA("storage",Sre,"PUBLIC").setMultipleInstances(!0)),(0,Dr.registerVersion)(xR,"0.9.13",""),(0,Dr.registerVersion)(xR,"0.9.13","esm2017")}();class Ry{constructor(e,t,i){this._delegate=e,this.task=t,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class LR{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Ry(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(i=>{if(e)return e(new Ry(i,this,this._ref))},t)}on(e,t,i,r){let s;return t&&(s="function"==typeof t?l=>t(new Ry(l,this,this._ref)):{next:t.next?l=>t.next(new Ry(l,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,s,i||void 0,r||void 0)}}class IR{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new Cc(e,this._service))}get items(){return this._delegate.items.map(e=>new Cc(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Cc{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function xre(n,e){return MR(n,e)}(this._delegate,e);return new Cc(t,this.storage)}get root(){return new Cc(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new Cc(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new LR(function vre(n,e,t){return function ore(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new vR(n,new Zo(e),t)}(n=(0,O.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=B2.RAW,i){this._throwIfRoot("putString");const r=zA(t,e),s=Object.assign({},i);return null==s.contentType&&null!=r.contentType&&(s.contentType=r.contentType),new LR(new vR(this._delegate,new Zo(r.data,!0),s),this)}listAll(){return function Mre(n){return function cre(n){const e={prefixes:[],items:[]};return yR(n,e).then(()=>e)}(n=(0,O.m9)(n))}(this._delegate).then(e=>new IR(e,this.storage))}list(e){return function Cre(n,e){return CR(n=(0,O.m9)(n),e)}(this._delegate,e||void 0).then(t=>new IR(t,this.storage))}getMetadata(){return function _re(n){return function lre(n){n._throwIfRoot("getMetadata");const e=dR(n.storage,n._location,U9());return n.storage.makeRequestWithTokens(e,io)}(n=(0,O.m9)(n))}(this._delegate)}updateMetadata(e){return function yre(n,e){return function ure(n,e){n._throwIfRoot("updateMetadata");const t=function jie(n,e,t,i){const s=yc(e.fullServerUrl(),n.host,n._protocol),d=NA(t,i),v=n.maxOperationRetryTime,C=new Qo(s,"PATCH",ky(n,i),v);return C.headers={"Content-Type":"application/json; charset=utf-8"},C.body=d,C.errorHandler=G9(e),C}(n.storage,n._location,e,U9());return n.storage.makeRequestWithTokens(t,io)}(n=(0,O.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function bre(n){return dre(n=(0,O.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function wre(n){return function fre(n){n._throwIfRoot("deleteObject");const e=function $ie(n,e){const i=yc(e.fullServerUrl(),n.host,n._protocol),d=new Qo(i,"DELETE",function l(p,v){},n.maxOperationRetryTime);return d.successCodes=[200,204],d.errorHandler=G9(e),d}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,io)}(n=(0,O.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw eR(e)}}class TR{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(VR(e))throw $d("ref() expected a child path but got a URL, use refFromURL instead.");return new Cc(AR(this._delegate,e),this)}refFromURL(e){if(!VR(e))throw $d("refFromURL() expected a full URL but got a child path, use ref() instead.");try{ys.makeFromUrl(e,this._delegate.host)}catch{throw $d("refFromUrl() expected a valid full URL but got an invalid one.")}return new Cc(AR(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,i={}){!function DR(n,e,t,i={}){!function gre(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,O.Sg)(r,n.app.options.projectId))}(n,e,t,i)}(this._delegate,e,t,i)}}function VR(n){return/^[A-Za-z]+:\/\//.test(n)}function Ire(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:e});return new TR(t,i)}function HR(n){const e=function Vre(n){return new Di.y(e=>{const t=l=>e.next(l);t(n.snapshot);const s=n.on("state_changed",t);return n.then(l=>{t(l),e.complete()},l=>{t(n.snapshot),(l=>{e.error(l)})(l)}),function(){s()}}).pipe(Ty(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,Tt.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function Py(n){return{getDownloadURL:()=>ct(void 0).pipe(fn.fc,ni(()=>n.getDownloadURL()),fn.iC),getMetadata:()=>ct(void 0).pipe(fn.fc,ni(()=>n.getMetadata()),fn.iC),delete:()=>(0,nn.D)(n.delete()),child:e=>Py(n.child(e)),updateMetadata:e=>(0,nn.D)(n.updateMetadata(e)),put:(e,t)=>HR(n.put(e,t)),putString:(e,t,i)=>HR(n.putString(e,t,i)),list:e=>(0,nn.D)(n.list(e)),listAll:()=>(0,nn.D)(n.listAll())}}!function Tre(n){const e={TaskState:Bs,TaskEvent:Zie,StringFormat:B2,Storage:TR,Reference:Cc};n.INTERNAL.registerComponent(new ms.wA("storage-compat",Ire,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.21")}(x7.Z);const Hre=new c.OlP("angularfire2.storageBucket"),zre=new c.OlP("angularfire2.storage.maxUploadRetryTime"),kre=new c.OlP("angularfire2.storage.maxOperationRetryTime"),Nre=new c.OlP("angularfire2.storage.use-emulator");let Rre=(()=>{class n{constructor(t,i,r,s,l,d,p,v,C,w){const A=(0,pi.on)(t,l,i);this.storage=(0,pi.cc)(`${A.name}.storage.${r}`,"AngularFireStorage",A.name,()=>{const I=l.runOutsideAngular(()=>A.storage(r||void 0)),k=C;return k&&I.useEmulator(...k),p&&I.setMaxUploadRetryTime(p),v&&I.setMaxOperationRetryTime(v),I},[p,v])}ref(t){return Py(this.storage.ref(t))}refFromURL(t){return Py(this.storage.refFromURL(t))}upload(t,i,r){return Py(this.storage.ref(t)).put(i,r)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(pi.Dh),c.LFG(pi.xv,8),c.LFG(Hre,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(fn.HU),c.LFG(zre,8),c.LFG(kre,8),c.LFG(Nre,8),c.LFG(V4,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Pre=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),Fre=(()=>{class n{constructor(){Ja.Z.registerVersion("angularfire",fn.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Rre],imports:[Pre]}),n})();var BA=R(5032);const zR="@firebase/database",kR="0.13.10";let UA="";function NR(n){UA=n}class Ure{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,O.Wl)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,O.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class Gre{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,O.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const RR=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Ure(e)}}catch{}return new Gre},C0=RR("localStorage"),GA=RR("sessionStorage"),Yd=new Vs.Yd("@firebase/database"),PR=function(){let n=1;return function(){return n++}}(),FR=function(n){const e=(0,O.dS)(n),t=new O.gQ;t.update(e);const i=t.digest();return O.US.encodeByteArray(i)},j9=function(...n){let e="";for(let t=0;t<n.length;t++){const i=n[t];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?e+=j9.apply(null,i):e+="object"==typeof i?(0,O.Wl)(i):i,e+=" "}return e};let M0=null,OR=!0;const BR=function(n,e){(0,O.hu)(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Yd.logLevel=Vs.in.VERBOSE,M0=Yd.log.bind(Yd),e&&GA.set("logging_enabled",!0)):"function"==typeof n?M0=n:(M0=null,GA.remove("logging_enabled"))},$r=function(...n){if(!0===OR&&(OR=!1,null===M0&&!0===GA.get("logging_enabled")&&BR(!0)),M0){const e=j9.apply(null,n);M0(e)}},$9=function(n){return function(...e){$r(n,...e)}},jA=function(...n){const e="FIREBASE INTERNAL ERROR: "+j9(...n);Yd.error(e)},Jo=function(...n){const e=`FIREBASE FATAL ERROR: ${j9(...n)}`;throw Yd.error(e),new Error(e)},Cs=function(...n){const e="FIREBASE WARNING: "+j9(...n);Yd.warn(e)},Fy=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Mc="[MIN_NAME]",ea="[MAX_NAME]",b0=function(n,e){if(n===e)return 0;if(n===Mc||e===ea)return-1;if(e===Mc||n===ea)return 1;{const t=Oy(n),i=Oy(e);return null!==t?null!==i?t-i==0?n.length-e.length:t-i:-1:null!==i?1:n<e?-1:1}},qre=function(n,e){return n===e?0:n<e?-1:1},q9=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+(0,O.Wl)(e))},$A=function(n){if("object"!=typeof n||null===n)return(0,O.Wl)(n);const e=[];for(const i in n)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)0!==i&&(t+=","),t+=(0,O.Wl)(e[i]),t+=":",t+=$A(n[e[i]]);return t+="}",t},UR=function(n,e){const t=n.length;if(t<=e)return[n];const i=[];for(let r=0;r<t;r+=e)i.push(n.substring(r,r+e>t?t:r+e));return i};function qr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const GR=function(n){(0,O.hu)(!Fy(n),"Invalid JSON number");const i=1023;let r,s,l,d,p;0===n?(s=0,l=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(d=Math.min(Math.floor(Math.log(n)/Math.LN2),i),s=d+i,l=Math.round(n*Math.pow(2,52-d)-Math.pow(2,52))):(s=0,l=Math.round(n/Math.pow(2,-1074))));const v=[];for(p=52;p;p-=1)v.push(l%2?1:0),l=Math.floor(l/2);for(p=11;p;p-=1)v.push(s%2?1:0),s=Math.floor(s/2);v.push(r?1:0),v.reverse();const C=v.join("");let w="";for(p=0;p<64;p+=8){let A=parseInt(C.substr(p,8),2).toString(16);1===A.length&&(A="0"+A),w+=A}return w.toLowerCase()},Zre=new RegExp("^-?(0*)\\d{1,10}$"),jR=-2147483648,qA=2147483647,Oy=function(n){if(Zre.test(n)){const e=Number(n);if(e>=jR&&e<=qA)return e}return null},Kd=function(n){try{n()}catch(e){setTimeout(()=>{throw Cs("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},W9=function(n,e){const t=setTimeout(n,e);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};class Xre{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){Cs(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Jre{constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?($r("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Cs(e)}}let Y9=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const KR=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,XR="websocket",JR="long_polling";class YA{constructor(e,t,i,r,s=!1,l="",d=!1){this.secure=t,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=l,this.includeNamespaceInQueryParams=d,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=C0.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&C0.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function eP(n,e,t){let i;if((0,O.hu)("string"==typeof e,"typeof type must == string"),(0,O.hu)("object"==typeof t,"typeof params must == object"),e===XR)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==JR)throw new Error("Unknown connection type: "+e);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function ese(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const r=[];return qr(t,(s,l)=>{r.push(s+"="+l)}),i+r.join("&")}class tse{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,O.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,O.p$)(this.counters_)}}const KA={},ZA={};function QA(n){const e=n.toString();return KA[e]||(KA[e]=new tse),KA[e]}class ise{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Kd(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class E3{constructor(e,t,i,r,s,l,d){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=l,this.lastSessionId=d,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=$9(e),this.stats_=QA(t),this.urlFn=p=>(this.appCheckToken&&(p.ac=this.appCheckToken),eP(t,JR,p))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new ise(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,O.Yr)()||"complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new XA((...s)=>{const[l,d,p,v,C]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===l)this.id=d,this.password=p;else{if("close"!==l)throw new Error("Unrecognized command received: "+l);d?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(d,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[l,d]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(l,d)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&KR.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){E3.forceAllow_=!0}static forceDisallow(){E3.forceDisallow_=!0}static isAvailable(){return!((0,O.Yr)()||!E3.forceAllow_&&(E3.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,O.Wl)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=(0,O.h$)(t),r=UR(i,1840);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,O.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=e,i.pw=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,O.Wl)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class XA{constructor(e,t,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,O.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=PR(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=XA.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const l="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(d){$r("frame writing exception"),d.stack&&$r(d.stack),$r(d)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||$r("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const l=this.pendingSegs.shift();i=i+"&seg"+r+"="+l.seg+"&ts"+r+"="+l.ts+"&d"+r+"="+l.d,r++}return t+=i,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),i()})}addTag(e,t){(0,O.Yr)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{$r("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let Uy=null;typeof MozWebSocket<"u"?Uy=MozWebSocket:typeof WebSocket<"u"&&(Uy=WebSocket);let Zd=(()=>{class n{constructor(t,i,r,s,l,d,p){this.connId=t,this.applicationId=r,this.appCheckToken=s,this.authToken=l,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=$9(this.connId),this.stats_=QA(i),this.connURL=n.connectionURL_(i,d,p,s,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,r,s,l){const d={v:"5"};return!(0,O.Yr)()&&typeof location<"u"&&location.hostname&&KR.test(location.hostname)&&(d.r="f"),i&&(d.s=i),r&&(d.ls=r),s&&(d.ac=s),l&&(d.p=l),eP(t,XR,d)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,C0.set("previous_websocket_failure",!0);try{let r;if((0,O.Yr)()){r={headers:{"User-Agent":`Firebase/5/${UA}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const l=process.env,d=0===this.connURL.indexOf("wss://")?l.HTTPS_PROXY||l.https_proxy:l.HTTP_PROXY||l.http_proxy;d&&(r.proxy={origin:d})}this.mySock=new Uy(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&null!==Uy&&!n.forceDisallow_}static previouslyFailed(){return C0.isInMemoryStorage||!0===C0.get("previous_websocket_failure")}markConnectionHealthy(){C0.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,O.cI)(i);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,O.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const i=(0,O.Wl)(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=UR(i,16384);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),aP=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[E3,Zd]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const i=Zd&&Zd.isAvailable();let r=i&&!Zd.previouslyFailed();if(t.webSocketOnly&&(i||Cs("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Zd];else{const s=this.transports_=[];for(const l of n.ALL_TRANSPORTS)l&&l.isAvailable()&&s.push(l);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class pP{constructor(e,t,i,r,s,l,d,p,v,C){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=l,this.onReady_=d,this.onDisconnect_=p,this.onKill_=v,this.lastSessionId=C,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=$9("c:"+this.id+":"),this.transportManager_=new aP(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=W9(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=q9("t",e),i=q9("d",e);if("c"===t)this.onSecondaryControl_(i);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=q9("t",e),i=q9("d",e);"c"===t?this.onControl_(i):"d"===t&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=q9("t",e);if("d"in e){const i=e.d;if("h"===t)this.onHandshake_(i);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(i):"r"===t?this.onReset_(i):"e"===t?jA("Server Error: "+i):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):jA("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==i&&Cs("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),W9(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):W9(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(C0.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class mP{put(e,t,i,r){}merge(e,t,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}}class gP{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,O.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});const r=this.getInitialEvent(e);r&&t.apply(i,r)}off(e,t,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let s=0;s<r.length;s++)if(r[s].callback===t&&(!i||i===r[s].context))return void r.splice(s,1)}validateEventType_(e){(0,O.hu)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class Gy extends gP{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,O.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Gy}getInitialEvent(e){return(0,O.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class qn{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function Fn(){return new qn("")}function Mn(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function A3(n){return n.pieces_.length-n.pieceNum_}function ui(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new qn(n.pieces_,e)}function eD(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function K9(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function yP(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new qn(e,0)}function zi(n,e){const t=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);if(e instanceof qn)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&t.push(i[r])}return new qn(t,0)}function bn(n){return n.pieceNum_>=n.pieces_.length}function Us(n,e){const t=Mn(n),i=Mn(e);if(null===t)return e;if(t===i)return Us(ui(n),ui(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function Sse(n,e){const t=K9(n,0),i=K9(e,0);for(let r=0;r<t.length&&r<i.length;r++){const s=b0(t[r],i[r]);if(0!==s)return s}return t.length===i.length?0:t.length<i.length?-1:1}function tD(n,e){if(A3(n)!==A3(e))return!1;for(let t=n.pieceNum_,i=e.pieceNum_;t<=n.pieces_.length;t++,i++)if(n.pieces_[t]!==e.pieces_[i])return!1;return!0}function g1(n,e){let t=n.pieceNum_,i=e.pieceNum_;if(A3(n)>A3(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[i])return!1;++t,++i}return!0}class Ese{constructor(e,t){this.errorPrefix_=t,this.parts_=K9(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,O.ug)(this.parts_[i]);CP(this)}}function CP(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+w0(n))}function w0(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class nD extends gP{constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new nD}getInitialEvent(e){return(0,O.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const Z9=1e3;let $y,x0=(()=>{class n extends mP{constructor(t,i,r,s,l,d,p,v){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=l,this.authTokenProvider_=d,this.appCheckTokenProvider_=p,this.authOverride_=v,this.id=n.nextPersistentConnectionId_++,this.log_=$9("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Z9,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,v&&!(0,O.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");nD.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&Gy.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,r){const s=++this.requestNumber_,l={r:s,a:t,b:i};this.log_((0,O.Wl)(l)),(0,O.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(l),r&&(this.requestCBHash_[s]=r)}get(t){this.initConnection_();const i=new O.BH,r={p:t._path.toString(),q:t._queryObject};return this.outstandingGets_.push({action:"g",request:r,onComplete:d=>{const p=d.d;"ok"===d.s?i.resolve(p):i.reject(p)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(t,i,r,s){this.initConnection_();const l=t._queryIdentifier,d=t._path.toString();this.log_("Listen called for "+d+" "+l),this.listens.has(d)||this.listens.set(d,new Map),(0,O.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,O.hu)(!this.listens.get(d).has(l),"listen() called twice for same path/queryId.");const p={onComplete:s,hashFn:i,query:t,tag:r};this.listens.get(d).set(l,p),this.connected_&&this.sendListen_(p)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(t){const i=t.query,r=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+r+" for "+s);const l={p:r};t.tag&&(l.q=i._queryObject,l.t=t.tag),l.h=t.hashFn(),this.sendRequest("q",l,p=>{const v=p.d,C=p.s;n.warnOnListenWarnings_(v,i),(this.listens.get(r)&&this.listens.get(r).get(s))===t&&(this.log_("listen response",p),"ok"!==C&&this.removeListen_(r,s),t.onComplete&&t.onComplete(C,v))})}static warnOnListenWarnings_(t,i){if(t&&"object"==typeof t&&(0,O.r3)(t,"w")){const r=(0,O.DV)(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+i._queryParams.getIndex().toString()+'"',l=i._path.toString();Cs(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${l} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,O.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=(0,O.w9)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,s=>{const l=s.s,d=s.d||"error";this.authToken_===t&&("ok"===l?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(l,d))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,r=t.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(t,i){const r=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),(0,O.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,t._queryObject,i)}sendUnlisten_(t,i,r,s){this.log_("Unlisten on "+t+" for "+i);const l={p:t};s&&(l.q=r,l.t=s),this.sendRequest("n",l)}onDisconnectPut(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:r})}onDisconnectMerge(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:r})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,r,s){const l={p:i,d:r};this.log_("onDisconnect "+t,l),this.sendRequest(t,l,d=>{s&&setTimeout(()=>{s(d.s,d.d)},Math.floor(0))})}put(t,i,r,s){this.putInternal("p",t,i,r,s)}merge(t,i,r,s){this.putInternal("m",t,i,r,s)}putInternal(t,i,r,s,l){this.initConnection_();const d={p:i,d:r};void 0!==l&&(d.h=l),this.outstandingPuts_.push({action:t,request:d,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,r,l=>{this.log_(i+" response",l),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(l.s,l.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,O.Wl)(t));const i=t.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),"d"===t?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===t?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===t?this.onListenRevoked_(i.p,i.q):"ac"===t?this.onAuthRevoked_(i.s,i.d):"apc"===t?this.onAppCheckRevoked_(i.s,i.d):"sd"===t?this.onSecurityDebugPacket_(i):jA("Unrecognized action received from server: "+(0,O.Wl)(t)+"\nAre you using the latest client?")}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,O.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Z9,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Z9,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Z9),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,Se.Z)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const i=t.onDataMessage_.bind(t),r=t.onReady_.bind(t),s=t.onRealtimeDisconnect_.bind(t),l=t.id+":"+n.nextConnectionId_++,d=t.lastSessionId;let p=!1,v=null;const C=function(){v?v.close():(p=!0,s())};t.realtime_={close:C,sendRequest:function(I){(0,O.hu)(v,"sendRequest call when we're not connected not allowed."),v.sendRequest(I)}};const A=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[I,k]=yield Promise.all([t.authTokenProvider_.getToken(A),t.appCheckTokenProvider_.getToken(A)]);p?$r("getToken() completed but was canceled"):($r("getToken() completed. Creating connection."),t.authToken_=I&&I.accessToken,t.appCheckToken_=k&&k.token,v=new pP(l,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,i,r,s,j=>{Cs(j+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},d))}catch(I){t.log_("Failed to get token: "+I),p||(t.repoInfo_.nodeAdmin&&Cs(I),C())}}})()}interrupt(t){$r("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){$r("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,O.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Z9,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let r;r=i?i.map(l=>$A(l)).join("$"):"default";const s=this.removeListen_(t,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,i){const r=new qn(t).toString();let s;if(this.listens.has(r)){const l=this.listens.get(r);s=l.get(i),l.delete(i),0===l.size&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(t,i){$r("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){$r("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";(0,O.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+i+"."+UA.replace(/\./g,"-")]=1,(0,O.uI)()?t["framework.cordova"]=1:(0,O.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Gy.getInstance().currentlyOnline();return(0,O.xb)(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class xn{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new xn(e,t)}}class jy{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const i=new xn(Mc,e),r=new xn(Mc,t);return 0!==this.compare(i,r)}minPost(){return xn.MIN}}class wP extends jy{static get __EMPTY_NODE(){return $y}static set __EMPTY_NODE(e){$y=e}compare(e,t){return b0(e.name,t.name)}isDefinedOn(e){throw(0,O.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return xn.MIN}maxPost(){return new xn(ea,$y)}makePost(e,t){return(0,O.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new xn(e,$y)}toString(){return".key"}}const ta=new wP;class qy{constructor(e,t,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,r&&(l*=-1),l<0)e=this.isReverse_?e.left:e.right;else{if(0===l){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let rD,ro=(()=>{class n{constructor(t,i,r,s,l){this.key=t,this.value=i,this.color=r??n.RED,this.left=s??h2.EMPTY_NODE,this.right=l??h2.EMPTY_NODE}copy(t,i,r,s,l){return new n(t??this.key,i??this.value,r??this.color,s??this.left,l??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let s=this;const l=r(t,s.key);return s=l<0?s.copy(null,null,null,s.left.insert(t,i,r),null):0===l?s.copy(null,i,null,null,null):s.copy(null,null,null,null,s.right.insert(t,i,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return h2.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let r,s;if(r=this,i(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(t,r.key)){if(r.right.isEmpty())return h2.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class h2{constructor(e,t=h2.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new h2(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,ro.BLACK,null,null))}remove(e){return new h2(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ro.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,r=null;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}t<0?i=i.left:t>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new qy(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new qy(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new qy(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new qy(this.root_,null,this.comparator_,!0,e)}}function zse(n,e){return b0(n.name,e.name)}function iD(n,e){return b0(n,e)}h2.EMPTY_NODE=new class Hse{copy(e,t,i,r,s){return this}insert(e,t,i){return new ro(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const xP=function(n){return"number"==typeof n?"number:"+GR(n):"string:"+n},SP=function(n){if(n.isLeafNode()){const e=n.val();(0,O.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,O.r3)(e,".sv"),"Priority must be a string or number.")}else(0,O.hu)(n===rD||n.isEmpty(),"priority of unexpected type.");(0,O.hu)(n===rD||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let EP,AP,DP,Qd=(()=>{class n{constructor(t,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,(0,O.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),SP(this.priorityNode_)}static set __childrenNodeConstructor(t){EP=t}static get __childrenNodeConstructor(){return EP}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return bn(t)?this:".priority"===Mn(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return".priority"===t?this.updatePriority(i):i.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const r=Mn(t);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,O.hu)(".priority"!==r||1===A3(t),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(ui(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+xP(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",t+="number"===i?GR(this.value_):this.value_,this.lazyHash_=FR(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:((0,O.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,r=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(i),l=n.VALUE_TYPE_ORDER.indexOf(r);return(0,O.hu)(s>=0,"Unknown leaf type: "+i),(0,O.hu)(l>=0,"Unknown leaf type: "+r),s===l?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:l-s}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const i=t;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const gi=new class Pse extends jy{compare(e,t){const i=e.node.getPriority(),r=t.node.getPriority(),s=i.compareTo(r);return 0===s?b0(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return xn.MIN}maxPost(){return new xn(ea,new Qd("[PRIORITY-POST]",DP))}makePost(e,t){const i=AP(e);return new xn(t,new Qd("[PRIORITY-POST]",i))}toString(){return".priority"}},Fse=Math.log(2);class Ose{constructor(e){this.count=parseInt(Math.log(e+1)/Fse,10),this.current_=this.count-1;const r=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Wy=function(n,e,t,i){n.sort(e);const r=function(p,v){const C=v-p;let w,A;if(0===C)return null;if(1===C)return w=n[p],A=t?t(w):w,new ro(A,w.node,ro.BLACK,null,null);{const I=parseInt(C/2,10)+p,k=r(p,I),j=r(I+1,v);return w=n[I],A=t?t(w):w,new ro(A,w.node,ro.BLACK,k,j)}},d=function(p){let v=null,C=null,w=n.length;const A=function(k,j){const X=w-k,xe=w;w-=k;const ke=r(X+1,xe),qe=n[X],Ze=t?t(qe):qe;I(new ro(Ze,qe.node,j,null,ke))},I=function(k){v?(v.left=k,v=k):(C=k,v=k)};for(let k=0;k<p.count;++k){const j=p.nextBitIsOne(),X=Math.pow(2,p.count-(k+1));j?A(X,ro.BLACK):(A(X,ro.BLACK),A(X,ro.RED))}return C}(new Ose(n.length));return new h2(i||e,d)};let sD;const Xd={};class bc{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,O.hu)(Xd&&gi,"ChildrenNode.ts has not been loaded"),sD=sD||new bc({".priority":Xd},{".priority":gi}),sD}get(e){const t=(0,O.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof h2?t:null}hasIndex(e){return(0,O.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,O.hu)(e!==ta,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=t.getIterator(xn.Wrap);let d,l=s.getNext();for(;l;)r=r||e.isDefinedOn(l.node),i.push(l),l=s.getNext();d=r?Wy(i,e.getCompare()):Xd;const p=e.toString(),v=Object.assign({},this.indexSet_);v[p]=e;const C=Object.assign({},this.indexes_);return C[p]=d,new bc(C,v)}addToIndexes(e,t){const i=(0,O.UI)(this.indexes_,(r,s)=>{const l=(0,O.DV)(this.indexSet_,s);if((0,O.hu)(l,"Missing index implementation for "+s),r===Xd){if(l.isDefinedOn(e.node)){const d=[],p=t.getIterator(xn.Wrap);let v=p.getNext();for(;v;)v.name!==e.name&&d.push(v),v=p.getNext();return d.push(e),Wy(d,l.getCompare())}return Xd}{const d=t.get(e.name);let p=r;return d&&(p=p.remove(new xn(e.name,d))),p.insert(e,e.node)}});return new bc(i,this.indexSet_)}removeFromIndexes(e,t){const i=(0,O.UI)(this.indexes_,r=>{if(r===Xd)return r;{const s=t.get(e.name);return s?r.remove(new xn(e.name,s)):r}});return new bc(i,this.indexSet_)}}let Q9,ln=(()=>{class n{constructor(t,i,r){this.children_=t,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&SP(this.priorityNode_),this.children_.isEmpty()&&(0,O.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Q9||(Q9=new n(new h2(iD),null,bc.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Q9}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const i=this.children_.get(t);return null===i?Q9:i}}getChild(t){const i=Mn(t);return null===i?this:this.getImmediateChild(i).getChild(ui(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,i){if((0,O.hu)(i,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(i);{const r=new xn(t,i);let s,l;i.isEmpty()?(s=this.children_.remove(t),l=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(t,i),l=this.indexMap_.addToIndexes(r,this.children_));const d=s.isEmpty()?Q9:this.priorityNode_;return new n(s,d,l)}}updateChild(t,i){const r=Mn(t);if(null===r)return i;{(0,O.hu)(".priority"!==Mn(t)||1===A3(t),".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(ui(t),i);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let r=0,s=0,l=!0;if(this.forEachChild(gi,(d,p)=>{i[d]=p.val(t),r++,l&&n.INTEGER_REGEXP_.test(d)?s=Math.max(s,Number(d)):l=!1}),!t&&l&&s<2*r){const d=[];for(const p in i)d[p]=i[p];return d}return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+xP(this.getPriority().val())+":"),this.forEachChild(gi,(i,r)=>{const s=r.hash();""!==s&&(t+=":"+i+":"+s)}),this.lazyHash_=""===t?"":FR(t)}return this.lazyHash_}getPredecessorChildName(t,i,r){const s=this.resolveIndex_(r);if(s){const l=s.getPredecessorKey(new xn(t,i));return l?l.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new xn(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new xn(i,this.children_.get(i)):null}forEachChild(t,i){const r=this.resolveIndex_(t);return r?r.inorderTraversal(s=>i(s.name,s.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(t,s=>s);{const s=this.children_.getIteratorFrom(t.name,xn.Wrap);let l=s.peek();for(;null!=l&&i.compare(l,t)<0;)s.getNext(),l=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(t,s=>s);{const s=this.children_.getReverseIteratorFrom(t.name,xn.Wrap);let l=s.peek();for(;null!=l&&i.compare(l,t)>0;)s.getNext(),l=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===X9?-1:0}withIndex(t){if(t===ta||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===ta||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(gi),s=i.getIterator(gi);let l=r.getNext(),d=s.getNext();for(;l&&d;){if(l.name!==d.name||!l.node.equals(d.node))return!1;l=r.getNext(),d=s.getNext()}return null===l&&null===d}return!1}return!1}}resolveIndex_(t){return t===ta?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const X9=new class Bse extends ln{constructor(){super(new h2(iD),ln.EMPTY_NODE,bc.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ln.EMPTY_NODE}isEmpty(){return!1}};function Ui(n,e=null){if(null===n)return ln.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),(0,O.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Qd(n,Ui(e));if(n instanceof Array){let t=ln.EMPTY_NODE;return qr(n,(i,r)=>{if((0,O.r3)(n,i)&&"."!==i.substring(0,1)){const s=Ui(r);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(i,s))}}),t.updatePriority(Ui(e))}{const t=[];let i=!1;if(qr(n,(l,d)=>{if("."!==l.substring(0,1)){const p=Ui(d);p.isEmpty()||(i=i||!p.getPriority().isEmpty(),t.push(new xn(l,p)))}}),0===t.length)return ln.EMPTY_NODE;const s=Wy(t,zse,l=>l.name,iD);if(i){const l=Wy(t,gi.getCompare());return new ln(s,Ui(e),new bc({".priority":l},{".priority":gi}))}return new ln(s,Ui(e),bc.Default)}}Object.defineProperties(xn,{MIN:{value:new xn(Mc,ln.EMPTY_NODE)},MAX:{value:new xn(ea,X9)}}),wP.__EMPTY_NODE=ln.EMPTY_NODE,Qd.__childrenNodeConstructor=ln,function kse(n){rD=n}(X9),function Rse(n){DP=n}(X9),function Nse(n){AP=n}(Ui);class oD extends jy{constructor(e){super(),this.indexPath_=e,(0,O.hu)(!bn(e)&&".priority"!==Mn(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const i=this.extractChild(e.node),r=this.extractChild(t.node),s=i.compareTo(r);return 0===s?b0(e.name,t.name):s}makePost(e,t){const i=Ui(e),r=ln.EMPTY_NODE.updateChild(this.indexPath_,i);return new xn(t,r)}maxPost(){const e=ln.EMPTY_NODE.updateChild(this.indexPath_,X9);return new xn(ea,e)}toString(){return K9(this.indexPath_,0).join("/")}}const aD=new class Gse extends jy{compare(e,t){const i=e.node.compareTo(t.node);return 0===i?b0(e.name,t.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return xn.MIN}maxPost(){return xn.MAX}makePost(e,t){const i=Ui(e);return new xn(t,i)}toString(){return".value"}},Jd="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",jse=function(){let n=0;const e=[];return function(t){const i=t===n;let r;n=t;const s=new Array(8);for(r=7;r>=0;r--)s[r]=Jd.charAt(t%64),t=Math.floor(t/64);(0,O.hu)(0===t,"Cannot push at time == 0");let l=s.join("");if(i){for(r=11;r>=0&&63===e[r];r--)e[r]=0;e[r]++}else for(r=0;r<12;r++)e[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)l+=Jd.charAt(e[r]);return(0,O.hu)(20===l.length,"nextPushId: Length should be 20."),l}}(),TP=function(n){if(n===""+qA)return"-";const e=Oy(n);if(null!=e)return""+(e+1);const t=new Array(n.length);for(let l=0;l<t.length;l++)t[l]=n.charAt(l);if(t.length<786)return t.push("-"),t.join("");let i=t.length-1;for(;i>=0&&"z"===t[i];)i--;if(-1===i)return ea;const s=Jd.charAt(Jd.indexOf(t[i])+1);return t[i]=s,t.slice(0,i+1).join("")},VP=function(n){if(n===""+jR)return Mc;const e=Oy(n);if(null!=e)return""+(e-1);const t=new Array(n.length);for(let i=0;i<t.length;i++)t[i]=n.charAt(i);return"-"===t[t.length-1]?1===t.length?""+qA:(delete t[t.length-1],t.join("")):(t[t.length-1]=Jd.charAt(Jd.indexOf(t[t.length-1])-1),t.join("")+"z".repeat(786-t.length))};function HP(n){return{type:"value",snapshotNode:n}}function ef(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function J9(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function ep(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class lD{constructor(e){this.index_=e}updateChild(e,t,i,r,s,l){(0,O.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const d=e.getImmediateChild(t);return d.getChild(r).equals(i.getChild(r))&&d.isEmpty()===i.isEmpty()||(null!=l&&(i.isEmpty()?e.hasChild(t)?l.trackChildChange(J9(t,d)):(0,O.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):d.isEmpty()?l.trackChildChange(ef(t,i)):l.trackChildChange(ep(t,i,d))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(t,i).withIndex(this.index_)}updateFullNode(e,t,i){return null!=i&&(e.isLeafNode()||e.forEachChild(gi,(r,s)=>{t.hasChild(r)||i.trackChildChange(J9(r,s))}),t.isLeafNode()||t.forEachChild(gi,(r,s)=>{if(e.hasChild(r)){const l=e.getImmediateChild(r);l.equals(s)||i.trackChildChange(ep(r,s,l))}else i.trackChildChange(ef(r,s))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?ln.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class tp{constructor(e){this.indexedFilter_=new lD(e.getIndex()),this.index_=e.getIndex(),this.startPost_=tp.getStartPost_(e),this.endPost_=tp.getEndPost_(e)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0}updateChild(e,t,i,r,s,l){return this.matches(new xn(t,i))||(i=ln.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,i,r,s,l)}updateFullNode(e,t,i){t.isLeafNode()&&(t=ln.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(ln.EMPTY_NODE);const s=this;return t.forEachChild(gi,(l,d)=>{s.matches(new xn(l,d))||(r=r.updateImmediateChild(l,ln.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class qse{constructor(e){this.rangedFilter_=new tp(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}updateChild(e,t,i,r,s,l){return this.rangedFilter_.matches(new xn(t,i))||(i=ln.EMPTY_NODE),e.getImmediateChild(t).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,i,r,s,l):this.fullLimitUpdateChild_(e,t,i,s,l)}updateFullNode(e,t,i){let r;if(t.isLeafNode()||t.isEmpty())r=ln.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let s;r=ln.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let l=0;for(;s.hasNext()&&l<this.limit_;){const d=s.getNext();let p;if(p=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),d)<=0:this.index_.compare(d,this.rangedFilter_.getEndPost())<=0,!p)break;r=r.updateImmediateChild(d.name,d.node),l++}}else{let s,l,d,p;if(r=t.withIndex(this.index_),r=r.updatePriority(ln.EMPTY_NODE),this.reverse_){p=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),l=this.rangedFilter_.getStartPost();const w=this.index_.getCompare();d=(A,I)=>w(I,A)}else p=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),l=this.rangedFilter_.getEndPost(),d=this.index_.getCompare();let v=0,C=!1;for(;p.hasNext();){const w=p.getNext();!C&&d(s,w)<=0&&(C=!0),C&&v<this.limit_&&d(w,l)<=0?v++:r=r.updateImmediateChild(w.name,ln.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,i,r,s){let l;if(this.reverse_){const w=this.index_.getCompare();l=(A,I)=>w(I,A)}else l=this.index_.getCompare();const d=e;(0,O.hu)(d.numChildren()===this.limit_,"");const p=new xn(t,i),v=this.reverse_?d.getFirstChild(this.index_):d.getLastChild(this.index_),C=this.rangedFilter_.matches(p);if(d.hasChild(t)){const w=d.getImmediateChild(t);let A=r.getChildAfterChild(this.index_,v,this.reverse_);for(;null!=A&&(A.name===t||d.hasChild(A.name));)A=r.getChildAfterChild(this.index_,A,this.reverse_);const I=null==A?1:l(A,p);if(C&&!i.isEmpty()&&I>=0)return s?.trackChildChange(ep(t,i,w)),d.updateImmediateChild(t,i);{s?.trackChildChange(J9(t,w));const j=d.updateImmediateChild(t,ln.EMPTY_NODE);return null!=A&&this.rangedFilter_.matches(A)?(s?.trackChildChange(ef(A.name,A.node)),j.updateImmediateChild(A.name,A.node)):j}}return i.isEmpty()?e:C&&l(v,p)>=0?(null!=s&&(s.trackChildChange(J9(v.name,v.node)),s.trackChildChange(ef(t,i))),d.updateImmediateChild(t,i).updateImmediateChild(v.name,ln.EMPTY_NODE)):e}}class Yy{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=gi}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,O.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,O.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Mc}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,O.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,O.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ea}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,O.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===gi}copy(){const e=new Yy;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function uD(n,e,t){const i=n.copy();return i.startSet_=!0,void 0===e&&(e=null),i.indexStartValue_=e,null!=t?(i.startNameSet_=!0,i.indexStartName_=t):(i.startNameSet_=!1,i.indexStartName_=""),i}function dD(n,e,t){const i=n.copy();return i.endSet_=!0,void 0===e&&(e=null),i.indexEndValue_=e,void 0!==t?(i.endNameSet_=!0,i.indexEndName_=t):(i.endNameSet_=!1,i.indexEndName_=""),i}function Ky(n,e){const t=n.copy();return t.index_=e,t}function zP(n){const e={};if(n.isDefault())return e;let t;return n.index_===gi?t="$priority":n.index_===aD?t="$value":n.index_===ta?t="$key":((0,O.hu)(n.index_ instanceof oD,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=(0,O.Wl)(t),n.startSet_&&(e.startAt=(0,O.Wl)(n.indexStartValue_),n.startNameSet_&&(e.startAt+=","+(0,O.Wl)(n.indexStartName_))),n.endSet_&&(e.endAt=(0,O.Wl)(n.indexEndValue_),n.endNameSet_&&(e.endAt+=","+(0,O.Wl)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function kP(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_)),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_)),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==gi&&(e.i=n.index_.toString()),e}class Zy extends mP{constructor(e,t,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=$9("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,O.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,i,r){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const l=Zy.getListenId_(e,i),d={};this.listens_[l]=d;const p=zP(e._queryParams);this.restRequest_(s+".json",p,(v,C)=>{let w=C;if(404===v&&(w=null,v=null),null===v&&this.onDataUpdate_(s,w,!1,i),(0,O.DV)(this.listens_,l)===d){let A;A=v?401===v?"permission_denied":"rest_error:"+v:"ok",r(A,null)}})}unlisten(e,t){const i=Zy.getListenId_(e,t);delete this.listens_[i]}get(e){const t=zP(e._queryParams),i=e._path.toString(),r=new O.BH;return this.restRequest_(i+".json",t,(s,l)=>{let d=l;404===s&&(d=null,s=null),null===s?(this.onDataUpdate_(i,d,!1,null),r.resolve(d)):r.reject(new Error(d))}),r.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(t.auth=r.accessToken),s&&s.token&&(t.ac=s.token);const l=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,O.xO)(t);this.log_("Sending REST request for "+l);const d=new XMLHttpRequest;d.onreadystatechange=()=>{if(i&&4===d.readyState){this.log_("REST Response for "+l+" received. status:",d.status,"response:",d.responseText);let p=null;if(d.status>=200&&d.status<300){try{p=(0,O.cI)(d.responseText)}catch{Cs("Failed to parse JSON response for "+l+": "+d.responseText)}i(null,p)}else 401!==d.status&&404!==d.status&&Cs("Got unsuccessful REST response for "+l+" Status: "+d.status),i(d.status);i=null}},d.open("GET",l,!0),d.send()})}}class Xse{constructor(){this.rootNode_=ln.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function Qy(){return{value:null,children:new Map}}function tf(n,e,t){if(bn(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const i=Mn(e);n.children.has(i)||n.children.set(i,Qy()),tf(n.children.get(i),e=ui(e),t)}}function fD(n,e){if(bn(e))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const t=n.value;return n.value=null,t.forEachChild(gi,(i,r)=>{tf(n,new qn(i),r)}),fD(n,e)}}if(n.children.size>0){const t=Mn(e);return e=ui(e),n.children.has(t)&&fD(n.children.get(t),e)&&n.children.delete(t),0===n.children.size}return!0}function hD(n,e,t){null!==n.value?t(e,n.value):function Jse(n,e){n.children.forEach((t,i)=>{e(i,t)})}(n,(i,r)=>{hD(r,new qn(e.toString()+"/"+i),t)})}class e2e{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&qr(this.last_,(i,r)=>{t[i]=t[i]-r}),this.last_=e,t}}class i2e{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new e2e(e);const i=1e4+2e4*Math.random();W9(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),t={};let i=!1;qr(e,(r,s)=>{s>0&&(0,O.r3)(this.statsToReport_,r)&&(t[r]=s,i=!0)}),i&&this.server_.reportStats(t),W9(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var v1=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(v1||(v1={})),v1))();function gD(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class Xy{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=v1.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(bn(this.path)){if(null!=this.affectedTree.value)return(0,O.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new qn(e));return new Xy(Fn(),t,this.revert)}}return(0,O.hu)(Mn(this.path)===e,"operationForChild called for unrelated child."),new Xy(ui(this.path),this.affectedTree,this.revert)}}class np{constructor(e,t){this.source=e,this.path=t,this.type=v1.LISTEN_COMPLETE}operationForChild(e){return bn(this.path)?new np(this.source,Fn()):new np(this.source,ui(this.path))}}class S0{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=v1.OVERWRITE}operationForChild(e){return bn(this.path)?new S0(this.source,Fn(),this.snap.getImmediateChild(e)):new S0(this.source,ui(this.path),this.snap)}}class nf{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=v1.MERGE}operationForChild(e){if(bn(this.path)){const t=this.children.subtree(new qn(e));return t.isEmpty()?null:t.value?new S0(this.source,Fn(),t.value):new nf(this.source,Fn(),t)}return(0,O.hu)(Mn(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new nf(this.source,ui(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class D3{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(bn(e))return this.isFullyInitialized()&&!this.filtered_;const t=Mn(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class r2e{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function ip(n,e,t,i,r,s){const l=i.filter(d=>d.type===t);l.sort((d,p)=>function a2e(n,e,t){if(null==e.childName||null==t.childName)throw(0,O.g5)("Should only compare child_ events.");const i=new xn(e.childName,e.snapshotNode),r=new xn(t.childName,t.snapshotNode);return n.index_.compare(i,r)}(n,d,p)),l.forEach(d=>{const p=function o2e(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,d,s);r.forEach(v=>{v.respondsTo(d.type)&&e.push(v.createEvent(p,n.query_))})})}function Jy(n,e){return{eventCache:n,serverCache:e}}function rp(n,e,t,i){return Jy(new D3(e,t,i),n.serverCache)}function RP(n,e,t,i){return Jy(n.eventCache,new D3(e,t,i))}function eC(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function E0(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let vD;class vi{constructor(e,t=(()=>(vD||(vD=new h2(qre)),vD))()){this.value=e,this.children=t}static fromObject(e){let t=new vi(null);return qr(e,(i,r)=>{t=t.set(new qn(i),r)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:Fn(),value:this.value};if(bn(e))return null;{const i=Mn(e),r=this.children.get(i);if(null!==r){const s=r.findRootMostMatchingPathAndValue(ui(e),t);return null!=s?{path:zi(new qn(i),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(bn(e))return this;{const t=Mn(e),i=this.children.get(t);return null!==i?i.subtree(ui(e)):new vi(null)}}set(e,t){if(bn(e))return new vi(t,this.children);{const i=Mn(e),s=(this.children.get(i)||new vi(null)).set(ui(e),t),l=this.children.insert(i,s);return new vi(this.value,l)}}remove(e){if(bn(e))return this.children.isEmpty()?new vi(null):new vi(null,this.children);{const t=Mn(e),i=this.children.get(t);if(i){const r=i.remove(ui(e));let s;return s=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&s.isEmpty()?new vi(null):new vi(this.value,s)}return this}}get(e){if(bn(e))return this.value;{const t=Mn(e),i=this.children.get(t);return i?i.get(ui(e)):null}}setTree(e,t){if(bn(e))return t;{const i=Mn(e),s=(this.children.get(i)||new vi(null)).setTree(ui(e),t);let l;return l=s.isEmpty()?this.children.remove(i):this.children.insert(i,s),new vi(this.value,l)}}fold(e){return this.fold_(Fn(),e)}fold_(e,t){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(zi(e,r),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,Fn(),t)}findOnPath_(e,t,i){const r=!!this.value&&i(t,this.value);if(r)return r;if(bn(e))return null;{const s=Mn(e),l=this.children.get(s);return l?l.findOnPath_(ui(e),zi(t,s),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Fn(),t)}foreachOnPath_(e,t,i){if(bn(e))return this;{this.value&&i(t,this.value);const r=Mn(e),s=this.children.get(r);return s?s.foreachOnPath_(ui(e),zi(t,r),i):new vi(null)}}foreach(e){this.foreach_(Fn(),e)}foreach_(e,t){this.children.inorderTraversal((i,r)=>{r.foreach_(zi(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}}class so{constructor(e){this.writeTree_=e}static empty(){return new so(new vi(null))}}function sp(n,e,t){if(bn(e))return new so(new vi(t));{const i=n.writeTree_.findRootMostValueAndPath(e);if(null!=i){const r=i.path;let s=i.value;const l=Us(r,e);return s=s.updateChild(l,t),new so(n.writeTree_.set(r,s))}{const r=new vi(t),s=n.writeTree_.setTree(e,r);return new so(s)}}}function _D(n,e,t){let i=n;return qr(t,(r,s)=>{i=sp(i,zi(e,r),s)}),i}function PP(n,e){if(bn(e))return so.empty();{const t=n.writeTree_.setTree(e,new vi(null));return new so(t)}}function yD(n,e){return null!=A0(n,e)}function A0(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(Us(t.path,e)):null}function FP(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(gi,(i,r)=>{e.push(new xn(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&e.push(new xn(i,r.value))}),e}function L3(n,e){if(bn(e))return n;{const t=A0(n,e);return new so(null!=t?new vi(t):n.writeTree_.subtree(e))}}function CD(n){return n.writeTree_.isEmpty()}function rf(n,e){return OP(Fn(),n.writeTree_,e)}function OP(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let i=null;return e.children.inorderTraversal((r,s)=>{".priority"===r?((0,O.hu)(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):t=OP(zi(n,r),s,t)}),!t.getChild(n).isEmpty()&&null!==i&&(t=t.updateChild(zi(n,".priority"),i)),t}}function tC(n,e){return $P(e,n)}function h2e(n,e){if(n.snap)return g1(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&g1(zi(n.path,t),e))return!0;return!1}function m2e(n){return n.visible}function BP(n,e,t){let i=so.empty();for(let r=0;r<n.length;++r){const s=n[r];if(e(s)){const l=s.path;let d;if(s.snap)g1(t,l)?(d=Us(t,l),i=sp(i,d,s.snap)):g1(l,t)&&(d=Us(l,t),i=sp(i,Fn(),s.snap.getChild(d)));else{if(!s.children)throw(0,O.g5)("WriteRecord should have .snap or .children");if(g1(t,l))d=Us(t,l),i=_D(i,d,s.children);else if(g1(l,t))if(d=Us(l,t),bn(d))i=_D(i,Fn(),s.children);else{const p=(0,O.DV)(s.children,Mn(d));if(p){const v=p.getChild(ui(d));i=sp(i,Fn(),v)}}}}}return i}function UP(n,e,t,i,r){if(i||r){const s=L3(n.visibleWrites,e);return!r&&CD(s)?t:r||null!=t||yD(s,Fn())?rf(BP(n.allWrites,function(v){return(v.visible||r)&&(!i||!~i.indexOf(v.writeId))&&(g1(v.path,e)||g1(e,v.path))},e),t||ln.EMPTY_NODE):null}{const s=A0(n.visibleWrites,e);if(null!=s)return s;{const l=L3(n.visibleWrites,e);return CD(l)?t:null!=t||yD(l,Fn())?rf(l,t||ln.EMPTY_NODE):null}}}function nC(n,e,t,i){return UP(n.writeTree,n.treePath,e,t,i)}function MD(n,e){return function g2e(n,e,t){let i=ln.EMPTY_NODE;const r=A0(n.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(gi,(s,l)=>{i=i.updateImmediateChild(s,l)}),i;if(t){const s=L3(n.visibleWrites,e);return t.forEachChild(gi,(l,d)=>{const p=rf(L3(s,new qn(l)),d);i=i.updateImmediateChild(l,p)}),FP(s).forEach(l=>{i=i.updateImmediateChild(l.name,l.node)}),i}return FP(L3(n.visibleWrites,e)).forEach(l=>{i=i.updateImmediateChild(l.name,l.node)}),i}(n.writeTree,n.treePath,e)}function GP(n,e,t,i){return function v2e(n,e,t,i,r){(0,O.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=zi(e,t);if(yD(n.visibleWrites,s))return null;{const l=L3(n.visibleWrites,s);return CD(l)?r.getChild(t):rf(l,r.getChild(t))}}(n.writeTree,n.treePath,e,t,i)}function iC(n,e){return function y2e(n,e){return A0(n.visibleWrites,e)}(n.writeTree,zi(n.treePath,e))}function bD(n,e,t){return function _2e(n,e,t,i){const r=zi(e,t),s=A0(n.visibleWrites,r);return null!=s?s:i.isCompleteForChild(t)?rf(L3(n.visibleWrites,r),i.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function jP(n,e){return $P(zi(n.treePath,e),n.writeTree)}function $P(n,e){return{treePath:n,writeTree:e}}class w2e{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,i=e.childName;(0,O.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,O.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if("child_added"===t&&"child_removed"===s)this.changeMap.set(i,ep(i,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===s)this.changeMap.delete(i);else if("child_removed"===t&&"child_changed"===s)this.changeMap.set(i,J9(i,r.oldSnap));else if("child_changed"===t&&"child_added"===s)this.changeMap.set(i,ef(i,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==s)throw(0,O.g5)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(i,ep(i,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}const qP=new class x2e{getCompleteChild(e){return null}getChildAfterChild(e,t,i){return null}};class wD{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const i=null!=this.optCompleteServerCache_?new D3(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return bD(this.writes_,e,i)}}getChildAfterChild(e,t,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:E0(this.viewCache_),s=function b2e(n,e,t,i,r,s){return function C2e(n,e,t,i,r,s,l){let d;const p=L3(n.visibleWrites,e),v=A0(p,Fn());if(null!=v)d=v;else{if(null==t)return[];d=rf(p,t)}if(d=d.withIndex(l),d.isEmpty()||d.isLeafNode())return[];{const C=[],w=l.getCompare(),A=s?d.getReverseIteratorFrom(i,l):d.getIteratorFrom(i,l);let I=A.getNext();for(;I&&C.length<r;)0!==w(I,i)&&C.push(I),I=A.getNext();return C}}(n.writeTree,n.treePath,e,t,i,r,s)}(this.writes_,r,t,1,i,e);return 0===s.length?null:s[0]}}function WP(n,e,t,i,r,s){const l=e.eventCache;if(null!=iC(i,t))return e;{let d,p;if(bn(t))if((0,O.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const v=E0(e),w=MD(i,v instanceof ln?v:ln.EMPTY_NODE);d=n.filter.updateFullNode(e.eventCache.getNode(),w,s)}else{const v=nC(i,E0(e));d=n.filter.updateFullNode(e.eventCache.getNode(),v,s)}else{const v=Mn(t);if(".priority"===v){(0,O.hu)(1===A3(t),"Can't have a priority with additional path components");const C=l.getNode();p=e.serverCache.getNode();const w=GP(i,t,C,p);d=null!=w?n.filter.updatePriority(C,w):l.getNode()}else{const C=ui(t);let w;if(l.isCompleteForChild(v)){p=e.serverCache.getNode();const A=GP(i,t,l.getNode(),p);w=null!=A?l.getNode().getImmediateChild(v).updateChild(C,A):l.getNode().getImmediateChild(v)}else w=bD(i,v,e.serverCache);d=null!=w?n.filter.updateChild(l.getNode(),v,w,C,r,s):l.getNode()}}return rp(e,d,l.isFullyInitialized()||bn(t),n.filter.filtersNodes())}}function rC(n,e,t,i,r,s,l,d){const p=e.serverCache;let v;const C=l?n.filter:n.filter.getIndexedFilter();if(bn(t))v=C.updateFullNode(p.getNode(),i,null);else if(C.filtersNodes()&&!p.isFiltered()){const I=p.getNode().updateChild(t,i);v=C.updateFullNode(p.getNode(),I,null)}else{const I=Mn(t);if(!p.isCompleteForPath(t)&&A3(t)>1)return e;const k=ui(t),X=p.getNode().getImmediateChild(I).updateChild(k,i);v=".priority"===I?C.updatePriority(p.getNode(),X):C.updateChild(p.getNode(),I,X,k,qP,null)}const w=RP(e,v,p.isFullyInitialized()||bn(t),C.filtersNodes());return WP(n,w,t,r,new wD(r,w,s),d)}function xD(n,e,t,i,r,s,l){const d=e.eventCache;let p,v;const C=new wD(r,e,s);if(bn(t))v=n.filter.updateFullNode(e.eventCache.getNode(),i,l),p=rp(e,v,!0,n.filter.filtersNodes());else{const w=Mn(t);if(".priority"===w)v=n.filter.updatePriority(e.eventCache.getNode(),i),p=rp(e,v,d.isFullyInitialized(),d.isFiltered());else{const A=ui(t),I=d.getNode().getImmediateChild(w);let k;if(bn(A))k=i;else{const j=C.getCompleteChild(w);k=null!=j?".priority"===eD(A)&&j.getChild(yP(A)).isEmpty()?j:j.updateChild(A,i):ln.EMPTY_NODE}p=I.equals(k)?e:rp(e,n.filter.updateChild(d.getNode(),w,k,A,C,l),d.isFullyInitialized(),n.filter.filtersNodes())}}return p}function YP(n,e){return n.eventCache.isCompleteForChild(e)}function KP(n,e,t){return t.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function SD(n,e,t,i,r,s,l,d){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let v,p=e;v=bn(t)?i:new vi(null).setTree(t,i);const C=e.serverCache.getNode();return v.children.inorderTraversal((w,A)=>{if(C.hasChild(w)){const k=KP(0,e.serverCache.getNode().getImmediateChild(w),A);p=rC(n,p,new qn(w),k,r,s,l,d)}}),v.children.inorderTraversal((w,A)=>{const I=!e.serverCache.isCompleteForChild(w)&&null===A.value;if(!C.hasChild(w)&&!I){const j=KP(0,e.serverCache.getNode().getImmediateChild(w),A);p=rC(n,p,new qn(w),j,r,s,l,d)}}),p}class H2e{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new lD(i.getIndex()),s=function Wse(n){return n.loadsAllData()?new lD(n.getIndex()):n.hasLimit()?new qse(n):new tp(n)}(i);this.processor_=function S2e(n){return{filter:n}}(s);const l=t.serverCache,d=t.eventCache,p=r.updateFullNode(ln.EMPTY_NODE,l.getNode(),null),v=s.updateFullNode(ln.EMPTY_NODE,d.getNode(),null),C=new D3(p,l.isFullyInitialized(),r.filtersNodes()),w=new D3(v,d.isFullyInitialized(),s.filtersNodes());this.viewCache_=Jy(w,C),this.eventGenerator_=new r2e(this.query_)}get query(){return this.query_}}function N2e(n,e){const t=E0(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!bn(e)&&!t.getImmediateChild(Mn(e)).isEmpty())?t.getChild(e):null}function ZP(n){return 0===n.eventRegistrations_.length}function QP(n,e,t){const i=[];if(t){(0,O.hu)(null==e,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(s=>{const l=s.createCancelEvent(t,r);l&&i.push(l)})}if(e){let r=[];for(let s=0;s<n.eventRegistrations_.length;++s){const l=n.eventRegistrations_[s];if(l.matches(e)){if(e.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(s+1));break}}else r.push(l)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function XP(n,e,t,i){e.type===v1.MERGE&&null!==e.source.queryId&&((0,O.hu)(E0(n.viewCache_),"We should always have a full cache before handling merges"),(0,O.hu)(eC(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,s=function A2e(n,e,t,i,r){const s=new w2e;let l,d;if(t.type===v1.OVERWRITE){const v=t;v.source.fromUser?l=xD(n,e,v.path,v.snap,i,r,s):((0,O.hu)(v.source.fromServer,"Unknown source."),d=v.source.tagged||e.serverCache.isFiltered()&&!bn(v.path),l=rC(n,e,v.path,v.snap,i,r,d,s))}else if(t.type===v1.MERGE){const v=t;v.source.fromUser?l=function L2e(n,e,t,i,r,s,l){let d=e;return i.foreach((p,v)=>{const C=zi(t,p);YP(e,Mn(C))&&(d=xD(n,d,C,v,r,s,l))}),i.foreach((p,v)=>{const C=zi(t,p);YP(e,Mn(C))||(d=xD(n,d,C,v,r,s,l))}),d}(n,e,v.path,v.children,i,r,s):((0,O.hu)(v.source.fromServer,"Unknown source."),d=v.source.tagged||e.serverCache.isFiltered(),l=SD(n,e,v.path,v.children,i,r,d,s))}else if(t.type===v1.ACK_USER_WRITE){const v=t;l=v.revert?function V2e(n,e,t,i,r,s){let l;if(null!=iC(i,t))return e;{const d=new wD(i,e,r),p=e.eventCache.getNode();let v;if(bn(t)||".priority"===Mn(t)){let C;if(e.serverCache.isFullyInitialized())C=nC(i,E0(e));else{const w=e.serverCache.getNode();(0,O.hu)(w instanceof ln,"serverChildren would be complete if leaf node"),C=MD(i,w)}v=n.filter.updateFullNode(p,C,s)}else{const C=Mn(t);let w=bD(i,C,e.serverCache);null==w&&e.serverCache.isCompleteForChild(C)&&(w=p.getImmediateChild(C)),v=null!=w?n.filter.updateChild(p,C,w,ui(t),d,s):e.eventCache.getNode().hasChild(C)?n.filter.updateChild(p,C,ln.EMPTY_NODE,ui(t),d,s):p,v.isEmpty()&&e.serverCache.isFullyInitialized()&&(l=nC(i,E0(e)),l.isLeafNode()&&(v=n.filter.updateFullNode(v,l,s)))}return l=e.serverCache.isFullyInitialized()||null!=iC(i,Fn()),rp(e,v,l,n.filter.filtersNodes())}}(n,e,v.path,i,r,s):function I2e(n,e,t,i,r,s,l){if(null!=iC(r,t))return e;const d=e.serverCache.isFiltered(),p=e.serverCache;if(null!=i.value){if(bn(t)&&p.isFullyInitialized()||p.isCompleteForPath(t))return rC(n,e,t,p.getNode().getChild(t),r,s,d,l);if(bn(t)){let v=new vi(null);return p.getNode().forEachChild(ta,(C,w)=>{v=v.set(new qn(C),w)}),SD(n,e,t,v,r,s,d,l)}return e}{let v=new vi(null);return i.foreach((C,w)=>{const A=zi(t,C);p.isCompleteForPath(A)&&(v=v.set(C,p.getNode().getChild(A)))}),SD(n,e,t,v,r,s,d,l)}}(n,e,v.path,v.affectedTree,i,r,s)}else{if(t.type!==v1.LISTEN_COMPLETE)throw(0,O.g5)("Unknown operation type: "+t.type);l=function T2e(n,e,t,i,r){const s=e.serverCache;return WP(n,RP(e,s.getNode(),s.isFullyInitialized()||bn(t),s.isFiltered()),t,i,qP,r)}(n,e,t.path,i,s)}const p=s.getChanges();return function D2e(n,e,t){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=eC(n);(t.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&t.push(HP(eC(e)))}}(e,l,p),{viewCache:l,changes:p}}(n.processor_,r,e,t,i);return function E2e(n,e){(0,O.hu)(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,O.hu)(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),(0,O.hu)(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,JP(n,s.changes,s.viewCache.eventCache.getNode(),null)}function JP(n,e,t,i){return function s2e(n,e,t,i){const r=[],s=[];return e.forEach(l=>{"child_changed"===l.type&&n.index_.indexedValueChanged(l.oldSnap,l.snapshotNode)&&s.push(function $se(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(l.childName,l.snapshotNode))}),ip(n,r,"child_removed",e,i,t),ip(n,r,"child_added",e,i,t),ip(n,r,"child_moved",s,i,t),ip(n,r,"child_changed",e,i,t),ip(n,r,"value",e,i,t),r}(n.eventGenerator_,e,t,i?[i]:n.eventRegistrations_)}let sC,aC;class eF{constructor(){this.views=new Map}}function ED(n,e,t,i){const r=e.source.queryId;if(null!==r){const s=n.views.get(r);return(0,O.hu)(null!=s,"SyncTree gave us an op for an invalid query."),XP(s,e,t,i)}{let s=[];for(const l of n.views.values())s=s.concat(XP(l,e,t,i));return s}}function tF(n,e,t,i,r){const l=n.views.get(e._queryIdentifier);if(!l){let d=nC(t,r?i:null),p=!1;d?p=!0:i instanceof ln?(d=MD(t,i),p=!1):(d=ln.EMPTY_NODE,p=!1);const v=Jy(new D3(d,p,!1),new D3(i,r,!1));return new H2e(e,v)}return l}function nF(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function I3(n,e){let t=null;for(const i of n.views.values())t=t||N2e(i,e);return t}function iF(n,e){return e._queryParams.loadsAllData()?oC(n):n.views.get(e._queryIdentifier)}function rF(n,e){return null!=iF(n,e)}function T3(n){return null!=oC(n)}function oC(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let q2e=1;class sF{constructor(e){this.listenProvider_=e,this.syncPointTree_=new vi(null),this.pendingWriteTree_=function M2e(){return{visibleWrites:so.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function AD(n,e,t,i,r){return function l2e(n,e,t,i,r){(0,O.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:e,snap:t,writeId:i,visible:r}),r&&(n.visibleWrites=sp(n.visibleWrites,e,t)),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i,r),r?sf(n,new S0({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function V3(n,e,t=!1){const i=function d2e(n,e){for(let t=0;t<n.allWrites.length;t++){const i=n.allWrites[t];if(i.writeId===e)return i}return null}(n.pendingWriteTree_,e);if(function f2e(n,e){const t=n.allWrites.findIndex(d=>d.writeId===e);(0,O.hu)(t>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[t];n.allWrites.splice(t,1);let r=i.visible,s=!1,l=n.allWrites.length-1;for(;r&&l>=0;){const d=n.allWrites[l];d.visible&&(l>=t&&h2e(d,i.path)?r=!1:g1(i.path,d.path)&&(s=!0)),l--}return!!r&&(s?(function p2e(n){n.visibleWrites=BP(n.allWrites,m2e,Fn()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=PP(n.visibleWrites,i.path):qr(i.children,p=>{n.visibleWrites=PP(n.visibleWrites,zi(i.path,p))}),!0))}(n.pendingWriteTree_,e)){let s=new vi(null);return null!=i.snap?s=s.set(Fn(),!0):qr(i.children,l=>{s=s.set(new qn(l),!0)}),sf(n,new Xy(i.path,s,t))}return[]}function op(n,e,t){return sf(n,new S0({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function cC(n,e,t,i,r=!1){const s=e._path,l=n.syncPointTree_.get(s);let d=[];if(l&&("default"===e._queryIdentifier||rF(l,e))){const p=function G2e(n,e,t,i){const r=e._queryIdentifier,s=[];let l=[];const d=T3(n);if("default"===r)for(const[p,v]of n.views.entries())l=l.concat(QP(v,t,i)),ZP(v)&&(n.views.delete(p),v.query._queryParams.loadsAllData()||s.push(v.query));else{const p=n.views.get(r);p&&(l=l.concat(QP(p,t,i)),ZP(p)&&(n.views.delete(r),p.query._queryParams.loadsAllData()||s.push(p.query)))}return d&&!T3(n)&&s.push(new(function O2e(){return(0,O.hu)(sC,"Reference.ts has not been loaded"),sC}())(e._repo,e._path)),{removed:s,events:l}}(l,e,t,i);(function B2e(n){return 0===n.views.size})(l)&&(n.syncPointTree_=n.syncPointTree_.remove(s));const v=p.removed;if(d=p.events,!r){const C=-1!==v.findIndex(A=>A._queryParams.loadsAllData()),w=n.syncPointTree_.findOnPath(s,(A,I)=>T3(I));if(C&&!w){const A=n.syncPointTree_.subtree(s);if(!A.isEmpty()){const I=function J2e(n){return n.fold((e,t,i)=>{if(t&&T3(t))return[oC(t)];{let r=[];return t&&(r=nF(t)),qr(i,(s,l)=>{r=r.concat(l)}),r}})}(A);for(let k=0;k<I.length;++k){const j=I[k],X=j.query,xe=lF(n,j);n.listenProvider_.startListening(cp(X),ap(n,X),xe.hashFn,xe.onComplete)}}}!w&&v.length>0&&!i&&(C?n.listenProvider_.stopListening(cp(e),null):v.forEach(A=>{const I=n.queryToTagMap.get(uC(A));n.listenProvider_.stopListening(cp(A),I)}))}!function e1e(n,e){for(let t=0;t<e.length;++t){const i=e[t];if(!i._queryParams.loadsAllData()){const r=uC(i),s=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(s)}}}(n,v)}return d}function oF(n,e,t,i){const r=LD(n,i);if(null!=r){const s=ID(r),l=s.path,d=s.queryId,p=Us(l,e);return TD(n,l,new S0(gD(d),p,t))}return[]}function DD(n,e,t,i=!1){const r=e._path;let s=null,l=!1;n.syncPointTree_.foreachOnPath(r,(A,I)=>{const k=Us(A,r);s=s||I3(I,k),l=l||T3(I)});let p,d=n.syncPointTree_.get(r);d?(l=l||T3(d),s=s||I3(d,Fn())):(d=new eF,n.syncPointTree_=n.syncPointTree_.set(r,d)),null!=s?p=!0:(p=!1,s=ln.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((I,k)=>{const j=I3(k,Fn());j&&(s=s.updateImmediateChild(I,j))}));const v=rF(d,e);if(!v&&!e._queryParams.loadsAllData()){const A=uC(e);(0,O.hu)(!n.queryToTagMap.has(A),"View does not exist, but we have a tag");const I=function t1e(){return q2e++}();n.queryToTagMap.set(A,I),n.tagToQueryMap.set(I,A)}let w=function U2e(n,e,t,i,r,s){const l=tF(n,e,i,r,s);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,l),function R2e(n,e){n.eventRegistrations_.push(e)}(l,t),function P2e(n,e){const t=n.viewCache_.eventCache,i=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(gi,(s,l)=>{i.push(ef(s,l))}),t.isFullyInitialized()&&i.push(HP(t.getNode())),JP(n,i,t.getNode(),e)}(l,t)}(d,e,t,tC(n.pendingWriteTree_,r),s,p);if(!v&&!l&&!i){const A=iF(d,e);w=w.concat(function n1e(n,e,t){const i=e._path,r=ap(n,e),s=lF(n,t),l=n.listenProvider_.startListening(cp(e),r,s.hashFn,s.onComplete),d=n.syncPointTree_.subtree(i);if(r)(0,O.hu)(!T3(d.value),"If we're adding a query, it shouldn't be shadowed");else{const p=d.fold((v,C,w)=>{if(!bn(v)&&C&&T3(C))return[oC(C).query];{let A=[];return C&&(A=A.concat(nF(C).map(I=>I.query))),qr(w,(I,k)=>{A=A.concat(k)}),A}});for(let v=0;v<p.length;++v){const C=p[v];n.listenProvider_.stopListening(cp(C),ap(n,C))}}return l}(n,e,A))}return w}function lC(n,e,t){const r=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(l,d)=>{const v=I3(d,Us(l,e));if(v)return v});return UP(r,e,s,t,!0)}function sf(n,e){return aF(e,n.syncPointTree_,null,tC(n.pendingWriteTree_,Fn()))}function aF(n,e,t,i){if(bn(n.path))return cF(n,e,t,i);{const r=e.get(Fn());null==t&&null!=r&&(t=I3(r,Fn()));let s=[];const l=Mn(n.path),d=n.operationForChild(l),p=e.children.get(l);if(p&&d){const v=t?t.getImmediateChild(l):null,C=jP(i,l);s=s.concat(aF(d,p,v,C))}return r&&(s=s.concat(ED(r,n,i,t))),s}}function cF(n,e,t,i){const r=e.get(Fn());null==t&&null!=r&&(t=I3(r,Fn()));let s=[];return e.children.inorderTraversal((l,d)=>{const p=t?t.getImmediateChild(l):null,v=jP(i,l),C=n.operationForChild(l);C&&(s=s.concat(cF(C,d,p,v)))}),r&&(s=s.concat(ED(r,n,i,t))),s}function lF(n,e){const t=e.query,i=ap(n,t);return{hashFn:()=>(function z2e(n){return n.viewCache_.serverCache.getNode()}(e)||ln.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function Z2e(n,e,t){const i=LD(n,t);if(i){const r=ID(i),s=r.path,l=r.queryId,d=Us(s,e);return TD(n,s,new np(gD(l),d))}return[]}(n,t._path,i):function K2e(n,e){return sf(n,new np({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(n,t._path);{const s=function Kre(n,e){let t="Unknown Error";"too_big"===n?t="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?t="Client doesn't have permission to access the desired data.":"unavailable"===n&&(t="The service is unavailable");const i=new Error(n+" at "+e._path.toString()+": "+t);return i.code=n.toUpperCase(),i}(r,t);return cC(n,t,null,s)}}}}function ap(n,e){const t=uC(e);return n.queryToTagMap.get(t)}function uC(n){return n._path.toString()+"$"+n._queryIdentifier}function LD(n,e){return n.tagToQueryMap.get(e)}function ID(n){const e=n.indexOf("$");return(0,O.hu)(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new qn(n.substr(0,e))}}function TD(n,e,t){const i=n.syncPointTree_.get(e);return(0,O.hu)(i,"Missing sync point for query tag that we're tracking"),ED(i,t,tC(n.pendingWriteTree_,e),null)}function cp(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function $2e(){return(0,O.hu)(aC,"Reference.ts has not been loaded"),aC}())(n._repo,n._path):n}class VD{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new VD(t)}node(){return this.node_}}class HD{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=zi(this.path_,e);return new HD(this.syncTree_,t)}node(){return lC(this.syncTree_,this.path_)}}const uF=function(n,e,t){return n&&"object"==typeof n?((0,O.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?r1e(n[".sv"],e,t):"object"==typeof n[".sv"]?s1e(n[".sv"],e):void(0,O.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},r1e=function(n,e,t){if("timestamp"===n)return t.timestamp;(0,O.hu)(!1,"Unexpected server value: "+n)},s1e=function(n,e,t){n.hasOwnProperty("increment")||(0,O.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,O.hu)(!1,"Unexpected increment value: "+i);const r=e.node();if((0,O.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const l=r.getValue();return"number"!=typeof l?i:l+i},dF=function(n,e,t,i){return kD(e,new HD(t,n),i)},zD=function(n,e,t){return kD(n,new VD(e),t)};function kD(n,e,t){const i=n.getPriority().val(),r=uF(i,e.getImmediateChild(".priority"),t);let s;if(n.isLeafNode()){const l=n,d=uF(l.getValue(),e,t);return d!==l.getValue()||r!==l.getPriority().val()?new Qd(d,Ui(r)):n}{const l=n;return s=l,r!==l.getPriority().val()&&(s=s.updatePriority(new Qd(r))),l.forEachChild(gi,(d,p)=>{const v=kD(p,e.getImmediateChild(d),t);v!==p&&(s=s.updateImmediateChild(d,v))}),s}}class ND{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}}function dC(n,e){let t=e instanceof qn?e:new qn(e),i=n,r=Mn(t);for(;null!==r;){const s=(0,O.DV)(i.node.children,r)||{children:{},childCount:0};i=new ND(r,i,s),t=ui(t),r=Mn(t)}return i}function D0(n){return n.node.value}function RD(n,e){n.node.value=e,PD(n)}function fF(n){return n.node.childCount>0}function fC(n,e){qr(n.node.children,(t,i)=>{e(new ND(t,n,i))})}function hF(n,e,t,i){t&&!i&&e(n),fC(n,r=>{hF(r,e,!0,i)}),t&&i&&e(n)}function lp(n){return new qn(null===n.parent?n.name:lp(n.parent)+"/"+n.name)}function PD(n){null!==n.parent&&function c1e(n,e,t){const i=function o1e(n){return void 0===D0(n)&&!fF(n)}(t),r=(0,O.r3)(n.node.children,e);i&&r?(delete n.node.children[e],n.node.childCount--,PD(n)):!i&&!r&&(n.node.children[e]=t.node,n.node.childCount++,PD(n))}(n.parent,n.name,n)}const l1e=/[\[\].#$\/\u0000-\u001F\u007F]/,u1e=/[\[\].#$\u0000-\u001F\u007F]/,FD=10485760,hC=function(n){return"string"==typeof n&&0!==n.length&&!l1e.test(n)},pF=function(n){return"string"==typeof n&&0!==n.length&&!u1e.test(n)},up=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!Fy(n)||n&&"object"==typeof n&&(0,O.r3)(n,".sv")},na=function(n,e,t,i){i&&void 0===e||dp((0,O.gK)(n,"value"),e,t)},dp=function(n,e,t){const i=t instanceof qn?new Ese(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+w0(i));if("function"==typeof e)throw new Error(n+"contains a function "+w0(i)+" with contents = "+e.toString());if(Fy(e))throw new Error(n+"contains "+e.toString()+" "+w0(i));if("string"==typeof e&&e.length>FD/3&&(0,O.ug)(e)>FD)throw new Error(n+"contains a string greater than "+FD+" utf8 bytes "+w0(i)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let r=!1,s=!1;if(qr(e,(l,d)=>{if(".value"===l)r=!0;else if(".priority"!==l&&".sv"!==l&&(s=!0,!hC(l)))throw new Error(n+" contains an invalid key ("+l+") "+w0(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Ase(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=(0,O.ug)(e),CP(n)})(i,l),dp(n,d,i),function Dse(n){const e=n.parts_.pop();n.byteLength_-=(0,O.ug)(e),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&s)throw new Error(n+' contains ".value" child '+w0(i)+" in addition to actual children.")}},mF=function(n,e,t,i){if(i&&void 0===e)return;const r=(0,O.gK)(n,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(r+" must be an object containing the children to replace.");const s=[];qr(e,(l,d)=>{const p=new qn(l);if(dp(r,d,zi(t,p)),".priority"===eD(p)&&!up(d))throw new Error(r+"contains an invalid value for '"+p.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(p)}),function(n,e){let t,i;for(t=0;t<e.length;t++){i=e[t];const s=K9(i);for(let l=0;l<s.length;l++)if((".priority"!==s[l]||l!==s.length-1)&&!hC(s[l]))throw new Error(n+"contains an invalid key ("+s[l]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(Sse);let r=null;for(t=0;t<e.length;t++){if(i=e[t],null!==r&&g1(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,s)},OD=function(n,e,t){if(!t||void 0!==e){if(Fy(e))throw new Error((0,O.gK)(n,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!up(e))throw new Error((0,O.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},fp=function(n,e,t,i){if(!(i&&void 0===t||hC(t)))throw new Error((0,O.gK)(n,e)+'was an invalid key = "'+t+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},hp=function(n,e,t,i){if(!(i&&void 0===t||pF(t)))throw new Error((0,O.gK)(n,e)+'was an invalid path = "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},_1=function(n,e){if(".info"===Mn(e))throw new Error(n+" failed = Can't modify data under /.info/")},gF=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!hC(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),pF(n)}(t))throw new Error((0,O.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class p1e{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function pC(n,e){let t=null;for(let i=0;i<e.length;i++){const r=e[i],s=r.getPath();null!==t&&!tD(s,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:s}),t.events.push(r)}t&&n.eventLists_.push(t)}function vF(n,e,t){pC(n,t),_F(n,i=>tD(i,e))}function U2(n,e,t){pC(n,t),_F(n,i=>g1(i,e)||g1(e,i))}function _F(n,e){n.recursionDepth_++;let t=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(e(r.path)?(m1e(n.eventLists_[i]),n.eventLists_[i]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}function m1e(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const i=t.getEventRunner();M0&&$r("event: "+t.toString()),Kd(i)}}}const yF="repo_interrupt";class v1e{constructor(e,t,i,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new p1e,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Qy(),this.transactionQueueTree_=new ND,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function CF(n){const t=n.infoData_.getNode(new qn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function pp(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:CF(n)})}function MF(n,e,t,i,r){n.dataUpdateCount++;const s=new qn(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let l=[];if(r)if(i){const p=(0,O.UI)(t,v=>Ui(v));l=function Q2e(n,e,t,i){const r=LD(n,i);if(r){const s=ID(r),l=s.path,d=s.queryId,p=Us(l,e),v=vi.fromObject(t);return TD(n,l,new nf(gD(d),p,v))}return[]}(n.serverSyncTree_,s,p,r)}else{const p=Ui(t);l=oF(n.serverSyncTree_,s,p,r)}else if(i){const p=(0,O.UI)(t,v=>Ui(v));l=function Y2e(n,e,t){const i=vi.fromObject(t);return sf(n,new nf({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,i))}(n.serverSyncTree_,s,p)}else{const p=Ui(t);l=op(n.serverSyncTree_,s,p)}let d=s;l.length>0&&(d=cf(n,s)),U2(n.eventQueue_,d,l)}function bF(n,e){BD(n,"connected",e),!1===e&&function b1e(n){af(n,"onDisconnectEvents");const e=pp(n),t=Qy();hD(n.onDisconnect_,Fn(),(r,s)=>{const l=dF(r,s,n.serverSyncTree_,e);tf(t,r,l)});let i=[];hD(t,Fn(),(r,s)=>{i=i.concat(op(n.serverSyncTree_,r,s));const l=$D(n,r);cf(n,l)}),n.onDisconnect_=Qy(),U2(n.eventQueue_,Fn(),i)}(n)}function BD(n,e,t){const i=new qn("/.info/"+e),r=Ui(t);n.infoData_.updateSnapshot(i,r);const s=op(n.infoSyncTree_,i,r);U2(n.eventQueue_,i,s)}function mC(n){return n.nextWriteId_++}function UD(n,e,t,i,r){af(n,"set",{path:e.toString(),value:t,priority:i});const s=pp(n),l=Ui(t,i),d=lC(n.serverSyncTree_,e),p=zD(l,d,s),v=mC(n),C=AD(n.serverSyncTree_,e,p,v,!0);pC(n.eventQueue_,C),n.server_.put(e.toString(),l.val(!0),(A,I)=>{const k="ok"===A;k||Cs("set at "+e+" failed: "+A);const j=V3(n.serverSyncTree_,v,!k);U2(n.eventQueue_,e,j),H3(0,r,A,I)});const w=$D(n,e);cf(n,w),U2(n.eventQueue_,w,[])}function w1e(n,e,t){n.server_.onDisconnectCancel(e.toString(),(i,r)=>{"ok"===i&&fD(n.onDisconnect_,e),H3(0,t,i,r)})}function wF(n,e,t,i){const r=Ui(t);n.server_.onDisconnectPut(e.toString(),r.val(!0),(s,l)=>{"ok"===s&&tf(n.onDisconnect_,e,r),H3(0,i,s,l)})}function GD(n,e,t){let i;i=".info"===Mn(e._path)?cC(n.infoSyncTree_,e,t):cC(n.serverSyncTree_,e,t),vF(n.eventQueue_,e._path,i)}function xF(n){n.persistentConnection_&&n.persistentConnection_.interrupt(yF)}function af(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),$r(t,...e)}function H3(n,e,t,i){e&&Kd(()=>{if("ok"===t)e(null);else{const r=(t||"error").toUpperCase();let s=r;i&&(s+=": "+i);const l=new Error(s);l.code=r,e(l)}})}function jD(n,e,t){return lC(n.serverSyncTree_,e,t)||ln.EMPTY_NODE}function gC(n,e=n.transactionQueueTree_){if(e||vC(n,e),D0(e)){const t=EF(n,e);(0,O.hu)(t.length>0,"Sending zero length transaction queue"),t.every(r=>0===r.status)&&function L1e(n,e,t){const i=t.map(v=>v.currentWriteId),r=jD(n,e,i);let s=r;const l=r.hash();for(let v=0;v<t.length;v++){const C=t[v];(0,O.hu)(0===C.status,"tryToSendTransactionQueue_: items in queue should all be run."),C.status=1,C.retryCount++;const w=Us(e,C.path);s=s.updateChild(w,C.currentOutputSnapshotRaw)}const d=s.val(!0),p=e;n.server_.put(p.toString(),d,v=>{af(n,"transaction put response",{path:p.toString(),status:v});let C=[];if("ok"===v){const w=[];for(let A=0;A<t.length;A++)t[A].status=2,C=C.concat(V3(n.serverSyncTree_,t[A].currentWriteId)),t[A].onComplete&&w.push(()=>t[A].onComplete(null,!0,t[A].currentOutputSnapshotResolved)),t[A].unwatcher();vC(n,dC(n.transactionQueueTree_,e)),gC(n,n.transactionQueueTree_),U2(n.eventQueue_,e,C);for(let A=0;A<w.length;A++)Kd(w[A])}else{if("datastale"===v)for(let w=0;w<t.length;w++)t[w].status=3===t[w].status?4:0;else{Cs("transaction at "+p.toString()+" failed: "+v);for(let w=0;w<t.length;w++)t[w].status=4,t[w].abortReason=v}cf(n,e)}},l)}(n,lp(e),t)}else fF(e)&&fC(e,t=>{gC(n,t)})}function cf(n,e){const t=SF(n,e),i=lp(t);return function I1e(n,e,t){if(0===e.length)return;const i=[];let r=[];const l=e.filter(d=>0===d.status).map(d=>d.currentWriteId);for(let d=0;d<e.length;d++){const p=e[d],v=Us(t,p.path);let w,C=!1;if((0,O.hu)(null!==v,"rerunTransactionsUnderNode_: relativePath should not be null."),4===p.status)C=!0,w=p.abortReason,r=r.concat(V3(n.serverSyncTree_,p.currentWriteId,!0));else if(0===p.status)if(p.retryCount>=25)C=!0,w="maxretry",r=r.concat(V3(n.serverSyncTree_,p.currentWriteId,!0));else{const A=jD(n,p.path,l);p.currentInputSnapshot=A;const I=e[d].update(A.val());if(void 0!==I){dp("transaction failed: Data returned ",I,p.path);let k=Ui(I);"object"==typeof I&&null!=I&&(0,O.r3)(I,".priority")||(k=k.updatePriority(A.getPriority()));const X=p.currentWriteId,xe=pp(n),ke=zD(k,A,xe);p.currentOutputSnapshotRaw=k,p.currentOutputSnapshotResolved=ke,p.currentWriteId=mC(n),l.splice(l.indexOf(X),1),r=r.concat(AD(n.serverSyncTree_,p.path,ke,p.currentWriteId,p.applyLocally)),r=r.concat(V3(n.serverSyncTree_,X,!0))}else C=!0,w="nodata",r=r.concat(V3(n.serverSyncTree_,p.currentWriteId,!0))}U2(n.eventQueue_,t,r),r=[],C&&(e[d].status=2,setTimeout(e[d].unwatcher,Math.floor(0)),e[d].onComplete&&i.push("nodata"===w?()=>e[d].onComplete(null,!1,e[d].currentInputSnapshot):()=>e[d].onComplete(new Error(w),!1,null)))}vC(n,n.transactionQueueTree_);for(let d=0;d<i.length;d++)Kd(i[d]);gC(n,n.transactionQueueTree_)}(n,EF(n,t),i),i}function SF(n,e){let t,i=n.transactionQueueTree_;for(t=Mn(e);null!==t&&void 0===D0(i);)i=dC(i,t),t=Mn(e=ui(e));return i}function EF(n,e){const t=[];return AF(n,e,t),t.sort((i,r)=>i.order-r.order),t}function AF(n,e,t){const i=D0(e);if(i)for(let r=0;r<i.length;r++)t.push(i[r]);fC(e,r=>{AF(n,r,t)})}function vC(n,e){const t=D0(e);if(t){let i=0;for(let r=0;r<t.length;r++)2!==t[r].status&&(t[i]=t[r],i++);t.length=i,RD(e,t.length>0?t:void 0)}fC(e,i=>{vC(n,i)})}function $D(n,e){const t=lp(SF(n,e)),i=dC(n.transactionQueueTree_,e);return function a1e(n,e,t){let i=t?n:n.parent;for(;null!==i;){if(e(i))return!0;i=i.parent}}(i,r=>{qD(n,r)}),qD(n,i),hF(i,r=>{qD(n,r)}),t}function qD(n,e){const t=D0(e);if(t){const i=[];let r=[],s=-1;for(let l=0;l<t.length;l++)3===t[l].status||(1===t[l].status?((0,O.hu)(s===l-1,"All SENT items should be at beginning of queue."),s=l,t[l].status=3,t[l].abortReason="set"):((0,O.hu)(0===t[l].status,"Unexpected transaction status in abort"),t[l].unwatcher(),r=r.concat(V3(n.serverSyncTree_,t[l].currentWriteId,!0)),t[l].onComplete&&i.push(t[l].onComplete.bind(null,new Error("set"),!1,null))));-1===s?RD(e,void 0):t.length=s+1,U2(n.eventQueue_,lp(e),r);for(let l=0;l<i.length;l++)Kd(i[l])}}const WD=function(n,e){const t=H1e(n),i=t.namespace;return"firebase.com"===t.domain&&Jo(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==t.domain&&Jo("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Cs("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new YA(t.host,t.secure,i,"ws"===t.scheme||"wss"===t.scheme,e,"",i!==t.subdomain),path:new qn(t.pathString)}},H1e=function(n){let e="",t="",i="",r="",s="",l=!0,d="https",p=443;if("string"==typeof n){let v=n.indexOf("//");v>=0&&(d=n.substring(0,v-1),n=n.substring(v+2));let C=n.indexOf("/");-1===C&&(C=n.length);let w=n.indexOf("?");-1===w&&(w=n.length),e=n.substring(0,Math.min(C,w)),C<w&&(r=function T1e(n){let e="";const t=n.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let r=t[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}(n.substring(C,w)));const A=function V1e(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const i=t.split("=");2===i.length?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Cs(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,w)));v=e.indexOf(":"),v>=0?(l="https"===d||"wss"===d,p=parseInt(e.substring(v+1),10)):v=e.length;const I=e.slice(0,v);if("localhost"===I.toLowerCase())t="localhost";else if(I.split(".").length<=2)t=I;else{const k=e.indexOf(".");i=e.substring(0,k).toLowerCase(),t=e.substring(k+1),s=i}"ns"in A&&(s=A.ns)}return{host:e,port:p,domain:t,subdomain:i,secure:l,scheme:d,pathString:r,namespace:s}};class DF{constructor(e,t,i,r){this.eventType=e,this.eventRegistration=t,this.snapshot=i,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,O.Wl)(this.snapshot.exportVal())}}class LF{constructor(e,t,i){this.eventRegistration=e,this.error=t,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class YD{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return(0,O.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class IF{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new O.BH;return w1e(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){_1("OnDisconnect.remove",this._path);const e=new O.BH;return wF(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){_1("OnDisconnect.set",this._path),na("OnDisconnect.set",e,this._path,!1);const t=new O.BH;return wF(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){_1("OnDisconnect.setWithPriority",this._path),na("OnDisconnect.setWithPriority",e,this._path,!1),OD("OnDisconnect.setWithPriority",t,!1);const i=new O.BH;return function x1e(n,e,t,i,r){const s=Ui(t,i);n.server_.onDisconnectPut(e.toString(),s.val(!0),(l,d)=>{"ok"===l&&tf(n.onDisconnect_,e,s),H3(0,r,l,d)})}(this._repo,this._path,e,t,i.wrapCallback(()=>{})),i.promise}update(e){_1("OnDisconnect.update",this._path),mF("OnDisconnect.update",e,this._path,!1);const t=new O.BH;return function S1e(n,e,t,i){if((0,O.xb)(t))return $r("onDisconnect().update() called with empty data.  Don't do anything."),void H3(0,i,"ok",void 0);n.server_.onDisconnectMerge(e.toString(),t,(r,s)=>{"ok"===r&&qr(t,(l,d)=>{const p=Ui(d);tf(n.onDisconnect_,zi(e,l),p)}),H3(0,i,r,s)})}(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}}class p2{constructor(e,t,i,r){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=r}get key(){return bn(this._path)?null:eD(this._path)}get ref(){return new y1(this._repo,this._path)}get _queryIdentifier(){const e=kP(this._queryParams),t=$A(e);return"{}"===t?"default":t}get _queryObject(){return kP(this._queryParams)}isEqual(e){if(!((e=(0,O.m9)(e))instanceof p2))return!1;const t=this._repo===e._repo,i=tD(this._path,e._path);return t&&i&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function xse(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}function _C(n,e){if(!0===n._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function z3(n){let e=null,t=null;if(n.hasStart()&&(e=n.getIndexStartValue()),n.hasEnd()&&(t=n.getIndexEndValue()),n.getIndex()===ta){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Mc)throw new Error(i);if("string"!=typeof e)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==ea)throw new Error(i);if("string"!=typeof t)throw new Error(r)}}else if(n.getIndex()===gi){if(null!=e&&!up(e)||null!=t&&!up(t))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,O.hu)(n.getIndex()instanceof oD||n.getIndex()===aD,"unknown index type."),null!=e&&"object"==typeof e||null!=t&&"object"==typeof t)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function yC(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class y1 extends p2{constructor(e,t){super(e,t,new Yy,!1)}get parent(){const e=yP(this._path);return null===e?null:new y1(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class L0{constructor(e,t,i){this._node=e,this.ref=t,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new qn(e),i=I0(this.ref,e);return new L0(this._node.getChild(t),i,gi)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>e(new L0(r,I0(this.ref,i),gi)))}hasChild(e){const t=new qn(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function TF(n,e){return(n=(0,O.m9)(n))._checkNotDeleted("ref"),void 0!==e?I0(n._root,e):n._root}function VF(n,e){(n=(0,O.m9)(n))._checkNotDeleted("refFromURL");const t=WD(e,n._repo.repoInfo_.nodeAdmin);gF("refFromURL",t);const i=t.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&Jo("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),TF(n,t.path.toString())}function I0(n,e){return null===Mn((n=(0,O.m9)(n))._path)?(t=e,t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),hp("child","path",t,!1)):hp("child","path",e,!1),new y1(n._repo,zi(n._path,e));var t}function KD(n,e){n=(0,O.m9)(n),_1("set",n._path),na("set",e,n._path,!1);const t=new O.BH;return UD(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function P1e(n,e){mF("update",e,n._path,!1);const t=new O.BH;return function M1e(n,e,t,i){af(n,"update",{path:e.toString(),value:t});let r=!0;const s=pp(n),l={};if(qr(t,(d,p)=>{r=!1,l[d]=dF(zi(e,d),Ui(p),n.serverSyncTree_,s)}),r)$r("update() called with empty data.  Don't do anything."),H3(0,i,"ok",void 0);else{const d=mC(n),p=function W2e(n,e,t,i){!function u2e(n,e,t,i){(0,O.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:t,writeId:i,visible:!0}),n.visibleWrites=_D(n.visibleWrites,e,t),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i);const r=vi.fromObject(t);return sf(n,new nf({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,e,l,d);pC(n.eventQueue_,p),n.server_.merge(e.toString(),t,(v,C)=>{const w="ok"===v;w||Cs("update at "+e+" failed: "+v);const A=V3(n.serverSyncTree_,d,!w),I=A.length>0?cf(n,e):e;U2(n.eventQueue_,I,A),H3(0,i,v,C)}),qr(t,v=>{const C=$D(n,zi(e,v));cf(n,C)}),U2(n.eventQueue_,e,[])}}(n._repo,n._path,e,t.wrapCallback(()=>{})),t.promise}function F1e(n){n=(0,O.m9)(n);const e=new YD(()=>{}),t=new mp(e);return function C1e(n,e,t){const i=function X2e(n,e){const t=e._path;let i=null;n.syncPointTree_.foreachOnPath(t,(v,C)=>{const w=Us(v,t);i=i||I3(C,w)});let r=n.syncPointTree_.get(t);r?i=i||I3(r,Fn()):(r=new eF,n.syncPointTree_=n.syncPointTree_.set(t,r));const s=null!=i,l=s?new D3(i,!0,!1):null;return function k2e(n){return eC(n.viewCache_)}(tF(r,e,tC(n.pendingWriteTree_,e._path),s?l.getNode():ln.EMPTY_NODE,s))}(n.serverSyncTree_,e);return null!=i?Promise.resolve(i):n.server_.get(e).then(r=>{const s=Ui(r).withIndex(e._queryParams.getIndex());let l;if(DD(n.serverSyncTree_,e,t,!0),e._queryParams.loadsAllData())l=op(n.serverSyncTree_,e._path,s);else{const d=ap(n.serverSyncTree_,e);l=oF(n.serverSyncTree_,e._path,s,d)}return U2(n.eventQueue_,e._path,l),cC(n.serverSyncTree_,e,t,null,!0),s},r=>(af(n,"get for query "+(0,O.Wl)(e)+" failed: "+r),Promise.reject(new Error(r))))}(n._repo,n,t).then(i=>new L0(i,new y1(n._repo,n._path),n._queryParams.getIndex()))}class mp{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const i=t._queryParams.getIndex();return new DF("value",this,new L0(e.snapshotNode,new y1(t._repo,t._path),i))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new LF(this,e,t):null}matches(e){return e instanceof mp&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class CC{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new LF(this,e,t):null}createEvent(e,t){(0,O.hu)(null!=e.childName,"Child events should have a childName.");const i=I0(new y1(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new DF(e.type,this,new L0(e.snapshotNode,i,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof CC&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function gp(n,e,t,i,r){let s;if("object"==typeof i&&(s=void 0,r=i),"function"==typeof i&&(s=i),r&&r.onlyOnce){const p=t,v=(C,w)=>{GD(n._repo,n,d),p(C,w)};v.userCallback=t.userCallback,v.context=t.context,t=v}const l=new YD(t,s||void 0),d="value"===e?new mp(l):new CC(e,l);return function E1e(n,e,t){let i;i=".info"===Mn(e._path)?DD(n.infoSyncTree_,e,t):DD(n.serverSyncTree_,e,t),vF(n.eventQueue_,e._path,i)}(n._repo,n,d),()=>GD(n._repo,n,d)}function ZD(n,e,t,i){return gp(n,"value",e,t,i)}function HF(n,e,t,i){return gp(n,"child_added",e,t,i)}function zF(n,e,t,i){return gp(n,"child_changed",e,t,i)}function kF(n,e,t,i){return gp(n,"child_moved",e,t,i)}function NF(n,e,t,i){return gp(n,"child_removed",e,t,i)}function RF(n,e,t){let i=null;const r=t?new YD(t):null;"value"===e?i=new mp(r):e&&(i=new CC(e,r)),GD(n._repo,n,i)}class oo{}class PF extends oo{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){na("endAt",this._value,e._path,!0);const t=dD(e._queryParams,this._value,this._key);if(yC(t),z3(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new p2(e._repo,e._path,t,e._orderByCalled)}}class B1e extends oo{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){na("endBefore",this._value,e._path,!1);const t=function Qse(n,e,t){let i,r;return n.index_===ta?("string"==typeof e&&(e=VP(e)),r=dD(n,e,t)):(i=null==t?Mc:VP(t),r=dD(n,e,i)),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(yC(t),z3(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new p2(e._repo,e._path,t,e._orderByCalled)}}class FF extends oo{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){na("startAt",this._value,e._path,!0);const t=uD(e._queryParams,this._value,this._key);if(yC(t),z3(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new p2(e._repo,e._path,t,e._orderByCalled)}}class j1e extends oo{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){na("startAfter",this._value,e._path,!1);const t=function Zse(n,e,t){let i;if(n.index_===ta)"string"==typeof e&&(e=TP(e)),i=uD(n,e,t);else{let r;r=null==t?ea:TP(t),i=uD(n,e,r)}return i.startAfterSet_=!0,i}(e._queryParams,this._value,this._key);if(yC(t),z3(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new p2(e._repo,e._path,t,e._orderByCalled)}}class q1e extends oo{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new p2(e._repo,e._path,function Yse(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="l",t}(e._queryParams,this._limit),e._orderByCalled)}}class Y1e extends oo{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new p2(e._repo,e._path,function Kse(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="r",t}(e._queryParams,this._limit),e._orderByCalled)}}class Z1e extends oo{constructor(e){super(),this._path=e}_apply(e){_C(e,"orderByChild");const t=new qn(this._path);if(bn(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new oD(t),r=Ky(e._queryParams,i);return z3(r),new p2(e._repo,e._path,r,!0)}}class X1e extends oo{_apply(e){_C(e,"orderByKey");const t=Ky(e._queryParams,ta);return z3(t),new p2(e._repo,e._path,t,!0)}}class eoe extends oo{_apply(e){_C(e,"orderByPriority");const t=Ky(e._queryParams,gi);return z3(t),new p2(e._repo,e._path,t,!0)}}class noe extends oo{_apply(e){_C(e,"orderByValue");const t=Ky(e._queryParams,aD);return z3(t),new p2(e._repo,e._path,t,!0)}}class roe extends oo{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){if(na("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new PF(this._value,this._key)._apply(new FF(this._value,this._key)._apply(e))}}function ao(n,...e){let t=(0,O.m9)(n);for(const i of e)t=i._apply(t);return t}(function F2e(n){(0,O.hu)(!sC,"__referenceConstructor has already been defined"),sC=n})(y1),function j2e(n){(0,O.hu)(!aC,"__referenceConstructor has already been defined"),aC=n}(y1);const QD={};function BF(n,e,t,i,r){let s=i||n.options.databaseURL;void 0===s&&(n.options.projectId||Jo("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),$r("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let p,v,l=WD(s,r),d=l.repoInfo;typeof process<"u"&&process.env&&(v=process.env.FIREBASE_DATABASE_EMULATOR_HOST),v?(p=!0,s=`http://${v}?ns=${d.namespace}`,l=WD(s,r),d=l.repoInfo):p=!l.repoInfo.secure;const C=r&&p?new Y9(Y9.OWNER):new Jre(n.name,n.options,e);gF("Invalid Firebase Database URL",l),bn(l.path)||Jo("Database URL must point to the root of a Firebase Database (not including a child path).");const w=function loe(n,e,t,i){let r=QD[e.name];r||(r={},QD[e.name]=r);let s=r[n.toURLString()];return s&&Jo("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new v1e(n,false,t,i),r[n.toURLString()]=s,s}(d,n,C,new Xre(n.name,t));return new doe(w,n)}class doe{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function _1e(n,e,t){if(n.stats_=QA(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new Zy(n.repoInfo_,(i,r,s,l)=>{MF(n,i,r,s,l)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>bF(n,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,O.Wl)(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new x0(n.repoInfo_,e,(i,r,s,l)=>{MF(n,i,r,s,l)},i=>{bF(n,i)},i=>{!function y1e(n,e){qr(e,(t,i)=>{BD(n,t,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function nse(n,e){const t=n.toString();return ZA[t]||(ZA[t]=e()),ZA[t]}(n.repoInfo_,()=>new i2e(n.stats_,n.server_)),n.infoData_=new Xse,n.infoSyncTree_=new sF({startListening:(i,r,s,l)=>{let d=[];const p=n.infoData_.getNode(i._path);return p.isEmpty()||(d=op(n.infoSyncTree_,i._path,p),setTimeout(()=>{l("ok")},0)),d},stopListening:()=>{}}),BD(n,"connected",!1),n.serverSyncTree_=new sF({startListening:(i,r,s,l)=>(n.server_.listen(i,s,r,(d,p)=>{const v=l(d,p);U2(n.eventQueue_,i._path,v)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new y1(this._repo,Fn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function coe(n,e){const t=QD[e];(!t||t[n.key]!==n)&&Jo(`Database ${e}(${n.repoInfo_}) has already been deleted.`),xF(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Jo("Cannot call "+e+" on a deleted database.")}}function UF(){aP.IS_TRANSPORT_INITIALIZED&&Cs("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function foe(){UF(),E3.forceDisallow()}function hoe(){UF(),Zd.forceDisallow(),E3.forceAllow()}function goe(n,e){BR(n,e)}const _oe={".sv":"timestamp"};class Moe{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}x0.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},x0.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function voe(n){NR(Dr.SDK_VERSION),(0,Dr._registerComponent)(new ms.wA("database",(e,{instanceIdentifier:t})=>BF(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,Dr.registerVersion)(zR,kR,n),(0,Dr.registerVersion)(zR,kR,"esm2017")}();const Soe=new Vs.Yd("@firebase/database-compat"),jF=function(n){Soe.warn("FIREBASE WARNING: "+n)};class Doe{constructor(e){this._delegate=e}cancel(e){(0,O.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,O.Wj)("OnDisconnect.cancel","onComplete",e,!0);const t=this._delegate.cancel();return e&&t.then(()=>e(null),i=>e(i)),t}remove(e){(0,O.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,O.Wj)("OnDisconnect.remove","onComplete",e,!0);const t=this._delegate.remove();return e&&t.then(()=>e(null),i=>e(i)),t}set(e,t){(0,O.Dv)("OnDisconnect.set",1,2,arguments.length),(0,O.Wj)("OnDisconnect.set","onComplete",t,!0);const i=this._delegate.set(e);return t&&i.then(()=>t(null),r=>t(r)),i}setWithPriority(e,t,i){(0,O.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,O.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(e,t);return i&&r.then(()=>i(null),s=>i(s)),r}update(e,t){if((0,O.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const r={};for(let s=0;s<e.length;++s)r[""+s]=e[s];e=r,jF("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,O.Wj)("OnDisconnect.update","onComplete",t,!0);const i=this._delegate.update(e);return t&&i.then(()=>t(null),r=>t(r)),i}}class Loe{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return(0,O.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class k3{constructor(e,t){this._database=e,this._delegate=t}val(){return(0,O.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,O.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,O.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,O.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return(0,O.Dv)("DataSnapshot.child",0,1,arguments.length),e=String(e),hp("DataSnapshot.child","path",e,!1),new k3(this._database,this._delegate.child(e))}hasChild(e){return(0,O.Dv)("DataSnapshot.hasChild",1,1,arguments.length),hp("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return(0,O.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return(0,O.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,O.Wj)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(t=>e(new k3(this._database,t)))}hasChildren(){return(0,O.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,O.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,O.Dv)("DataSnapshot.ref",0,0,arguments.length),new G2(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class os{constructor(e,t){this.database=e,this._delegate=t}on(e,t,i,r){var s;(0,O.Dv)("Query.on",2,4,arguments.length),(0,O.Wj)("Query.on","callback",t,!1);const l=os.getCancelAndContextArgs_("Query.on",i,r),d=(v,C)=>{t.call(l.context,new k3(this.database,v),C)};d.userCallback=t,d.context=l.context;const p=null===(s=l.cancel)||void 0===s?void 0:s.bind(l.context);switch(e){case"value":return ZD(this._delegate,d,p),t;case"child_added":return HF(this._delegate,d,p),t;case"child_removed":return NF(this._delegate,d,p),t;case"child_changed":return zF(this._delegate,d,p),t;case"child_moved":return kF(this._delegate,d,p),t;default:throw new Error((0,O.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,i){if((0,O.Dv)("Query.off",0,3,arguments.length),function(n,e,t){if(void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,O.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,e),(0,O.Wj)("Query.off","callback",t,!0),(0,O.lb)("Query.off","context",i,!0),t){const r=()=>{};r.userCallback=t,r.context=i,RF(this._delegate,e,r)}else RF(this._delegate,e)}get(){return F1e(this._delegate).then(e=>new k3(this.database,e))}once(e,t,i,r){(0,O.Dv)("Query.once",1,4,arguments.length),(0,O.Wj)("Query.once","callback",t,!0);const s=os.getCancelAndContextArgs_("Query.once",i,r),l=new O.BH,d=(v,C)=>{const w=new k3(this.database,v);t&&t.call(s.context,w,C),l.resolve(w)};d.userCallback=t,d.context=s.context;const p=v=>{s.cancel&&s.cancel.call(s.context,v),l.reject(v)};switch(e){case"value":ZD(this._delegate,d,p,{onlyOnce:!0});break;case"child_added":HF(this._delegate,d,p,{onlyOnce:!0});break;case"child_removed":NF(this._delegate,d,p,{onlyOnce:!0});break;case"child_changed":zF(this._delegate,d,p,{onlyOnce:!0});break;case"child_moved":kF(this._delegate,d,p,{onlyOnce:!0});break;default:throw new Error((0,O.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return l.promise}limitToFirst(e){return(0,O.Dv)("Query.limitToFirst",1,1,arguments.length),new os(this.database,ao(this._delegate,function W1e(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new q1e(n)}(e)))}limitToLast(e){return(0,O.Dv)("Query.limitToLast",1,1,arguments.length),new os(this.database,ao(this._delegate,function K1e(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Y1e(n)}(e)))}orderByChild(e){return(0,O.Dv)("Query.orderByChild",1,1,arguments.length),new os(this.database,ao(this._delegate,function Q1e(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return hp("orderByChild","path",n,!1),new Z1e(n)}(e)))}orderByKey(){return(0,O.Dv)("Query.orderByKey",0,0,arguments.length),new os(this.database,ao(this._delegate,function J1e(){return new X1e}()))}orderByPriority(){return(0,O.Dv)("Query.orderByPriority",0,0,arguments.length),new os(this.database,ao(this._delegate,function toe(){return new eoe}()))}orderByValue(){return(0,O.Dv)("Query.orderByValue",0,0,arguments.length),new os(this.database,ao(this._delegate,function ioe(){return new noe}()))}startAt(e=null,t){return(0,O.Dv)("Query.startAt",0,2,arguments.length),new os(this.database,ao(this._delegate,function G1e(n=null,e){return fp("startAt","key",e,!0),new FF(n,e)}(e,t)))}startAfter(e=null,t){return(0,O.Dv)("Query.startAfter",0,2,arguments.length),new os(this.database,ao(this._delegate,function $1e(n,e){return fp("startAfter","key",e,!0),new j1e(n,e)}(e,t)))}endAt(e=null,t){return(0,O.Dv)("Query.endAt",0,2,arguments.length),new os(this.database,ao(this._delegate,function O1e(n,e){return fp("endAt","key",e,!0),new PF(n,e)}(e,t)))}endBefore(e=null,t){return(0,O.Dv)("Query.endBefore",0,2,arguments.length),new os(this.database,ao(this._delegate,function U1e(n,e){return fp("endBefore","key",e,!0),new B1e(n,e)}(e,t)))}equalTo(e,t){return(0,O.Dv)("Query.equalTo",1,2,arguments.length),new os(this.database,ao(this._delegate,function soe(n,e){return fp("equalTo","key",e,!0),new roe(n,e)}(e,t)))}toString(){return(0,O.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,O.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if((0,O.Dv)("Query.isEqual",1,1,arguments.length),!(e instanceof os))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,i){const r={cancel:void 0,context:void 0};if(t&&i)r.cancel=t,(0,O.Wj)(e,"cancel",r.cancel,!0),r.context=i,(0,O.lb)(e,"context",r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error((0,O.gK)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r}get ref(){return new G2(this.database,new y1(this._delegate._repo,this._delegate._path))}}class G2 extends os{constructor(e,t){super(e,new p2(t._repo,t._path,new Yy,!1)),this.database=e,this._delegate=t}getKey(){return(0,O.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return(0,O.Dv)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new G2(this.database,I0(this._delegate,e))}getParent(){(0,O.Dv)("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new G2(this.database,e):null}getRoot(){return(0,O.Dv)("Reference.root",0,0,arguments.length),new G2(this.database,this._delegate.root)}set(e,t){(0,O.Dv)("Reference.set",1,2,arguments.length),(0,O.Wj)("Reference.set","onComplete",t,!0);const i=KD(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}update(e,t){if((0,O.Dv)("Reference.update",1,2,arguments.length),Array.isArray(e)){const r={};for(let s=0;s<e.length;++s)r[""+s]=e[s];e=r,jF("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}_1("Reference.update",this._delegate._path),(0,O.Wj)("Reference.update","onComplete",t,!0);const i=P1e(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}setWithPriority(e,t,i){(0,O.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,O.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function R1e(n,e,t){if(_1("setWithPriority",n._path),na("setWithPriority",e,n._path,!1),OD("setWithPriority",t,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new O.BH;return UD(n._repo,n._path,e,t,i.wrapCallback(()=>{})),i.promise}(this._delegate,e,t);return i&&r.then(()=>i(null),s=>i(s)),r}remove(e){(0,O.Dv)("Reference.remove",0,1,arguments.length),(0,O.Wj)("Reference.remove","onComplete",e,!0);const t=function k1e(n){return _1("remove",n._path),KD(n,null)}(this._delegate);return e&&t.then(()=>e(null),i=>e(i)),t}transaction(e,t,i){(0,O.Dv)("Reference.transaction",1,3,arguments.length),(0,O.Wj)("Reference.transaction","transactionUpdate",e,!1),(0,O.Wj)("Reference.transaction","onComplete",t,!0),function(n,e,t,i){if(void 0!==t&&"boolean"!=typeof t)throw new Error((0,O.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function boe(n,e,t){var i;if(n=(0,O.m9)(n),_1("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=t?.applyLocally)||void 0===i||i,s=new O.BH,d=ZD(n,()=>{});return function D1e(n,e,t,i,r,s){af(n,"transaction on "+e);const l={path:e,update:t,onComplete:i,status:null,order:PR(),applyLocally:s,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},d=jD(n,e,void 0);l.currentInputSnapshot=d;const p=l.update(d.val());if(void 0===p)l.unwatcher(),l.currentOutputSnapshotRaw=null,l.currentOutputSnapshotResolved=null,l.onComplete&&l.onComplete(null,!1,l.currentInputSnapshot);else{dp("transaction failed: Data returned ",p,l.path),l.status=0;const v=dC(n.transactionQueueTree_,e),C=D0(v)||[];let w;C.push(l),RD(v,C),"object"==typeof p&&null!==p&&(0,O.r3)(p,".priority")?(w=(0,O.DV)(p,".priority"),(0,O.hu)(up(w),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):w=(lC(n.serverSyncTree_,e)||ln.EMPTY_NODE).getPriority().val();const A=pp(n),I=Ui(p,w),k=zD(I,d,A);l.currentOutputSnapshotRaw=I,l.currentOutputSnapshotResolved=k,l.currentWriteId=mC(n);const j=AD(n.serverSyncTree_,e,k,l.currentWriteId,l.applyLocally);U2(n.eventQueue_,e,j),gC(n,n.transactionQueueTree_)}}(n._repo,n._path,e,(p,v,C)=>{let w=null;p?s.reject(p):(w=new L0(C,new y1(n._repo,n._path),gi),s.resolve(new Moe(v,w)))},d,r),s.promise}(this._delegate,e,{applyLocally:i}).then(s=>new Loe(s.committed,new k3(this.database,s.snapshot)));return t&&r.then(s=>t(null,s.committed,s.snapshot),s=>t(s,!1,null)),r}setPriority(e,t){(0,O.Dv)("Reference.setPriority",1,2,arguments.length),(0,O.Wj)("Reference.setPriority","onComplete",t,!0);const i=function N1e(n,e){n=(0,O.m9)(n),_1("setPriority",n._path),OD("setPriority",e,!1);const t=new O.BH;return UD(n._repo,zi(n._path,".priority"),e,null,t.wrapCallback(()=>{})),t.promise}(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}push(e,t){(0,O.Dv)("Reference.push",0,2,arguments.length),(0,O.Wj)("Reference.push","onComplete",t,!0);const i=function z1e(n,e){n=(0,O.m9)(n),_1("push",n._path),na("push",e,n._path,!0);const t=CF(n._repo),i=jse(t),r=I0(n,i),s=I0(n,i);let l;return l=null!=e?KD(s,e).then(()=>s):Promise.resolve(s),r.then=l.then.bind(l),r.catch=l.then.bind(l,void 0),r}(this._delegate,e),r=i.then(l=>new G2(this.database,l));t&&r.then(()=>t(null),l=>t(l));const s=new G2(this.database,i);return s.then=r.then.bind(r),s.catch=r.catch.bind(r,void 0),s}onDisconnect(){return _1("Reference.onDisconnect",this._delegate._path),new Doe(new IF(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class vp{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:foe,forceLongPolling:hoe}}useEmulator(e,t,i={}){!function GF(n,e,t,i={}){(n=(0,O.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Jo("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&Jo('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Y9(Y9.OWNER);else if(i.mockUserToken){const l="string"==typeof i.mockUserToken?i.mockUserToken:(0,O.Sg)(i.mockUserToken,n.app.options.projectId);s=new Y9(l)}!function aoe(n,e,t,i){n.repoInfo_=new YA(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),i&&(n.authTokenProvider_=i)}(r,e,t,s)}(this._delegate,e,t,i)}ref(e){if((0,O.Dv)("database.ref",0,1,arguments.length),e instanceof G2){const t=VF(this._delegate,e.toString());return new G2(this,t)}{const t=TF(this._delegate,e);return new G2(this,t)}}refFromURL(e){(0,O.Dv)("database.refFromURL",1,1,arguments.length);const i=VF(this._delegate,e);return new G2(this,i)}goOffline(){return(0,O.Dv)("database.goOffline",0,0,arguments.length),function poe(n){(n=(0,O.m9)(n))._checkNotDeleted("goOffline"),xF(n._repo)}(this._delegate)}goOnline(){return(0,O.Dv)("database.goOnline",0,0,arguments.length),function moe(n){(n=(0,O.m9)(n))._checkNotDeleted("goOnline"),function A1e(n){n.persistentConnection_&&n.persistentConnection_.resume(yF)}(n._repo)}(this._delegate)}}vp.ServerValue={TIMESTAMP:function yoe(){return _oe}(),increment:n=>function Coe(n){return{".sv":{increment:n}}}(n)};var Toe=Object.freeze({__proto__:null,initStandalone:function Ioe({app:n,url:e,version:t,customAuthImpl:i,namespace:r,nodeAdmin:s=!1}){NR(t);const l=new ms.zt("auth-internal",new ms.H0("database-standalone"));return l.setComponent(new ms.wA("auth-internal",()=>i,"PRIVATE")),{instance:new vp(BF(n,l,void 0,e,s),n),namespace:r}}});const Voe=vp.ServerValue;function $F(n){return null==n}function qF(n){return"function"==typeof n.set}function WF(n,e){return qF(e)?e:n.ref(e)}function YF(n,e){if(function zoe(n){return"string"==typeof n}(n))return e.stringCase();if(qF(n))return e.firebaseCase();if(function koe(n){return"function"==typeof n.exportVal}(n))return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function _p(n,e,t="on",i=uc.z){return new Di.y(r=>{let s=null;return s=n[t](e,(l,d)=>{i.schedule(()=>{r.next({snapshot:l,prevKey:d})}),"once"===t&&i.schedule(()=>r.complete())},l=>{i.schedule(()=>r.error(l))}),"on"===t?{unsubscribe(){null!=s&&n.off(e,s)}}:{unsubscribe(){}}}).pipe((0,Tt.U)(r=>{const{snapshot:s,prevKey:l}=r;let d=null;return s.exists()&&(d=s.key),{type:e,payload:s,prevKey:l,key:d}}),(0,gg.B)())}function KF(n,e){const t=n.length;for(let i=0;i<t;i++)if(n[i].payload.key===e)return i;return-1}function Poe(n,e){const{payload:t,prevKey:i,key:r}=e,s=KF(n,r),l=function Roe(n,e){if($F(e))return 0;{const t=KF(n,e);return-1===t?n.length:t+1}}(n,i);switch(e.type){case"value":if(e.payload&&e.payload.exists()){let d=null;e.payload.forEach(p=>{const v={payload:p,type:"value",prevKey:d,key:p.key};return d=p.key,n=[...n,v],!1})}return n;case"child_added":if(s>-1){const d=n[s-1];(d&&d.key||null)!==i&&(n=n.filter(p=>p.payload.key!==t.key)).splice(l,0,e)}else{if(null==i)return[e,...n];(n=n.slice()).splice(l,0,e)}return n;case"child_removed":return n.filter(d=>d.payload.key!==t.key);case"child_changed":return n.map(d=>d.payload.key===r?e:d);case"child_moved":if(s>-1){const d=n.splice(s,1)[0];return(n=n.slice()).splice(l,0,d),n}return n;default:return n}}function ZF(n){return($F(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function QF(n,e,t){return function Noe(n,e,t){return _p(n,"value","once",t).pipe(ni(i=>{const r=[ct(i)];return e.forEach(s=>r.push(_p(n,s,"on",t))),(0,s2.T)(...r).pipe(Ro(Poe,[]))}),V6())}(n,e=ZF(e),t)}function XF(n,e,t){const i=(e=ZF(e)).map(r=>_p(n,r,"on",t));return(0,s2.T)(...i)}function JF(n,e){return function(i,r){return YF(i,{stringCase:()=>n.child(i)[e](r),firebaseCase:()=>i[e](r),snapshotCase:()=>i.ref[e](r)})}}function Uoe(n){return function(t){return t?YF(t,{stringCase:()=>n.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):n.remove()}}function eO(n,e){return function(){return _p(n,"value","on",e)}}!function Hoe(n){n.INTERNAL.registerComponent(new ms.wA("database-compat",(e,{instanceIdentifier:t})=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("database").getImmediate({identifier:t});return new vp(r,i)},"PUBLIC").setServiceProps({Reference:G2,Query:os,Database:vp,DataSnapshot:k3,enableLogging:goe,INTERNAL:Toe,ServerValue:Voe}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.2.10")}(x7.Z);const $oe=new c.OlP("angularfire2.realtimeDatabaseURL"),qoe=new c.OlP("angularfire2.database.use-emulator");let Woe=(()=>{class n{constructor(t,i,r,s,l,d,p,v,C,w,A,I,k,j,X){this.schedulers=d;const xe=p,ke=(0,pi.on)(t,l,i);v&&g8(ke,l,C,A,I,k,w,j),this.database=(0,pi.cc)(`${ke.name}.database.${r}`,"AngularFireDatabase",ke.name,()=>{const qe=l.runOutsideAngular(()=>ke.database(r||void 0));return xe&&qe.useEmulator(...xe),qe},[xe])}list(t,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>WF(this.database,t));let s=r;return i&&(s=i(r)),function Goe(n,e){const t=e.schedulers.outsideAngular,i=e.schedulers.ngZone.run(()=>n.ref);return{query:n,update:JF(i,"update"),set:JF(i,"set"),push:r=>i.push(r),remove:Uoe(i),snapshotChanges:r=>QF(n,r,t).pipe(fn.iC),stateChanges:r=>XF(n,r,t).pipe(fn.iC),auditTrail:r=>function Foe(n,e,t){return function Boe(n,e,t){return function Ooe(n,e){return _p(n,"value","on",e).pipe((0,Tt.U)(t=>{let i;return t.payload.forEach(r=>(i=r.key,!1)),{data:t,lastKeyToLoad:i}}))}(n,t).pipe(function Ore(...n){const e=(0,Do.jO)(n);return(0,Li.e)((t,i)=>{const r=n.length,s=new Array(r);let l=n.map(()=>!1),d=!1;for(let p=0;p<r;p++)(0,G1.Xf)(n[p]).subscribe((0,ti.x)(i,v=>{s[p]=v,!d&&!l[p]&&(l[p]=!0,(d=l.every(qa.y))&&(l=null))},BA.Z));t.subscribe((0,ti.x)(i,p=>{if(d){const v=[p,...s];i.next(e?e(...v):v)}}))})}(e),(0,Tt.U)(([r,s])=>{const l=r.lastKeyToLoad,d=s.map(p=>p.key);return{actions:s,lastKeyToLoad:l,loadedKeys:d}}),function Bre(n){return(0,Li.e)((e,t)=>{let i=!1,r=0;e.subscribe((0,ti.x)(t,s=>(i||(i=!n(s,r++)))&&t.next(s)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,Tt.U)(r=>r.actions))}(n,XF(n,e).pipe(Ro((r,s)=>[...r,s],[])),t)}(n,r,t).pipe(fn.iC),valueChanges:(r,s)=>QF(n,r,t).pipe((0,Tt.U)(d=>d.map(p=>s&&s.idField?Object.assign(Object.assign({},p.payload.val()),{[s.idField]:p.key}):p.payload.val())),fn.iC)}}(s,this)}object(t){return function joe(n,e){return{query:n,snapshotChanges:()=>eO(n,e.schedulers.outsideAngular)().pipe(fn.iC),update:t=>n.ref.update(t),set:t=>n.ref.set(t),remove:()=>n.ref.remove(),valueChanges:()=>eO(n,e.schedulers.outsideAngular)().pipe(fn.iC,(0,Tt.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>WF(this.database,t)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(pi.Dh),c.LFG(pi.xv,8),c.LFG($oe,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(fn.HU),c.LFG(qoe,8),c.LFG(o2,8),c.LFG(h8,8),c.LFG(bh,8),c.LFG(wh,8),c.LFG(p8,8),c.LFG(xh,8),c.LFG(m8,8),c.LFG(V4,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Yoe=(()=>{class n{constructor(){Ja.Z.registerVersion("angularfire",fn.q4.full,"rtdb-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Woe]}),n})();const tO_firebase={apiKey:"AIzaSyAImWt4kfyBP1oO0LhN1vdfE2XGXrXY5P8",authDomain:"note-34e9a.firebaseapp.com",projectId:"note-34e9a",storageBucket:"note-34e9a.appspot.com",messagingSenderId:"765721203859",appId:"1:765721203859:web:4af061aa0f534386ba2966"};function nO(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Ct(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?nO(Object(t),!0).forEach(function(i){Hr(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):nO(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function MC(n){return(MC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function iO(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function Hr(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function XD(n,e){return function Joe(n){if(Array.isArray(n))return n}(n)||function tae(n,e){var t=null==n?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var l,d,i=[],r=!0,s=!1;try{for(t=t.call(n);!(r=(l=t.next()).done)&&(i.push(l.value),!e||i.length!==e);r=!0);}catch(p){s=!0,d=p}finally{try{!r&&null!=t.return&&t.return()}finally{if(s)throw d}}return i}}(n,e)||rO(n,e)||function iae(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cp(n){return function Xoe(n){if(Array.isArray(n))return JD(n)}(n)||function eae(n){if(typeof Symbol<"u"&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||rO(n)||function nae(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rO(n,e){if(n){if("string"==typeof n)return JD(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return JD(n,e)}}function JD(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}var sO=function(){},eL={},oO={},aO=null,cO={mark:sO,measure:sO};try{typeof window<"u"&&(eL=window),typeof document<"u"&&(oO=document),typeof MutationObserver<"u"&&(aO=MutationObserver),typeof performance<"u"&&(cO=performance)}catch{}var xC,SC,EC,AC,DC,lO=(eL.navigator||{}).userAgent,uO=void 0===lO?"":lO,N3=eL,bi=oO,dO=aO,wC=cO,wc=!!bi.documentElement&&!!bi.head&&"function"==typeof bi.addEventListener&&"function"==typeof bi.createElement,fO=~uO.indexOf("MSIE")||~uO.indexOf("Trident/"),xc="___FONT_AWESOME___",pO="svg-inline--fa",T0="data-fa-i2svg",nL="data-fa-pseudo-element",iL="data-prefix",rL="data-icon",mO="fontawesome-i2svg",aae=["HTML","HEAD","STYLE","SCRIPT"],gO=function(){try{return!0}catch{return!1}}(),wi="classic",tr="sharp",sL=[wi,tr];function Mp(n){return new Proxy(n,{get:function(t,i){return i in t?t[i]:t[wi]}})}var bp=Mp((Hr(xC={},wi,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),Hr(xC,tr,{fa:"solid",fass:"solid","fa-solid":"solid"}),xC)),wp=Mp((Hr(SC={},wi,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),Hr(SC,tr,{solid:"fass"}),SC)),xp=Mp((Hr(EC={},wi,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),Hr(EC,tr,{fass:"fa-solid"}),EC)),cae=Mp((Hr(AC={},wi,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),Hr(AC,tr,{"fa-solid":"fass"}),AC)),lae=/fa(s|r|l|t|d|b|k|ss)?[\-\ ]/,vO="fa-layers-text",uae=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,dae=Mp((Hr(DC={},wi,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),Hr(DC,tr,{900:"fass"}),DC)),_O=[1,2,3,4,5,6,7,8,9,10],fae=_O.concat([11,12,13,14,15,16,17,18,19,20]),hae=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Sp=new Set;Object.keys(wp[wi]).map(Sp.add.bind(Sp)),Object.keys(wp[tr]).map(Sp.add.bind(Sp));var pae=[].concat(sL,Cp(Sp),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul","duotone-group","swap-opacity","primary","secondary"]).concat(_O.map(function(n){return"".concat(n,"x")})).concat(fae.map(function(n){return"w-".concat(n)})),Ep=N3.FontAwesomeConfig||{};bi&&"function"==typeof bi.querySelector&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(n){var e=XD(n,2),i=e[1],r=function gae(n){return""===n||"false"!==n&&("true"===n||n)}(function mae(n){var e=bi.querySelector("script["+n+"]");if(e)return e.getAttribute(n)}(e[0]));null!=r&&(Ep[i]=r)});var yO={styleDefault:"solid",familyDefault:"classic",cssPrefix:"fa",replacementClass:pO,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Ep.familyPrefix&&(Ep.cssPrefix=Ep.familyPrefix);var lf=Ct(Ct({},yO),Ep);lf.autoReplaceSvg||(lf.observeMutations=!1);var kt={};Object.keys(yO).forEach(function(n){Object.defineProperty(kt,n,{enumerable:!0,set:function(t){lf[n]=t,Ap.forEach(function(i){return i(kt)})},get:function(){return lf[n]}})}),Object.defineProperty(kt,"familyPrefix",{enumerable:!0,set:function(e){lf.cssPrefix=e,Ap.forEach(function(t){return t(kt)})},get:function(){return lf.cssPrefix}}),N3.FontAwesomeConfig=kt;var Ap=[],ia={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function Dp(){for(var n=12,e="";n-- >0;)e+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return e}function uf(n){for(var e=[],t=(n||[]).length>>>0;t--;)e[t]=n[t];return e}function oL(n){return n.classList?uf(n.classList):(n.getAttribute("class")||"").split(" ").filter(function(e){return e})}function CO(n){return"".concat(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function LC(n){return Object.keys(n||{}).reduce(function(e,t){return e+"".concat(t,": ").concat(n[t].trim(),";")},"")}function aL(n){return n.size!==ia.size||n.x!==ia.x||n.y!==ia.y||n.rotate!==ia.rotate||n.flipX||n.flipY}function MO(){var n="fa",e=pO,t=kt.cssPrefix,i=kt.replacementClass,r=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    transition-delay: 0s;\n    transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';if(t!==n||i!==e){var s=new RegExp("\\.".concat(n,"\\-"),"g"),l=new RegExp("\\--".concat(n,"\\-"),"g"),d=new RegExp("\\.".concat(e),"g");r=r.replace(s,".".concat(t,"-")).replace(l,"--".concat(t,"-")).replace(d,".".concat(i))}return r}var bO=!1;function cL(){kt.autoAddCss&&!bO&&(function yae(n){if(n&&wc){var e=bi.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=n;for(var t=bi.head.childNodes,i=null,r=t.length-1;r>-1;r--){var s=t[r],l=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(l)>-1&&(i=s)}bi.head.insertBefore(e,i)}}(MO()),bO=!0)}var Sae={mixout:function(){return{dom:{css:MO,insertCss:cL}}},hooks:function(){return{beforeDOMElementCreation:function(){cL()},beforeI2svg:function(){cL()}}}},Sc=N3||{};Sc[xc]||(Sc[xc]={}),Sc[xc].styles||(Sc[xc].styles={}),Sc[xc].hooks||(Sc[xc].hooks={}),Sc[xc].shims||(Sc[xc].shims=[]);var co=Sc[xc],wO=[],IC=!1;function Aae(n){!wc||(IC?setTimeout(n,0):wO.push(n))}function Lp(n){var e=n.tag,t=n.attributes,i=void 0===t?{}:t,r=n.children,s=void 0===r?[]:r;return"string"==typeof n?CO(n):"<".concat(e," ").concat(function Mae(n){return Object.keys(n||{}).reduce(function(e,t){return e+"".concat(t,'="').concat(CO(n[t]),'" ')},"").trim()}(i),">").concat(s.map(Lp).join(""),"</").concat(e,">")}function xO(n,e,t){if(n&&n[e]&&n[e][t])return{prefix:e,iconName:t,icon:n[e][t]}}wc&&((IC=(bi.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(bi.readyState))||bi.addEventListener("DOMContentLoaded",function n(){bi.removeEventListener("DOMContentLoaded",n),IC=1,wO.map(function(e){return e()})}));var lL=function(e,t,i,r){var p,v,C,s=Object.keys(e),l=s.length,d=void 0!==r?function(e,t){return function(i,r,s,l){return e.call(t,i,r,s,l)}}(t,r):t;for(void 0===i?(p=1,C=e[s[0]]):(p=0,C=i);p<l;p++)C=d(C,e[v=s[p]],v,e);return C};function uL(n){var e=function Lae(n){for(var e=[],t=0,i=n.length;t<i;){var r=n.charCodeAt(t++);if(r>=55296&&r<=56319&&t<i){var s=n.charCodeAt(t++);56320==(64512&s)?e.push(((1023&r)<<10)+(1023&s)+65536):(e.push(r),t--)}else e.push(r)}return e}(n);return 1===e.length?e[0].toString(16):null}function SO(n){return Object.keys(n).reduce(function(e,t){var i=n[t];return i.icon?e[i.iconName]=i.icon:e[t]=i,e},{})}function dL(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=t.skipHooks,r=void 0!==i&&i,s=SO(e);"function"!=typeof co.hooks.addPack||r?co.styles[n]=Ct(Ct({},co.styles[n]||{}),s):co.hooks.addPack(n,SO(e)),"fas"===n&&dL("fa",e)}var TC,VC,HC,df=co.styles,Tae=co.shims,Vae=(Hr(TC={},wi,Object.values(xp[wi])),Hr(TC,tr,Object.values(xp[tr])),TC),fL=null,EO={},AO={},DO={},LO={},IO={},Hae=(Hr(VC={},wi,Object.keys(bp[wi])),Hr(VC,tr,Object.keys(bp[tr])),VC);function kae(n,e){var t=e.split("-"),i=t[0],r=t.slice(1).join("-");return i!==n||""===r||function zae(n){return~pae.indexOf(n)}(r)?null:r}var TO=function(){var e=function(s){return lL(df,function(l,d,p){return l[p]=lL(d,s,{}),l},{})};EO=e(function(r,s,l){return s[3]&&(r[s[3]]=l),s[2]&&s[2].filter(function(p){return"number"==typeof p}).forEach(function(p){r[p.toString(16)]=l}),r}),AO=e(function(r,s,l){return r[l]=l,s[2]&&s[2].filter(function(p){return"string"==typeof p}).forEach(function(p){r[p]=l}),r}),IO=e(function(r,s,l){var d=s[2];return r[l]=l,d.forEach(function(p){r[p]=l}),r});var t="far"in df||kt.autoFetchSvg,i=lL(Tae,function(r,s){var l=s[0],d=s[1],p=s[2];return"far"===d&&!t&&(d="fas"),"string"==typeof l&&(r.names[l]={prefix:d,iconName:p}),"number"==typeof l&&(r.unicodes[l.toString(16)]={prefix:d,iconName:p}),r},{names:{},unicodes:{}});DO=i.names,LO=i.unicodes,fL=zC(kt.styleDefault,{family:kt.familyDefault})};function hL(n,e){return(EO[n]||{})[e]}function H0(n,e){return(IO[n]||{})[e]}function VO(n){return DO[n]||{prefix:null,iconName:null}}function P3(){return fL}function zC(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=e.family,i=void 0===t?wi:t,r=bp[i][n],s=wp[i][n]||wp[i][r],l=n in co.styles?n:null;return s||l||null}(function _ae(n){Ap.push(n)})(function(n){fL=zC(n.styleDefault,{family:kt.familyDefault})}),TO();var HO=(Hr(HC={},wi,Object.keys(xp[wi])),Hr(HC,tr,Object.keys(xp[tr])),HC);function kC(n){var e,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.skipLookups,r=void 0!==i&&i,s=(Hr(e={},wi,"".concat(kt.cssPrefix,"-").concat(wi)),Hr(e,tr,"".concat(kt.cssPrefix,"-").concat(tr)),e),l=null,d=wi;(n.includes(s[wi])||n.some(function(v){return HO[wi].includes(v)}))&&(d=wi),(n.includes(s[tr])||n.some(function(v){return HO[tr].includes(v)}))&&(d=tr);var p=n.reduce(function(v,C){var w=kae(kt.cssPrefix,C);if(df[C]?(C=Vae[d].includes(C)?cae[d][C]:C,l=C,v.prefix=C):Hae[d].indexOf(C)>-1?(l=C,v.prefix=zC(C,{family:d})):w?v.iconName=w:C!==kt.replacementClass&&C!==s[wi]&&C!==s[tr]&&v.rest.push(C),!r&&v.prefix&&v.iconName){var A="fa"===l?VO(v.iconName):{},I=H0(v.prefix,v.iconName);A.prefix&&(l=null),v.iconName=A.iconName||I||v.iconName,v.prefix=A.prefix||v.prefix,"far"===v.prefix&&!df.far&&df.fas&&!kt.autoFetchSvg&&(v.prefix="fas")}return v},{prefix:null,iconName:null,rest:[]});return(n.includes("fa-brands")||n.includes("fab"))&&(p.prefix="fab"),(n.includes("fa-duotone")||n.includes("fad"))&&(p.prefix="fad"),!p.prefix&&d===tr&&(df.fass||kt.autoFetchSvg)&&(p.prefix="fass",p.iconName=H0(p.prefix,p.iconName)||p.iconName),("fa"===p.prefix||"fa"===l)&&(p.prefix=P3()||"fas"),p}var Pae=function(){function n(){(function Koe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.definitions={}}return function Zoe(n,e,t){e&&iO(n.prototype,e),t&&iO(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"add",value:function(){for(var t=this,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];var l=r.reduce(this._pullDefinitions,{});Object.keys(l).forEach(function(d){t.definitions[d]=Ct(Ct({},t.definitions[d]||{}),l[d]),dL(d,l[d]);var p=xp[wi][d];p&&dL(p,l[d]),TO()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(t,i){var r=i.prefix&&i.iconName&&i.icon?{0:i}:i;return Object.keys(r).map(function(s){var l=r[s],d=l.prefix,p=l.iconName,v=l.icon,C=v[2];t[d]||(t[d]={}),C.length>0&&C.forEach(function(w){"string"==typeof w&&(t[d][w]=v)}),t[d][p]=v}),t}}]),n}(),zO=[],ff={},hf={},Fae=Object.keys(hf);function mL(n,e){for(var t=arguments.length,i=new Array(t>2?t-2:0),r=2;r<t;r++)i[r-2]=arguments[r];var s=ff[n]||[];return s.forEach(function(l){e=l.apply(null,[e].concat(i))}),e}function z0(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];var r=ff[n]||[];r.forEach(function(s){s.apply(null,t)})}function Ec(){var n=arguments[0],e=Array.prototype.slice.call(arguments,1);return hf[n]?hf[n].apply(null,e):void 0}function gL(n){"fa"===n.prefix&&(n.prefix="fas");var e=n.iconName,t=n.prefix||P3();if(e)return e=H0(t,e)||e,xO(kO.definitions,t,e)||xO(co.styles,t,e)}var kO=new Pae,Uae={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return wc?(z0("beforeI2svg",e),Ec("pseudoElements2svg",e),Ec("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoReplaceSvgRoot;!1===kt.autoReplaceSvg&&(kt.autoReplaceSvg=!0),kt.observeMutations=!0,Aae(function(){jae({autoReplaceSvgRoot:t}),z0("watch",e)})}},j2={noAuto:function(){kt.autoReplaceSvg=!1,kt.observeMutations=!1,z0("noAuto")},config:kt,dom:Uae,parse:{icon:function(e){if(null===e)return null;if("object"===MC(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:H0(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var t=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],i=zC(e[0]);return{prefix:i,iconName:H0(i,t)||t}}if("string"==typeof e&&(e.indexOf("".concat(kt.cssPrefix,"-"))>-1||e.match(lae))){var r=kC(e.split(" "),{skipLookups:!0});return{prefix:r.prefix||P3(),iconName:H0(r.prefix,r.iconName)||r.iconName}}if("string"==typeof e){var s=P3();return{prefix:s,iconName:H0(s,e)||e}}}},library:kO,findIconDefinition:gL,toHtml:Lp},jae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoReplaceSvgRoot,i=void 0===t?bi:t;(Object.keys(co.styles).length>0||kt.autoFetchSvg)&&wc&&kt.autoReplaceSvg&&j2.dom.i2svg({node:i})};function NC(n,e){return Object.defineProperty(n,"abstract",{get:e}),Object.defineProperty(n,"html",{get:function(){return n.abstract.map(function(i){return Lp(i)})}}),Object.defineProperty(n,"node",{get:function(){if(wc){var i=bi.createElement("div");return i.innerHTML=n.html,i.children}}}),n}function vL(n){var e=n.icons,t=e.main,i=e.mask,r=n.prefix,s=n.iconName,l=n.transform,d=n.symbol,p=n.title,v=n.maskId,C=n.titleId,w=n.extra,A=n.watchable,I=void 0!==A&&A,k=i.found?i:t,j=k.width,X=k.height,xe="fak"===r,ke=[kt.replacementClass,s?"".concat(kt.cssPrefix,"-").concat(s):""].filter(function(ir){return-1===w.classes.indexOf(ir)}).filter(function(ir){return""!==ir||!!ir}).concat(w.classes).join(" "),qe={children:[],attributes:Ct(Ct({},w.attributes),{},{"data-prefix":r,"data-icon":s,class:ke,role:w.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(j," ").concat(X)})},Ze=xe&&!~w.classes.indexOf("fa-fw")?{width:"".concat(j/X*16*.0625,"em")}:{};I&&(qe.attributes[T0]=""),p&&(qe.children.push({tag:"title",attributes:{id:qe.attributes["aria-labelledby"]||"title-".concat(C||Dp())},children:[p]}),delete qe.attributes.title);var dt=Ct(Ct({},qe),{},{prefix:r,iconName:s,main:t,mask:i,maskId:v,transform:l,symbol:d,styles:Ct(Ct({},Ze),w.styles)}),bt=i.found&&t.found?Ec("generateAbstractMask",dt)||{children:[],attributes:{}}:Ec("generateAbstractIcon",dt)||{children:[],attributes:{}},Si=bt.attributes;return dt.children=bt.children,dt.attributes=Si,d?function qae(n){var t=n.iconName,i=n.children,r=n.attributes,s=n.symbol,l=!0===s?"".concat(n.prefix,"-").concat(kt.cssPrefix,"-").concat(t):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:Ct(Ct({},r),{},{id:l}),children:i}]}]}(dt):function $ae(n){var e=n.children,t=n.main,i=n.mask,r=n.attributes,s=n.styles,l=n.transform;if(aL(l)&&t.found&&!i.found){var v={x:t.width/t.height/2,y:.5};r.style=LC(Ct(Ct({},s),{},{"transform-origin":"".concat(v.x+l.x/16,"em ").concat(v.y+l.y/16,"em")}))}return[{tag:"svg",attributes:r,children:e}]}(dt)}function NO(n){var e=n.content,t=n.width,i=n.height,r=n.transform,s=n.title,l=n.extra,d=n.watchable,p=void 0!==d&&d,v=Ct(Ct(Ct({},l.attributes),s?{title:s}:{}),{},{class:l.classes.join(" ")});p&&(v[T0]="");var C=Ct({},l.styles);aL(r)&&(C.transform=function wae(n){var e=n.transform,t=n.width,r=n.height,s=void 0===r?16:r,l=n.startCentered,d=void 0!==l&&l,p="";return p+=d&&fO?"translate(".concat(e.x/16-(void 0===t?16:t)/2,"em, ").concat(e.y/16-s/2,"em) "):d?"translate(calc(-50% + ".concat(e.x/16,"em), calc(-50% + ").concat(e.y/16,"em)) "):"translate(".concat(e.x/16,"em, ").concat(e.y/16,"em) "),(p+="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "))+"rotate(".concat(e.rotate,"deg) ")}({transform:r,startCentered:!0,width:t,height:i}),C["-webkit-transform"]=C.transform);var w=LC(C);w.length>0&&(v.style=w);var A=[];return A.push({tag:"span",attributes:v,children:[e]}),s&&A.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),A}function Wae(n){var e=n.content,t=n.title,i=n.extra,r=Ct(Ct(Ct({},i.attributes),t?{title:t}:{}),{},{class:i.classes.join(" ")}),s=LC(i.styles);s.length>0&&(r.style=s);var l=[];return l.push({tag:"span",attributes:r,children:[e]}),t&&l.push({tag:"span",attributes:{class:"sr-only"},children:[t]}),l}var _L=co.styles;function yL(n){var e=n[0],t=n[1],s=XD(n.slice(4),1)[0];return{found:!0,width:e,height:t,icon:Array.isArray(s)?{tag:"g",attributes:{class:"".concat(kt.cssPrefix,"-").concat("duotone-group")},children:[{tag:"path",attributes:{class:"".concat(kt.cssPrefix,"-").concat("secondary"),fill:"currentColor",d:s[0]}},{tag:"path",attributes:{class:"".concat(kt.cssPrefix,"-").concat("primary"),fill:"currentColor",d:s[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:s}}}}var Yae={found:!1,width:512,height:512};function CL(n,e){var t=e;return"fa"===e&&null!==kt.styleDefault&&(e=P3()),new Promise(function(i,r){if(Ec("missingIconAbstract"),"fa"===t){var l=VO(n)||{};n=l.iconName||n,e=l.prefix||e}if(n&&e&&_L[e]&&_L[e][n])return i(yL(_L[e][n]));(function Kae(n,e){!gO&&!kt.showMissingIcons&&n&&console.error('Icon with name "'.concat(n,'" and prefix "').concat(e,'" is missing.'))})(n,e),i(Ct(Ct({},Yae),{},{icon:kt.showMissingIcons&&n&&Ec("missingIconAbstract")||{}}))})}var RO=function(){},ML=kt.measurePerformance&&wC&&wC.mark&&wC.measure?wC:{mark:RO,measure:RO},Ip='FA "6.2.0"',bL_begin=function(e){return ML.mark("".concat(Ip," ").concat(e," begins")),function(){return function(e){ML.mark("".concat(Ip," ").concat(e," ends")),ML.measure("".concat(Ip," ").concat(e),"".concat(Ip," ").concat(e," begins"),"".concat(Ip," ").concat(e," ends"))}(e)}},RC=function(){};function FO(n){return"string"==typeof(n.getAttribute?n.getAttribute(T0):null)}function ece(n){return bi.createElementNS("http://www.w3.org/2000/svg",n)}function tce(n){return bi.createElement(n)}function OO(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=e.ceFn,i=void 0===t?"svg"===n.tag?ece:tce:t;if("string"==typeof n)return bi.createTextNode(n);var r=i(n.tag);Object.keys(n.attributes||[]).forEach(function(l){r.setAttribute(l,n.attributes[l])});var s=n.children||[];return s.forEach(function(l){r.appendChild(OO(l,{ceFn:i}))}),r}var PC={replace:function(e){var t=e[0];if(t.parentNode)if(e[1].forEach(function(r){t.parentNode.insertBefore(OO(r),t)}),null===t.getAttribute(T0)&&kt.keepOriginalSource){var i=bi.createComment(function nce(n){var e=" ".concat(n.outerHTML," ");return"".concat(e,"Font Awesome fontawesome.com ")}(t));t.parentNode.replaceChild(i,t)}else t.remove()},nest:function(e){var t=e[0],i=e[1];if(~oL(t).indexOf(kt.replacementClass))return PC.replace(e);var r=new RegExp("".concat(kt.cssPrefix,"-.*"));if(delete i[0].attributes.id,i[0].attributes.class){var s=i[0].attributes.class.split(" ").reduce(function(d,p){return p===kt.replacementClass||p.match(r)?d.toSvg.push(p):d.toNode.push(p),d},{toNode:[],toSvg:[]});i[0].attributes.class=s.toSvg.join(" "),0===s.toNode.length?t.removeAttribute("class"):t.setAttribute("class",s.toNode.join(" "))}var l=i.map(function(d){return Lp(d)}).join("\n");t.setAttribute(T0,""),t.innerHTML=l}};function BO(n){n()}function UO(n,e){var t="function"==typeof e?e:RC;if(0===n.length)t();else{var i=BO;"async"===kt.mutateApproach&&(i=N3.requestAnimationFrame||BO),i(function(){var r=function Jae(){return!0===kt.autoReplaceSvg?PC.replace:PC[kt.autoReplaceSvg]||PC.replace}(),s=bL_begin("mutate");n.map(r),s(),t()})}}var wL=!1;function GO(){wL=!0}function xL(){wL=!1}var FC=null;function jO(n){if(dO&&kt.observeMutations){var e=n.treeCallback,t=void 0===e?RC:e,i=n.nodeCallback,r=void 0===i?RC:i,s=n.pseudoElementsCallback,l=void 0===s?RC:s,d=n.observeMutationsRoot,p=void 0===d?bi:d;FC=new dO(function(v){if(!wL){var C=P3();uf(v).forEach(function(w){if("childList"===w.type&&w.addedNodes.length>0&&!FO(w.addedNodes[0])&&(kt.searchPseudoElements&&l(w.target),t(w.target)),"attributes"===w.type&&w.target.parentNode&&kt.searchPseudoElements&&l(w.target.parentNode),"attributes"===w.type&&FO(w.target)&&~hae.indexOf(w.attributeName))if("class"===w.attributeName&&function Qae(n){var e=n.getAttribute?n.getAttribute(iL):null,t=n.getAttribute?n.getAttribute(rL):null;return e&&t}(w.target)){var A=kC(oL(w.target)),k=A.iconName;w.target.setAttribute(iL,A.prefix||C),k&&w.target.setAttribute(rL,k)}else(function Xae(n){return n&&n.classList&&n.classList.contains&&n.classList.contains(kt.replacementClass)})(w.target)&&r(w.target)})}}),wc&&FC.observe(p,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function rce(n){var e=n.getAttribute("style"),t=[];return e&&(t=e.split(";").reduce(function(i,r){var s=r.split(":"),l=s[0],d=s.slice(1);return l&&d.length>0&&(i[l]=d.join(":").trim()),i},{})),t}function sce(n){var e=n.getAttribute("data-prefix"),t=n.getAttribute("data-icon"),i=void 0!==n.innerText?n.innerText.trim():"",r=kC(oL(n));return r.prefix||(r.prefix=P3()),e&&t&&(r.prefix=e,r.iconName=t),r.iconName&&r.prefix||(r.prefix&&i.length>0&&(r.iconName=function Nae(n,e){return(AO[n]||{})[e]}(r.prefix,n.innerText)||hL(r.prefix,uL(n.innerText))),!r.iconName&&kt.autoFetchSvg&&n.firstChild&&n.firstChild.nodeType===Node.TEXT_NODE&&(r.iconName=n.firstChild.data)),r}function oce(n){var e=uf(n.attributes).reduce(function(r,s){return"class"!==r.name&&"style"!==r.name&&(r[s.name]=s.value),r},{}),t=n.getAttribute("title"),i=n.getAttribute("data-fa-title-id");return kt.autoA11y&&(t?e["aria-labelledby"]="".concat(kt.replacementClass,"-title-").concat(i||Dp()):(e["aria-hidden"]="true",e.focusable="false")),e}function $O(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},t=sce(n),i=t.iconName,r=t.prefix,s=t.rest,l=oce(n),d=mL("parseNodeAttributes",{},n),p=e.styleParser?rce(n):[];return Ct({iconName:i,title:n.getAttribute("title"),titleId:n.getAttribute("data-fa-title-id"),prefix:r,transform:ia,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:p,attributes:l}},d)}var cce=co.styles;function qO(n){var e="nest"===kt.autoReplaceSvg?$O(n,{styleParser:!1}):$O(n);return~e.extra.classes.indexOf(vO)?Ec("generateLayersText",n,e):Ec("generateSvgReplacementMutation",n,e)}var F3=new Set;function WO(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!wc)return Promise.resolve();var t=bi.documentElement.classList,i=function(w){return t.add("".concat(mO,"-").concat(w))},r=function(w){return t.remove("".concat(mO,"-").concat(w))},s=kt.autoFetchSvg?F3:sL.map(function(C){return"fa-".concat(C)}).concat(Object.keys(cce));s.includes("fa")||s.push("fa");var l=[".".concat(vO,":not([").concat(T0,"])")].concat(s.map(function(C){return".".concat(C,":not([").concat(T0,"])")})).join(", ");if(0===l.length)return Promise.resolve();var d=[];try{d=uf(n.querySelectorAll(l))}catch{}if(!(d.length>0))return Promise.resolve();i("pending"),r("complete");var p=bL_begin("onTree"),v=d.reduce(function(C,w){try{var A=qO(w);A&&C.push(A)}catch(I){gO||"MissingIcon"===I.name&&console.error(I)}return C},[]);return new Promise(function(C,w){Promise.all(v).then(function(A){UO(A,function(){i("active"),i("complete"),r("pending"),"function"==typeof e&&e(),p(),C()})}).catch(function(A){p(),w(A)})})}function lce(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;qO(n).then(function(t){t&&UO([t],e)})}function uce(n){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=(e||{}).icon?e:gL(e||{}),r=t.mask;return r&&(r=(r||{}).icon?r:gL(r||{})),n(i,Ct(Ct({},t),{},{mask:r}))}}sL.map(function(n){F3.add("fa-".concat(n))}),Object.keys(bp[wi]).map(F3.add.bind(F3)),Object.keys(bp[tr]).map(F3.add.bind(F3)),F3=Cp(F3);var dce=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.transform,r=void 0===i?ia:i,s=t.symbol,l=void 0!==s&&s,d=t.mask,p=void 0===d?null:d,v=t.maskId,C=void 0===v?null:v,w=t.title,A=void 0===w?null:w,I=t.titleId,k=void 0===I?null:I,j=t.classes,X=void 0===j?[]:j,xe=t.attributes,ke=void 0===xe?{}:xe,qe=t.styles,Ze=void 0===qe?{}:qe;if(e){var dt=e.prefix,bt=e.iconName,en=e.icon;return NC(Ct({type:"icon"},e),function(){return z0("beforeDOMElementCreation",{iconDefinition:e,params:t}),kt.autoA11y&&(A?ke["aria-labelledby"]="".concat(kt.replacementClass,"-title-").concat(k||Dp()):(ke["aria-hidden"]="true",ke.focusable="false")),vL({icons:{main:yL(en),mask:p?yL(p.icon):{found:!1,width:null,height:null,icon:{}}},prefix:dt,iconName:bt,transform:Ct(Ct({},ia),r),symbol:l,title:A,maskId:C,titleId:k,extra:{attributes:ke,styles:Ze,classes:X}})})}},fce={mixout:function(){return{icon:uce(dce)}},hooks:function(){return{mutationObserverCallbacks:function(t){return t.treeCallback=WO,t.nodeCallback=lce,t}}},provides:function(e){e.i2svg=function(t){var i=t.node,s=t.callback;return WO(void 0===i?bi:i,void 0===s?function(){}:s)},e.generateSvgReplacementMutation=function(t,i){var r=i.iconName,s=i.title,l=i.titleId,d=i.prefix,p=i.transform,v=i.symbol,C=i.mask,w=i.maskId,A=i.extra;return new Promise(function(I,k){Promise.all([CL(r,d),C.iconName?CL(C.iconName,C.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(j){var X=XD(j,2);I([t,vL({icons:{main:X[0],mask:X[1]},prefix:d,iconName:r,transform:p,symbol:v,maskId:w,title:s,titleId:l,extra:A,watchable:!0})])}).catch(k)})},e.generateAbstractIcon=function(t){var v,i=t.children,r=t.attributes,s=t.main,l=t.transform,p=LC(t.styles);return p.length>0&&(r.style=p),aL(l)&&(v=Ec("generateAbstractTransformGrouping",{main:s,transform:l,containerWidth:s.width,iconWidth:s.width})),i.push(v||s.icon),{children:i,attributes:r}}}},hce={mixout:function(){return{layer:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i.classes,s=void 0===r?[]:r;return NC({type:"layer"},function(){z0("beforeDOMElementCreation",{assembler:t,params:i});var l=[];return t(function(d){Array.isArray(d)?d.map(function(p){l=l.concat(p.abstract)}):l=l.concat(d.abstract)}),[{tag:"span",attributes:{class:["".concat(kt.cssPrefix,"-layers")].concat(Cp(s)).join(" ")},children:l}]})}}}},pce={mixout:function(){return{counter:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i.title,s=void 0===r?null:r,l=i.classes,d=void 0===l?[]:l,p=i.attributes,v=void 0===p?{}:p,C=i.styles,w=void 0===C?{}:C;return NC({type:"counter",content:t},function(){return z0("beforeDOMElementCreation",{content:t,params:i}),Wae({content:t.toString(),title:s,extra:{attributes:v,styles:w,classes:["".concat(kt.cssPrefix,"-layers-counter")].concat(Cp(d))}})})}}}},mce={mixout:function(){return{text:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i.transform,s=void 0===r?ia:r,l=i.title,d=void 0===l?null:l,p=i.classes,v=void 0===p?[]:p,C=i.attributes,w=void 0===C?{}:C,A=i.styles,I=void 0===A?{}:A;return NC({type:"text",content:t},function(){return z0("beforeDOMElementCreation",{content:t,params:i}),NO({content:t,transform:Ct(Ct({},ia),s),title:d,extra:{attributes:w,styles:I,classes:["".concat(kt.cssPrefix,"-layers-text")].concat(Cp(v))}})})}}},provides:function(e){e.generateLayersText=function(t,i){var r=i.title,s=i.transform,l=i.extra,d=null,p=null;if(fO){var v=parseInt(getComputedStyle(t).fontSize,10),C=t.getBoundingClientRect();d=C.width/v,p=C.height/v}return kt.autoA11y&&!r&&(l.attributes["aria-hidden"]="true"),Promise.resolve([t,NO({content:t.innerHTML,width:d,height:p,transform:s,title:r,extra:l,watchable:!0})])}}},gce=new RegExp('"',"ug"),YO=[1105920,1112319];function KO(n,e){var t="".concat("data-fa-pseudo-element-pending").concat(e.replace(":","-"));return new Promise(function(i,r){if(null!==n.getAttribute(t))return i();var l=uf(n.children).filter(function(en){return en.getAttribute(nL)===e})[0],d=N3.getComputedStyle(n,e),p=d.getPropertyValue("font-family").match(uae),v=d.getPropertyValue("font-weight"),C=d.getPropertyValue("content");if(l&&!p)return n.removeChild(l),i();if(p&&"none"!==C&&""!==C){var w=d.getPropertyValue("content"),A=~["Sharp"].indexOf(p[2])?tr:wi,I=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(p[2])?wp[A][p[2].toLowerCase()]:dae[A][v],k=function vce(n){var e=n.replace(gce,""),t=function Iae(n,e){var r,t=n.length,i=n.charCodeAt(e);return i>=55296&&i<=56319&&t>e+1&&(r=n.charCodeAt(e+1))>=56320&&r<=57343?1024*(i-55296)+r-56320+65536:i}(e,0),i=t>=YO[0]&&t<=YO[1],r=2===e.length&&e[0]===e[1];return{value:uL(r?e[0]:e),isSecondary:i||r}}(w),j=k.value,X=k.isSecondary,xe=p[0].startsWith("FontAwesome"),ke=hL(I,j),qe=ke;if(xe){var Ze=function Rae(n){var e=LO[n],t=hL("fas",n);return e||(t?{prefix:"fas",iconName:t}:null)||{prefix:null,iconName:null}}(j);Ze.iconName&&Ze.prefix&&(ke=Ze.iconName,I=Ze.prefix)}if(!ke||X||l&&l.getAttribute(iL)===I&&l.getAttribute(rL)===qe)i();else{n.setAttribute(t,qe),l&&n.removeChild(l);var dt=function ace(){return{iconName:null,title:null,titleId:null,prefix:null,transform:ia,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}(),bt=dt.extra;bt.attributes[nL]=e,CL(ke,I).then(function(en){var Si=vL(Ct(Ct({},dt),{},{icons:{main:en,mask:{prefix:null,iconName:null,rest:[]}},prefix:I,iconName:qe,extra:bt,watchable:!0})),ir=bi.createElement("svg");"::before"===e?n.insertBefore(ir,n.firstChild):n.appendChild(ir),ir.outerHTML=Si.map(function(uo){return Lp(uo)}).join("\n"),n.removeAttribute(t),i()}).catch(r)}}else i()})}function _ce(n){return Promise.all([KO(n,"::before"),KO(n,"::after")])}function yce(n){return!(n.parentNode===document.head||~aae.indexOf(n.tagName.toUpperCase())||n.getAttribute(nL)||n.parentNode&&"svg"===n.parentNode.tagName)}function ZO(n){if(wc)return new Promise(function(e,t){var i=uf(n.querySelectorAll("*")).filter(yce).map(_ce),r=bL_begin("searchPseudoElements");GO(),Promise.all(i).then(function(){r(),xL(),e()}).catch(function(){r(),xL(),t()})})}var QO=!1,XO=function(e){return e.toLowerCase().split(" ").reduce(function(i,r){var s=r.toLowerCase().split("-"),l=s[0],d=s.slice(1).join("-");if(l&&"h"===d)return i.flipX=!0,i;if(l&&"v"===d)return i.flipY=!0,i;if(d=parseFloat(d),isNaN(d))return i;switch(l){case"grow":i.size=i.size+d;break;case"shrink":i.size=i.size-d;break;case"left":i.x=i.x-d;break;case"right":i.x=i.x+d;break;case"up":i.y=i.y-d;break;case"down":i.y=i.y+d;break;case"rotate":i.rotate=i.rotate+d}return i},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},SL={x:0,y:0,width:"100%",height:"100%"};function JO(n){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return n.attributes&&(n.attributes.fill||e)&&(n.attributes.fill="black"),n}function wce(n){return"g"===n.tag?n.children:[n]}var xce={hooks:function(){return{parseNodeAttributes:function(t,i){var r=i.getAttribute("data-fa-mask"),s=r?kC(r.split(" ").map(function(l){return l.trim()})):{prefix:null,iconName:null,rest:[]};return s.prefix||(s.prefix=P3()),t.mask=s,t.maskId=i.getAttribute("data-fa-mask-id"),t}}},provides:function(e){e.generateAbstractMask=function(t){var i=t.children,r=t.attributes,s=t.main,l=t.mask,d=t.maskId,C=s.icon,A=l.icon,I=function bae(n){var e=n.transform,i=n.iconWidth,r={transform:"translate(".concat(n.containerWidth/2," 256)")},s="translate(".concat(32*e.x,", ").concat(32*e.y,") "),l="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),d="rotate(".concat(e.rotate," 0 0)");return{outer:r,inner:{transform:"".concat(s," ").concat(l," ").concat(d)},path:{transform:"translate(".concat(i/2*-1," -256)")}}}({transform:t.transform,containerWidth:l.width,iconWidth:s.width}),k={tag:"rect",attributes:Ct(Ct({},SL),{},{fill:"white"})},j=C.children?{children:C.children.map(JO)}:{},X={tag:"g",attributes:Ct({},I.inner),children:[JO(Ct({tag:C.tag,attributes:Ct(Ct({},C.attributes),I.path)},j))]},xe={tag:"g",attributes:Ct({},I.outer),children:[X]},ke="mask-".concat(d||Dp()),qe="clip-".concat(d||Dp()),Ze={tag:"mask",attributes:Ct(Ct({},SL),{},{id:ke,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[k,xe]},dt={tag:"defs",children:[{tag:"clipPath",attributes:{id:qe},children:wce(A)},Ze]};return i.push(dt,{tag:"rect",attributes:Ct({fill:"currentColor","clip-path":"url(#".concat(qe,")"),mask:"url(#".concat(ke,")")},SL)}),{children:i,attributes:r}}}};!function Oae(n,e){var t=e.mixoutsTo;zO=n,ff={},Object.keys(hf).forEach(function(i){-1===Fae.indexOf(i)&&delete hf[i]}),zO.forEach(function(i){var r=i.mixout?i.mixout():{};if(Object.keys(r).forEach(function(l){"function"==typeof r[l]&&(t[l]=r[l]),"object"===MC(r[l])&&Object.keys(r[l]).forEach(function(d){t[l]||(t[l]={}),t[l][d]=r[l][d]})}),i.hooks){var s=i.hooks();Object.keys(s).forEach(function(l){ff[l]||(ff[l]=[]),ff[l].push(s[l])})}i.provides&&i.provides(hf)})}([Sae,fce,hce,pce,mce,{hooks:function(){return{mutationObserverCallbacks:function(t){return t.pseudoElementsCallback=ZO,t}}},provides:function(e){e.pseudoElements2svg=function(t){var i=t.node;kt.searchPseudoElements&&ZO(void 0===i?bi:i)}}},{mixout:function(){return{dom:{unwatch:function(){GO(),QO=!0}}}},hooks:function(){return{bootstrap:function(){jO(mL("mutationObserverCallbacks",{}))},noAuto:function(){!function ice(){!FC||FC.disconnect()}()},watch:function(t){var i=t.observeMutationsRoot;QO?xL():jO(mL("mutationObserverCallbacks",{observeMutationsRoot:i}))}}}},{mixout:function(){return{parse:{transform:function(t){return XO(t)}}}},hooks:function(){return{parseNodeAttributes:function(t,i){var r=i.getAttribute("data-fa-transform");return r&&(t.transform=XO(r)),t}}},provides:function(e){e.generateAbstractTransformGrouping=function(t){var i=t.main,r=t.transform,l=t.iconWidth,d={transform:"translate(".concat(t.containerWidth/2," 256)")},p="translate(".concat(32*r.x,", ").concat(32*r.y,") "),v="scale(".concat(r.size/16*(r.flipX?-1:1),", ").concat(r.size/16*(r.flipY?-1:1),") "),C="rotate(".concat(r.rotate," 0 0)"),I={outer:d,inner:{transform:"".concat(p," ").concat(v," ").concat(C)},path:{transform:"translate(".concat(l/2*-1," -256)")}};return{tag:"g",attributes:Ct({},I.outer),children:[{tag:"g",attributes:Ct({},I.inner),children:[{tag:i.icon.tag,children:i.icon.children,attributes:Ct(Ct({},i.icon.attributes),I.path)}]}]}}}},xce,{provides:function(e){var t=!1;N3.matchMedia&&(t=N3.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var i=[],r={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};i.push({tag:"path",attributes:Ct(Ct({},r),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var l=Ct(Ct({},s),{},{attributeName:"opacity"}),d={tag:"circle",attributes:Ct(Ct({},r),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||d.children.push({tag:"animate",attributes:Ct(Ct({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:Ct(Ct({},l),{},{values:"1;0;1;1;0;1;"})}),i.push(d),i.push({tag:"path",attributes:Ct(Ct({},r),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:Ct(Ct({},l),{},{values:"1;0;0;0;0;1;"})}]}),t||i.push({tag:"path",attributes:Ct(Ct({},r),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:Ct(Ct({},l),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:i}}}},{hooks:function(){return{parseNodeAttributes:function(t,i){var r=i.getAttribute("data-fa-symbol");return t.symbol=null!==r&&(""===r||r),t}}}}],{mixoutsTo:j2});var Dce=j2.parse,Lce=j2.icon;const Ice=["*"],Hce=n=>{const e={"fa-spin":n.spin,"fa-pulse":n.pulse,"fa-fw":n.fixedWidth,"fa-border":n.border,"fa-inverse":n.inverse,"fa-layers-counter":n.counter,"fa-flip-horizontal":"horizontal"===n.flip||"both"===n.flip,"fa-flip-vertical":"vertical"===n.flip||"both"===n.flip,[`fa-${n.size}`]:null!==n.size,[`fa-rotate-${n.rotate}`]:null!==n.rotate,[`fa-pull-${n.pull}`]:null!==n.pull,[`fa-stack-${n.stackItemSize}`]:null!=n.stackItemSize};return Object.keys(e).map(t=>e[t]?t:null).filter(t=>t)};let EL,Nce=(()=>{class n{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Rce=(()=>{class n{constructor(){this.definitions={}}addIcons(...t){for(const i of t){i.prefix in this.definitions||(this.definitions[i.prefix]={}),this.definitions[i.prefix][i.iconName]=i;for(const r of i.icon[2])"string"==typeof r&&(this.definitions[i.prefix][r]=i)}}addIconPacks(...t){for(const i of t){const r=Object.keys(i).map(s=>i[s]);this.addIcons(...r)}}getIconDefinition(t,i){return t in this.definitions&&i in this.definitions[t]?this.definitions[t][i]:null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Pce=(()=>{class n{constructor(){this.stackItemSize="1x"}ngOnChanges(t){if("size"in t)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[c.TTD]}),n})(),Fce=(()=>{class n{constructor(t,i){this.renderer=t,this.elementRef=i}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(t){"size"in t&&(null!=t.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${t.size.currentValue}`),null!=t.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${t.size.previousValue}`))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275cmp=c.Xpm({type:n,selectors:[["fa-stack"]],inputs:{size:"size"},features:[c.TTD],ngContentSelectors:Ice,decls:1,vars:0,template:function(t,i){1&t&&(c.F$t(),c.Hsn(0))},encapsulation:2}),n})(),eB=(()=>{class n{constructor(t,i,r,s,l){this.sanitizer=t,this.config=i,this.iconLibrary=r,this.stackItem=s,this.classes=[],null!=l&&null==s&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(t){if(null==this.icon&&null==this.config.fallbackIcon)return(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})();let i=null;if(i=this.icon??this.config.fallbackIcon,t){const r=this.findIconDefinition(i);if(null!=r){const s=this.buildParams();this.renderIcon(r,s)}}}render(){this.ngOnChanges({})}findIconDefinition(t){const i=((n,e)=>(n=>void 0!==n.prefix&&void 0!==n.iconName)(n)?n:Array.isArray(n)&&2===n.length?{prefix:n[0],iconName:n[1]}:"string"==typeof n?{prefix:e,iconName:n}:void 0)(t,this.config.defaultPrefix);return"icon"in i?i:this.iconLibrary.getIconDefinition(i.prefix,i.iconName)??((n=>{throw new Error(`Could not find icon with iconName=${n.iconName} and prefix=${n.prefix} in the icon library.`)})(i),null)}buildParams(){const t={flip:this.flip,spin:this.spin,pulse:this.pulse,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},i="string"==typeof this.transform?Dce.transform(this.transform):this.transform;return{title:this.title,transform:i,classes:[...Hce(t),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(t,i){const r=Lce(t,i);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(r.html.join("\n"))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(t1),c.Y36(Nce),c.Y36(Rce),c.Y36(Pce,8),c.Y36(Fce,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(t,i){2&t&&(c.Ikx("innerHTML",i.renderedIconHTML,c.oJD),c.uIk("title",i.title))},inputs:{icon:"icon",title:"title",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},features:[c.TTD],decls:0,vars:0,template:function(t,i){},encapsulation:2}),n})(),Oce=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();try{EL=typeof Intl<"u"&&Intl.v8BreakIterator}catch{EL=!1}let pf,Wr=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?si(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!EL)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.Lbi))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const tB=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function nB(){if(pf)return pf;if("object"!=typeof document||!document)return pf=new Set(tB),pf;let n=document.createElement("input");return pf=new Set(tB.filter(e=>(n.setAttribute("type",e),n.type===e))),pf}let Tp,k0,AL;function mf(n){return function Bce(){if(null==Tp&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Tp=!0}))}finally{Tp=Tp||!1}return Tp}()?n:!!n.capture}function Uce(){if(null==k0){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return k0=!1,k0;if("scrollBehavior"in document.documentElement.style)k0=!0;else{const n=Element.prototype.scrollTo;k0=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return k0}function DL(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function N0(n){return n.composedPath?n.composedPath()[0]:n.target}function LL(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Vp(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function sB(n){return mn((e,t)=>n<=t)}function ki(n){return(0,Li.e)((e,t)=>{(0,G1.Xf)(n).subscribe((0,ti.x)(t,()=>t.complete(),BA.Z)),!t.closed&&e.subscribe(t)})}function zr(n){return null!=n&&"false"!=`${n}`}function Hp(n,e=0){return function s4e(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function UC(n){return Array.isArray(n)?n:[n]}function Sr(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Ac(n){return n instanceof c.SBq?n.nativeElement:n}let oB=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),o4e=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,i)=>this._cleanupObserver(i))}observe(t){const i=Ac(t);return new Di.y(r=>{const l=this._observeElement(i).subscribe(r);return()=>{l.unsubscribe(),this._unobserveElement(i)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const i=new Yt.x,r=this._mutationObserverFactory.create(s=>i.next(s));r&&r.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:r,stream:i,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:i,stream:r}=this._observedElements.get(t);i&&i.disconnect(),r.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(oB))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),a4e=(()=>{class n{constructor(t,i,r){this._contentObserver=t,this._elementRef=i,this._ngZone=r,this.event=new c.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=zr(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=Hp(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(Ty(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(o4e),c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),aB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[oB]}),n})();const cB=new Set;let gf,c4e=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):u4e}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function l4e(n){if(!cB.has(n))try{gf||(gf=document.createElement("style"),gf.setAttribute("type","text/css"),document.head.appendChild(gf)),gf.sheet&&(gf.sheet.insertRule(`@media ${n} {body{ }}`,0),cB.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Wr))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function u4e(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let lB=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new Yt.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return uB(UC(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let s=Qg(uB(UC(t)).map(l=>this._registerQuery(l).observable));return s=h6(s.pipe(yr(1)),s.pipe(sB(1),Ty(0))),s.pipe((0,Tt.U)(l=>{const d={matches:!1,breakpoints:{}};return l.forEach(({matches:p,query:v})=>{d.matches=d.matches||p,d.breakpoints[v]=p}),d}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),s={observable:new Di.y(l=>{const d=p=>this._zone.run(()=>l.next(p));return i.addListener(d),()=>{i.removeListener(d)}}).pipe(vs(i),(0,Tt.U)(({matches:l})=>({query:t,matches:l})),ki(this._destroySubject)),mql:i};return this._queries.set(t,s),s}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c4e),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function uB(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function GC(n,e){return(n.getAttribute(e)||"").match(/\S+/g)||[]}const fB="cdk-describedby-message",jC="cdk-describedby-host";let VL=0,p4e=(()=>{class n{constructor(t,i){this._platform=i,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+VL++,this._document=t,this._id=(0,c.f3M)(c.AFp)+"-"+VL++}describe(t,i,r){if(!this._canBeDescribed(t,i))return;const s=HL(i,r);"string"!=typeof i?(hB(i,this._id),this._messageRegistry.set(s,{messageElement:i,referenceCount:0})):this._messageRegistry.has(s)||this._createMessageElement(i,r),this._isElementDescribedByMessage(t,s)||this._addMessageReference(t,s)}removeDescription(t,i,r){if(!i||!this._isElementNode(t))return;const s=HL(i,r);if(this._isElementDescribedByMessage(t,s)&&this._removeMessageReference(t,s),"string"==typeof i){const l=this._messageRegistry.get(s);l&&0===l.referenceCount&&this._deleteMessageElement(s)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const t=this._document.querySelectorAll(`[${jC}="${this._id}"]`);for(let i=0;i<t.length;i++)this._removeCdkDescribedByReferenceIds(t[i]),t[i].removeAttribute(jC);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(t,i){const r=this._document.createElement("div");hB(r,this._id),r.textContent=t,i&&r.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(HL(t,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(t){this._messageRegistry.get(t)?.messageElement?.remove(),this._messageRegistry.delete(t)}_createMessagesContainer(){if(this._messagesContainer)return;const t="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${t}[platform="server"]`);for(let s=0;s<i.length;s++)i[s].remove();const r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(t),r.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(t){const i=GC(t,"aria-describedby").filter(r=>0!=r.indexOf(fB));t.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(t,i){const r=this._messageRegistry.get(i);(function f4e(n,e,t){const i=GC(n,e);i.some(r=>r.trim()==t.trim())||(i.push(t.trim()),n.setAttribute(e,i.join(" ")))})(t,"aria-describedby",r.messageElement.id),t.setAttribute(jC,this._id),r.referenceCount++}_removeMessageReference(t,i){const r=this._messageRegistry.get(i);r.referenceCount--,function h4e(n,e,t){const r=GC(n,e).filter(s=>s!=t.trim());r.length?n.setAttribute(e,r.join(" ")):n.removeAttribute(e)}(t,"aria-describedby",r.messageElement.id),t.removeAttribute(jC)}_isElementDescribedByMessage(t,i){const r=GC(t,"aria-describedby"),s=this._messageRegistry.get(i),l=s&&s.messageElement.id;return!!l&&-1!=r.indexOf(l)}_canBeDescribed(t,i){if(!this._isElementNode(t))return!1;if(i&&"object"==typeof i)return!0;const r=null==i?"":`${i}`.trim(),s=t.getAttribute("aria-label");return!(!r||s&&s.trim()===r)}_isElementNode(t){return t.nodeType===this._document.ELEMENT_NODE}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(re),c.LFG(Wr))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function HL(n,e){return"string"==typeof n?`${e||""}/${n}`:n}function hB(n,e){n.id||(n.id=`${fB}-${e}-${VL++}`)}class g4e extends class m4e{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Yt.x,this._typeaheadSubscription=L2.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new Yt.x,this.change=new Yt.x,e instanceof c.n_E&&e.changes.subscribe(t=>{if(this._activeItem){const r=t.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}})}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Ki.b)(t=>this._pressedLetters.push(t)),Ty(e),mn(()=>this._pressedLetters.length>0),(0,Tt.U)(()=>this._pressedLetters.join(""))).subscribe(t=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const s=(this._activeItemIndex+r)%i.length,l=i[s];if(!this._skipPredicateFn(l)&&0===l.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!e[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;default:return void((r||Vp(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),i="number"==typeof e?e:t.indexOf(e);this._activeItem=t[i]??null,this._activeItemIndex=i}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let i=1;i<=t.length;i++){const r=(this._activeItemIndex+e*i+t.length)%t.length;if(!this._skipPredicateFn(t[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const i=this._getItemsArray();if(i[e]){for(;this._skipPredicateFn(i[e]);)if(!i[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof c.n_E?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}let $C=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function _4e(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function v4e(n){try{return n.frameElement}catch{return null}}(function E4e(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(i&&(-1===mB(i)||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),s=mB(t);return t.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function x4e(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function S4e(n){return!function C4e(n){return function b4e(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function y4e(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function M4e(n){return function w4e(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||pB(n))}(t)&&!this.isDisabled(t)&&(i?.ignoreVisibility||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Wr))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function pB(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function mB(n){if(!pB(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class A4e{constructor(e,t,i,r,s=!1){this._element=e,this._checker=t,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const i=this._getFirstTabbableElement(t);return i?.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=0;i<t.length;i++){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=t.length-1;i>=0;i--){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(r)return r}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(yr(1)).subscribe(e)}}let zL=(()=>{class n{constructor(t,i,r){this._checker=t,this._ngZone=i,this._document=r}create(t,i=!1){return new A4e(t,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG($C),c.LFG(c.R0b),c.LFG(re))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function kL(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function NL(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const D4e=new c.OlP("cdk-input-modality-detector-options"),L4e={ignoreKeys:[18,17,224,91,16]},vf=mf({passive:!0,capture:!0});let I4e=(()=>{class n{constructor(t,i,r,s){this._platform=t,this._mostRecentTarget=null,this._modality=new ts(null),this._lastTouchMs=0,this._onKeydown=l=>{this._options?.ignoreKeys?.some(d=>d===l.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=N0(l))},this._onMousedown=l=>{Date.now()-this._lastTouchMs<650||(this._modality.next(kL(l)?"keyboard":"mouse"),this._mostRecentTarget=N0(l))},this._onTouchstart=l=>{NL(l)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=N0(l))},this._options={...L4e,...s},this.modalityDetected=this._modality.pipe(sB(1)),this.modalityChanged=this.modalityDetected.pipe(V6()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,vf),r.addEventListener("mousedown",this._onMousedown,vf),r.addEventListener("touchstart",this._onTouchstart,vf)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,vf),document.removeEventListener("mousedown",this._onMousedown,vf),document.removeEventListener("touchstart",this._onTouchstart,vf))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Wr),c.LFG(c.R0b),c.LFG(re),c.LFG(D4e,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const V4e=new c.OlP("cdk-focus-monitor-default-options"),qC=mf({passive:!0,capture:!0});let R0=(()=>{class n{constructor(t,i,r,s,l){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Yt.x,this._rootNodeFocusAndBlurListener=d=>{for(let v=N0(d);v;v=v.parentElement)"focus"===d.type?this._onFocus(d,v):this._onBlur(d,v)},this._document=s,this._detectionMode=l?.detectionMode||0}monitor(t,i=!1){const r=Ac(t);if(!this._platform.isBrowser||1!==r.nodeType)return ct(null);const s=function jce(n){if(function Gce(){if(null==AL){const n=typeof document<"u"?document.head:null;AL=!(!n||!n.createShadowRoot&&!n.attachShadow)}return AL}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),l=this._elementInfo.get(r);if(l)return i&&(l.checkChildren=!0),l.subject;const d={checkChildren:i,subject:new Yt.x,rootNode:s};return this._elementInfo.set(r,d),this._registerGlobalListeners(d),d.subject}stopMonitoring(t){const i=Ac(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const s=Ac(t);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([d,p])=>this._originChanged(d,i,p)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),s=N0(t);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,qC),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,qC)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(ki(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,qC),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,qC),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,s)=>{(s===t||r.checkChildren&&s.contains(t))&&i.push([s,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const s=t.labels;if(s)for(let l=0;l<s.length;l++)if(s[l].contains(i))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.R0b),c.LFG(Wr),c.LFG(I4e),c.LFG(re,8),c.LFG(V4e,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const vB="cdk-high-contrast-black-on-white",_B="cdk-high-contrast-white-on-black",RL="cdk-high-contrast-active";let yB=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=(0,c.f3M)(lB).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(RL,vB,_B),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(RL,vB):2===i&&t.add(RL,_B)}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Wr),c.LFG(re))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),CB=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(yB))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[aB]}),n})();const H4e=new c.OlP("cdk-dir-doc",{providedIn:"root",factory:function z4e(){return(0,c.f3M)(re)}}),k4e=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let O3=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new c.vpe,t){const r=t.documentElement?t.documentElement.dir:null;this.value=function N4e(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?k4e.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(H4e,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_f=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const P4e=new c.OlP("mat-sanity-checks",{providedIn:"root",factory:function R4e(){return!0}});let as=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!LL()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(yB),c.LFG(P4e,8),c.LFG(re))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[_f,_f]}),n})();function wB(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=zr(e)}}}function PL(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function xB(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=zr(e)}}}function F4e(n){return class extends n{constructor(...e){super(...e),this.errorState=!1}updateErrorState(){const e=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==e&&(this.errorState=s,this.stateChanges.next())}}}let SB=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class B4e{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const EB={enterDuration:225,exitDuration:150},FL=mf({passive:!0}),AB=["mousedown","touchstart"],DB=["mouseup","mouseleave","touchend","touchcancel"];class G4e{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Ac(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...EB,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const l=i.radius||function j4e(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),d=e-r.left,p=t-r.top,v=s.enterDuration,C=document.createElement("div");C.classList.add("mat-ripple-element"),C.style.left=d-l+"px",C.style.top=p-l+"px",C.style.height=2*l+"px",C.style.width=2*l+"px",null!=i.color&&(C.style.backgroundColor=i.color),C.style.transitionDuration=`${v}ms`,this._containerElement.appendChild(C);const w=window.getComputedStyle(C),I=w.transitionDuration,k="none"===w.transitionProperty||"0s"===I||"0s, 0s"===I,j=new B4e(this,C,i,k);C.style.transform="scale3d(1, 1, 1)",j.state=0,i.persistent||(this._mostRecentTransientRipple=j);let X=null;return!k&&(v||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const xe=()=>this._finishRippleTransition(j),ke=()=>this._destroyRipple(j);C.addEventListener("transitionend",xe),C.addEventListener("transitioncancel",ke),X={onTransitionEnd:xe,onTransitionCancel:ke}}),this._activeRipples.set(j,X),(k||!v)&&this._finishRippleTransition(j),j}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={...EB,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Ac(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(AB))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(DB),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=kL(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!NL(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,FL)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(AB.forEach(e=>{this._triggerElement.removeEventListener(e,this,FL)}),this._pointerUpEventsRegistered&&DB.forEach(e=>{this._triggerElement.removeEventListener(e,this,FL)}))}}const $4e=new c.OlP("mat-ripple-global-options");let OL=(()=>{class n{constructor(t,i,r,s,l){this._elementRef=t,this._animationMode=l,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new G4e(this,i,t,r)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(Wr),c.Y36($4e,8),c.Y36(c.QbO,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,i){2&t&&c.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),LB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[as,as]}),n})();const q4e=["mat-button",""],W4e=["*"],K4e=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],Z4e=PL(wB(xB(class{constructor(n){this._elementRef=n}})));let kp=(()=>{class n extends Z4e{constructor(t,i,r){super(t),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const s of K4e)this._hasHostAttributes(s)&&this._getHostElement().classList.add(s);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,i){t?this._focusMonitor.focusVia(this._getHostElement(),t,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(R0),c.Y36(c.QbO,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,i){if(1&t&&c.Gf(OL,5),2&t){let r;c.iGM(r=c.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,i){2&t&&(c.uIk("disabled",i.disabled||null),c.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[c.qOj],attrs:q4e,ngContentSelectors:W4e,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,i){1&t&&(c.F$t(),c.TgZ(0,"span",0),c.Hsn(1),c.qZA(),c._UZ(2,"span",1)(3,"span",2)),2&t&&(c.xp6(2),c.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),c.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},dependencies:[OL],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),Q4e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[LB,as,as]}),n})();var X4e=R(1144);const J4e=["addListener","removeListener"],e3e=["addEventListener","removeEventListener"],t3e=["on","off"];function Np(n,e,t,i){if((0,u1.m)(t)&&(i=t,t=void 0),i)return Np(n,e,t).pipe(C5(i));const[r,s]=function r3e(n){return(0,u1.m)(n.addEventListener)&&(0,u1.m)(n.removeEventListener)}(n)?e3e.map(l=>d=>n[l](e,d,t)):function n3e(n){return(0,u1.m)(n.addListener)&&(0,u1.m)(n.removeListener)}(n)?J4e.map(IB(n,e)):function i3e(n){return(0,u1.m)(n.on)&&(0,u1.m)(n.off)}(n)?t3e.map(IB(n,e)):[];if(!r&&(0,X4e.z)(n))return(0,Mr.z)(l=>Np(l,e,t))((0,G1.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new Di.y(l=>{const d=(...p)=>l.next(1<p.length?p:p[0]);return r(d),()=>s(d)})}function IB(n,e){return t=>i=>n[t](e,i)}var TB=R(4408);const Rp={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=Rp;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(s=>{t=void 0,n(s)});return new L2.w0(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=Rp;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=Rp;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var VB=R(7565);new class o3e extends VB.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class s3e extends TB.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=Rp.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:s}=e;null!=t&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==t&&(Rp.cancelAnimationFrame(t),e._scheduled=void 0)}});let BL,c3e=1;const WC={};function HB(n){return n in WC&&(delete WC[n],!0)}const l3e={setImmediate(n){const e=c3e++;return WC[e]=!0,BL||(BL=Promise.resolve()),BL.then(()=>HB(e)&&n()),e},clearImmediate(n){HB(n)}},{setImmediate:u3e,clearImmediate:d3e}=l3e,YC={setImmediate(...n){const{delegate:e}=YC;return(e?.setImmediate||u3e)(...n)},clearImmediate(n){const{delegate:e}=YC;return(e?.clearImmediate||d3e)(n)},delegate:void 0},UL=new class h3e extends VB.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class f3e extends TB.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=YC.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:s}=e;null!=t&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==t&&(YC.clearImmediate(t),e._scheduled=void 0)}});var m3e=R(3532);function zB(n=0,e,t=uc.P){let i=-1;return null!=e&&((0,m3e.K)(e)?t=e:i=e),new Di.y(r=>{let s=function g3e(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let l=0;return t.schedule(function(){r.closed||(r.next(l++),0<=i?this.schedule(void 0,i):r.complete())},s)})}function GL(n,e=uc.z){return function p3e(n){return(0,Li.e)((e,t)=>{let i=!1,r=null,s=null,l=!1;const d=()=>{if(s?.unsubscribe(),s=null,i){i=!1;const v=r;r=null,t.next(v)}l&&t.complete()},p=()=>{s=null,l&&t.complete()};e.subscribe((0,ti.x)(t,v=>{i=!0,r=v,s||(0,G1.Xf)(n(v)).subscribe(s=(0,ti.x)(t,d,p))},()=>{l=!0,(!i||!s||s.closed)&&t.complete()}))})}(()=>zB(n,e))}let kB=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new Yt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Di.y(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(GL(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):ct()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(mn(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,t)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=Ac(i),s=t.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Np(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.R0b),c.LFG(Wr),c.LFG(re,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),NB=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new Yt.x,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,s=r.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(GL(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Wr),c.LFG(c.R0b),c.LFG(re,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),KC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),RB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[_f,KC,_f,KC]}),n})();class jL{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class ZC extends jL{constructor(e,t,i,r){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r}}class $L extends jL{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class y3e extends jL{constructor(e){super(),this.element=e instanceof c.SBq?e.nativeElement:e}}class qL{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof ZC?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof $L?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof y3e?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class C3e extends qL{constructor(e,t,i,r,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=l=>{const d=l.element,p=this._document.createComment("dom-portal");d.parentNode.insertBefore(p,d),this.outletElement.appendChild(d),this._attachedPortal=l,super.setDisposeFn(()=>{p.parentNode&&p.parentNode.replaceChild(d,p)})},this._document=s}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||c.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let WL=(()=>{class n extends qL{constructor(t,i,r){super(),this._componentFactoryResolver=t,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new c.vpe,this.attachDomPortal=s=>{const l=s.element,d=this._document.createComment("dom-portal");s.setAttachedHost(this),l.parentNode.insertBefore(d,l),this._getRootNode().appendChild(l),this._attachedPortal=s,super.setDisposeFn(()=>{d.parentNode&&d.parentNode.replaceChild(l,d)})},this._document=r}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const i=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,s=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),l=i.createComponent(s,i.length,t.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(l.hostView.rootNodes[0]),super.setDisposeFn(()=>l.destroy()),this._attachedPortal=t,this._attachedRef=l,this.attached.emit(l),l}attachTemplatePortal(t){t.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c._Vd),c.Y36(c.s_b),c.Y36(re))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[c.qOj]}),n})(),QC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const PB=Uce();class M3e{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Sr(-this._previousScrollPosition.left),e.style.top=Sr(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,s=i.scrollBehavior||"",l=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),PB&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),PB&&(i.scrollBehavior=s,r.scrollBehavior=l)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class b3e{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class FB{enable(){}disable(){}attach(){}}function YL(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function OB(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class w3e{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();YL(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let x3e=(()=>{class n{constructor(t,i,r,s){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new FB,this.close=l=>new b3e(this._scrollDispatcher,this._ngZone,this._viewportRuler,l),this.block=()=>new M3e(this._viewportRuler,this._document),this.reposition=l=>new w3e(this._scrollDispatcher,this._viewportRuler,this._ngZone,l),this._document=s}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(kB),c.LFG(NB),c.LFG(c.R0b),c.LFG(re))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class KL{constructor(e){if(this.scrollStrategy=new FB,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class S3e{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let BB=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(re))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),E3e=(()=>{class n extends BB{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const s=this._attachedOverlays;for(let l=s.length-1;l>-1;l--)if(s[l]._keydownEvents.observers.length>0){const d=s[l]._keydownEvents;this._ngZone?this._ngZone.run(()=>d.next(r)):d.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(re),c.LFG(c.R0b,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),A3e=(()=>{class n extends BB{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=N0(s)},this._clickListener=s=>{const l=N0(s),d="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:l;this._pointerDownEventTarget=null;const p=this._attachedOverlays.slice();for(let v=p.length-1;v>-1;v--){const C=p[v];if(C._outsidePointerEvents.observers.length<1||!C.hasAttached())continue;if(C.overlayElement.contains(l)||C.overlayElement.contains(d))break;const w=C._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>w.next(s)):w.next(s)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(re),c.LFG(Wr),c.LFG(c.R0b,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),XC=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||LL()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(t),LL()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(re),c.LFG(Wr))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Pp{constructor(e,t,i,r,s,l,d,p,v,C=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=l,this._document=d,this._location=p,this._outsideClickDispatcher=v,this._animationsDisabled=C,this._backdropElement=null,this._backdropClick=new Yt.x,this._attachments=new Yt.x,this._detachments=new Yt.x,this._locationChanges=L2.w0.EMPTY,this._backdropClickHandler=w=>this._backdropClick.next(w),this._backdropTransitionendHandler=w=>{this._disposeBackdrop(w.target)},this._keydownEvents=new Yt.x,this._outsidePointerEvents=new Yt.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(yr(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Sr(this._config.width),e.height=Sr(this._config.height),e.minWidth=Sr(this._config.minWidth),e.minHeight=Sr(this._config.minHeight),e.maxWidth=Sr(this._config.maxWidth),e.maxHeight=Sr(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){const r=UC(t||[]).filter(s=>!!s);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(ki((0,s2.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const UB="cdk-overlay-connected-position-bounding-box",D3e=/([A-Za-z%]+)$/;class L3e{constructor(e,t,i,r,s){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Yt.x,this._resizeSubscription=L2.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(UB),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[];let l;for(let d of this._preferredPositions){let p=this._getOriginPoint(e,r,d),v=this._getOverlayPoint(p,t,d),C=this._getOverlayFit(v,t,i,d);if(C.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(d,p);this._canFitWithFlexibleDimensions(C,v,i)?s.push({position:d,origin:p,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(p,d)}):(!l||l.overlayFit.visibleArea<C.visibleArea)&&(l={overlayFit:C,overlayPoint:v,originPoint:p,position:d,overlayRect:t})}if(s.length){let d=null,p=-1;for(const v of s){const C=v.boundingBoxRect.width*v.boundingBoxRect.height*(v.position.weight||1);C>p&&(p=C,d=v)}return this._isPushed=!1,void this._applyPosition(d.position,d.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(l.position,l.originPoint);this._applyPosition(l.position,l.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&P0(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(UB),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,s;if("center"==i.originX)r=e.left+e.width/2;else{const l=this._isRtl()?e.right:e.left,d=this._isRtl()?e.left:e.right;r="start"==i.originX?l:d}return t.left<0&&(r-=t.left),s="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(s-=t.top),{x:r,y:s}}_getOverlayPoint(e,t,i){let r,s;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+s}}_getOverlayFit(e,t,i,r){const s=jB(t);let{x:l,y:d}=e,p=this._getOffset(r,"x"),v=this._getOffset(r,"y");p&&(l+=p),v&&(d+=v);let A=0-d,I=d+s.height-i.height,k=this._subtractOverflows(s.width,0-l,l+s.width-i.width),j=this._subtractOverflows(s.height,A,I),X=k*j;return{visibleArea:X,isCompletelyWithinViewport:s.width*s.height===X,fitsInViewportVertically:j===s.height,fitsInViewportHorizontally:k==s.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,s=i.right-t.x,l=GB(this._overlayRef.getConfig().minHeight),d=GB(this._overlayRef.getConfig().minWidth),v=e.fitsInViewportHorizontally||null!=d&&d<=s;return(e.fitsInViewportVertically||null!=l&&l<=r)&&v}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=jB(t),s=this._viewportRect,l=Math.max(e.x+r.width-s.width,0),d=Math.max(e.y+r.height-s.height,0),p=Math.max(s.top-i.top-e.y,0),v=Math.max(s.left-i.left-e.x,0);let C=0,w=0;return C=r.width<=s.width?v||-l:e.x<this._viewportMargin?s.left-i.left-e.x:0,w=r.height<=s.height?p||-d:e.y<this._viewportMargin?s.top-i.top-e.y:0,this._previousPushAmount={x:C,y:w},{x:e.x+C,y:e.y+w}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new S3e(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let s,l,d,C,w,A;if("top"===t.overlayY)l=e.y,s=i.height-l+this._viewportMargin;else if("bottom"===t.overlayY)d=i.height-e.y+2*this._viewportMargin,s=i.height-d+this._viewportMargin;else{const I=Math.min(i.bottom-e.y+i.top,e.y),k=this._lastBoundingBoxSize.height;s=2*I,l=e.y-I,s>k&&!this._isInitialRender&&!this._growAfterOpen&&(l=e.y-k/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)A=i.width-e.x+this._viewportMargin,C=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)w=e.x,C=i.right-e.x;else{const I=Math.min(i.right-e.x+i.left,e.x),k=this._lastBoundingBoxSize.width;C=2*I,w=e.x-I,C>k&&!this._isInitialRender&&!this._growAfterOpen&&(w=e.x-k/2)}return{top:l,left:w,bottom:d,right:A,width:C,height:s}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,l=this._overlayRef.getConfig().maxWidth;r.height=Sr(i.height),r.top=Sr(i.top),r.bottom=Sr(i.bottom),r.width=Sr(i.width),r.left=Sr(i.left),r.right=Sr(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=Sr(s)),l&&(r.maxWidth=Sr(l))}this._lastBoundingBoxSize=i,P0(this._boundingBox.style,r)}_resetBoundingBoxStyles(){P0(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){P0(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,l=this._overlayRef.getConfig();if(r){const C=this._viewportRuler.getViewportScrollPosition();P0(i,this._getExactOverlayY(t,e,C)),P0(i,this._getExactOverlayX(t,e,C))}else i.position="static";let d="",p=this._getOffset(t,"x"),v=this._getOffset(t,"y");p&&(d+=`translateX(${p}px) `),v&&(d+=`translateY(${v}px)`),i.transform=d.trim(),l.maxHeight&&(r?i.maxHeight=Sr(l.maxHeight):s&&(i.maxHeight="")),l.maxWidth&&(r?i.maxWidth=Sr(l.maxWidth):s&&(i.maxWidth="")),P0(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=Sr(s.y),r}_getExactOverlayX(e,t,i){let l,r={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),l=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===l?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=Sr(s.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:OB(e,i),isOriginOutsideView:YL(e,i),isOverlayClipped:OB(t,i),isOverlayOutsideView:YL(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?e.offsetX??this._offsetX:e.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&UC(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof c.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function P0(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function GB(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(D3e);return t&&"px"!==t?null:parseFloat(e)}return n||null}function jB(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const $B="cdk-global-overlay-wrapper";class I3e{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add($B),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:l,maxHeight:d}=i,p=!("100%"!==r&&"100vw"!==r||l&&"100%"!==l&&"100vw"!==l),v=!("100%"!==s&&"100vh"!==s||d&&"100%"!==d&&"100vh"!==d),C=this._xPosition,w=this._xOffset,A="rtl"===this._overlayRef.getConfig().direction;let I="",k="",j="";p?j="flex-start":"center"===C?(j="center",A?k=w:I=w):A?"left"===C||"end"===C?(j="flex-end",I=w):("right"===C||"start"===C)&&(j="flex-start",k=w):"left"===C||"start"===C?(j="flex-start",I=w):("right"===C||"end"===C)&&(j="flex-end",k=w),e.position=this._cssPosition,e.marginLeft=p?"0":I,e.marginTop=v?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=p?"0":k,t.justifyContent=j,t.alignItems=v?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove($B),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let T3e=(()=>{class n{constructor(t,i,r,s){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new I3e}flexibleConnectedTo(t){return new L3e(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(NB),c.LFG(re),c.LFG(Wr),c.LFG(XC))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),V3e=0,ra=(()=>{class n{constructor(t,i,r,s,l,d,p,v,C,w,A,I){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=l,this._injector=d,this._ngZone=p,this._document=v,this._directionality=C,this._location=w,this._outsideClickDispatcher=A,this._animationsModuleType=I}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),l=new KL(t);return l.direction=l.direction||this._directionality.value,new Pp(s,i,r,l,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+V3e++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(c.z2F)),new C3e(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(x3e),c.LFG(XC),c.LFG(c._Vd),c.LFG(T3e),c.LFG(E3e),c.LFG(c.zs3),c.LFG(c.R0b),c.LFG(re),c.LFG(O3),c.LFG(Pe),c.LFG(A3e),c.LFG(c.QbO,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const k3e={provide:new c.OlP("cdk-connected-overlay-scroll-strategy"),deps:[ra],useFactory:function z3e(n){return()=>n.scrollStrategies.reposition()}};let JC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[ra,k3e],imports:[_f,QC,RB,RB]}),n})();function N3e(n,e){}class eM{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0}}let qB=(()=>{class n extends qL{constructor(t,i,r,s,l,d,p,v){super(),this._elementRef=t,this._focusTrapFactory=i,this._config=s,this._interactivityChecker=l,this._ngZone=d,this._overlayRef=p,this._focusMonitor=v,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=C=>{this._portalOutlet.hasAttached();const w=this._portalOutlet.attachDomPortal(C);return this._contentAttached(),w},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=r}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),i}attachTemplatePortal(t){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{t.removeEventListener("blur",r),t.removeEventListener("mousedown",r),t.removeAttribute("tabindex")};t.addEventListener("blur",r),t.addEventListener("mousedown",r)})),t.focus(i)}_focusByCssSelector(t,i){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,i)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._config.restoreFocus;let i=null;if("string"==typeof t?i=this._document.querySelector(t):"boolean"==typeof t?i=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(i=t),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=DL(),s=this._elementRef.nativeElement;(!r||r===this._document.body||r===s||s.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,i=DL();return t===i||t.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=DL())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(zL),c.Y36(re,8),c.Y36(eM),c.Y36($C),c.Y36(c.R0b),c.Y36(Pp),c.Y36(R0))},n.\u0275cmp=c.Xpm({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(t,i){if(1&t&&c.Gf(WL,7),2&t){let r;c.iGM(r=c.CRH())&&(i._portalOutlet=r.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(t,i){2&t&&c.uIk("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[c.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,i){1&t&&c.YNc(0,N3e,0,0,"ng-template",0)},dependencies:[WL],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),n})();class ZL{constructor(e,t){this.overlayRef=e,this.config=t,this.closed=new Yt.x,this.disableClose=t.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!Vp(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})})}close(e,t){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this.overlayRef.dispose(),i.next(e),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",t=""){return this.overlayRef.updateSize({width:e,height:t}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}}const WB=new c.OlP("DialogScrollStrategy"),R3e=new c.OlP("DialogData"),P3e=new c.OlP("DefaultDialogConfig"),O3e={provide:WB,deps:[ra],useFactory:function F3e(n){return()=>n.scrollStrategies.block()}};let B3e=0,YB=(()=>{class n{constructor(t,i,r,s,l,d){this._overlay=t,this._injector=i,this._defaultOptions=r,this._parentDialog=s,this._overlayContainer=l,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Yt.x,this._afterOpenedAtThisLevel=new Yt.x,this._ariaHiddenElements=new Map,this.afterAllClosed=ks(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(vs(void 0))),this._scrollStrategy=d}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}open(t,i){(i={...this._defaultOptions||new eM,...i}).id=i.id||"cdk-dialog-"+B3e++,i.id&&this.getDialogById(i.id);const s=this._getOverlayConfig(i),l=this._overlay.create(s),d=new ZL(l,i),p=this._attachContainer(l,d,i);return d.containerInstance=p,this._attachDialogContent(t,d,p,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(d),d.closed.subscribe(()=>this._removeOpenDialog(d,!0)),this.afterOpened.next(d),d}closeAll(){QL(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){QL(this._openDialogsAtThisLevel,t=>{!1===t.config.closeOnDestroy&&this._removeOpenDialog(t,!1)}),QL(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){const i=new KL({positionStrategy:t.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(i.backdropClass=t.backdropClass),i}_attachContainer(t,i,r){const s=r.injector||r.viewContainerRef?.injector,l=[{provide:eM,useValue:r},{provide:ZL,useValue:i},{provide:Pp,useValue:t}];let d;r.container?"function"==typeof r.container?d=r.container:(d=r.container.type,l.push(...r.container.providers(r))):d=qB;const p=new ZC(d,r.viewContainerRef,c.zs3.create({parent:s||this._injector,providers:l}),r.componentFactoryResolver);return t.attach(p).instance}_attachDialogContent(t,i,r,s){if(t instanceof c.Rgc){const l=this._createInjector(s,i,r,void 0);let d={$implicit:s.data,dialogRef:i};s.templateContext&&(d={...d,..."function"==typeof s.templateContext?s.templateContext():s.templateContext}),r.attachTemplatePortal(new $L(t,null,d,l))}else{const l=this._createInjector(s,i,r,this._injector),d=r.attachComponentPortal(new ZC(t,s.viewContainerRef,l,s.componentFactoryResolver));i.componentInstance=d.instance}}_createInjector(t,i,r,s){const l=t.injector||t.viewContainerRef?.injector,d=[{provide:R3e,useValue:t.data},{provide:ZL,useValue:i}];return t.providers&&("function"==typeof t.providers?d.push(...t.providers(i,t,r)):d.push(...t.providers)),t.direction&&(!l||!l.get(O3,null,c.XFs.Optional))&&d.push({provide:O3,useValue:{value:t.direction,change:ct()}}),c.zs3.create({parent:l||s,providers:d})}_removeOpenDialog(t,i){const r=this.openDialogs.indexOf(t);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((s,l)=>{s?l.setAttribute("aria-hidden",s):l.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const i=t.parentElement.children;for(let r=i.length-1;r>-1;r--){const s=i[r];s!==t&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ra),c.LFG(c.zs3),c.LFG(P3e,8),c.LFG(n,12),c.LFG(XC),c.LFG(WB))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function QL(n,e){let t=n.length;for(;t--;)e(n[t])}let U3e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[YB,O3e],imports:[JC,QC,CB,QC]}),n})();function G3e(n,e){}const yf={params:{enterAnimationDuration:"150ms",exitAnimationDuration:"75ms"}},j3e={dialogContainer:xa("dialogContainer",[Xr("void, exit",Yn({opacity:0,transform:"scale(0.7)"})),Xr("enter",Yn({transform:"none"})),Xs("* => enter",Qs([hi("{{enterAnimationDuration}} cubic-bezier(0, 0, 0.2, 1)",Yn({transform:"none",opacity:1})),ll("@*",z1(),{optional:!0})]),yf),Xs("* => void, * => exit",Qs([hi("{{exitAnimationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)",Yn({opacity:0})),ll("@*",z1(),{optional:!0})]),yf)])};class tM{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0,this.enterAnimationDuration=yf.params.enterAnimationDuration,this.exitAnimationDuration=yf.params.exitAnimationDuration}}let $3e=(()=>{class n extends qB{constructor(t,i,r,s,l,d,p,v){super(t,i,r,s,l,d,p,v),this._animationStateChanged=new c.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(t){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(zL),c.Y36(re,8),c.Y36(tM),c.Y36($C),c.Y36(c.R0b),c.Y36(Pp),c.Y36(R0))},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],features:[c.qOj],decls:0,vars:0,template:function(t,i){},encapsulation:2}),n})(),q3e=(()=>{class n extends $3e{constructor(t,i,r,s,l,d,p,v,C){super(t,i,r,s,l,d,p,C),this._changeDetectorRef=v,this._state="enter"}_onAnimationDone({toState:t,totalTime:i}){"enter"===t?this._openAnimationDone(i):"exit"===t&&this._animationStateChanged.next({state:"closed",totalTime:i})}_onAnimationStart({toState:t,totalTime:i}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===t||"void"===t)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_getAnimationState(){return{value:this._state,params:{enterAnimationDuration:this._config.enterAnimationDuration||yf.params.enterAnimationDuration,exitAnimationDuration:this._config.exitAnimationDuration||yf.params.exitAnimationDuration}}}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(zL),c.Y36(re,8),c.Y36(tM),c.Y36($C),c.Y36(c.R0b),c.Y36(Pp),c.Y36(c.sBO),c.Y36(R0))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-dialog-container"],hostVars:7,hostBindings:function(t,i){1&t&&c.WFA("@dialogContainer.start",function(s){return i._onAnimationStart(s)})("@dialogContainer.done",function(s){return i._onAnimationDone(s)}),2&t&&(c.Ikx("id",i._config.id),c.uIk("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),c.d8E("@dialogContainer",i._getAnimationState()))},features:[c.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,i){1&t&&c.YNc(0,G3e,0,0,"ng-template",0)},dependencies:[WL],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions.mat-dialog-actions-align-center,.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions.mat-dialog-actions-align-end,.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}"],encapsulation:2,data:{animation:[j3e.dialogContainer]}}),n})();class Fp{constructor(e,t,i){this._ref=e,this._containerInstance=i,this._afterOpened=new Yt.x,this._beforeClosed=new Yt.x,this._state=0,this.disableClose=t.disableClose,this.id=e.id,i._animationStateChanged.pipe(mn(r=>"opened"===r.state),yr(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(mn(r=>"closed"===r.state),yr(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,s2.T)(this.backdropClick(),this.keydownEvents().pipe(mn(r=>27===r.keyCode&&!this.disableClose&&!Vp(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),function W3e(n,e,t){n._closeInteractionType=e,n.close(t)}(this,"keydown"===r.type?"keyboard":"mouse"))})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(mn(t=>"closing"===t.state),yr(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(e){let t=this._ref.config.positionStrategy;return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._ref.updatePosition(),this}updateSize(e="",t=""){return this._ref.updateSize(e,t),this}addPanelClass(e){return this._ref.addPanelClass(e),this}removePanelClass(e){return this._ref.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const nM=new c.OlP("MatDialogData"),Y3e=new c.OlP("mat-dialog-default-options"),KB=new c.OlP("mat-dialog-scroll-strategy"),Z3e={provide:KB,deps:[ra],useFactory:function K3e(n){return()=>n.scrollStrategies.block()}};let Q3e=0,X3e=(()=>{class n{constructor(t,i,r,s,l,d,p,v,C,w){this._overlay=t,this._defaultOptions=r,this._parentDialog=s,this._dialogRefConstructor=p,this._dialogContainerType=v,this._dialogDataToken=C,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Yt.x,this._afterOpenedAtThisLevel=new Yt.x,this._idPrefix="mat-dialog-",this.afterAllClosed=ks(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(vs(void 0))),this._scrollStrategy=d,this._dialog=i.get(YB)}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,i){let r;(i={...this._defaultOptions||new tM,...i}).id=i.id||`${this._idPrefix}${Q3e++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const s=this._dialog.open(t,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:tM,useValue:i},{provide:eM,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(l,d,p)=>(r=new this._dialogRefConstructor(l,i,p),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:p},{provide:this._dialogDataToken,useValue:d.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentInstance=s.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const l=this.openDialogs.indexOf(r);l>-1&&(this.openDialogs.splice(l,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(t){let i=t.length;for(;i--;)t[i].close()}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),XL=(()=>{class n extends X3e{constructor(t,i,r,s,l,d,p,v){super(t,i,s,d,p,l,Fp,q3e,nM,v)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ra),c.LFG(c.zs3),c.LFG(Pe,8),c.LFG(Y3e,8),c.LFG(KB),c.LFG(n,12),c.LFG(XC),c.LFG(c.QbO,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),JL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),n})(),eI=(()=>{class n{constructor(){this.align="start"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"],hostVars:4,hostBindings:function(t,i){2&t&&c.ekj("mat-dialog-actions-align-center","center"===i.align)("mat-dialog-actions-align-end","end"===i.align)},inputs:{align:"align"}}),n})(),J3e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[XL,Z3e],imports:[U3e,JC,QC,as,as]}),n})();const ele=["*",[["mat-toolbar-row"]]],tle=["*","mat-toolbar-row"],nle=PL(class{constructor(n){this._elementRef=n}});let ile=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),rle=(()=>{class n extends nle{constructor(t,i,r){super(t),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(Wr),c.Y36(re))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,i,r){if(1&t&&c.Suo(r,ile,5),2&t){let s;c.iGM(s=c.CRH())&&(i._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,i){2&t&&c.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[c.qOj],ngContentSelectors:tle,decls:2,vars:0,template:function(t,i){1&t&&(c.F$t(ele),c.Hsn(0),c.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),sle=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[as,as]}),n})();function ZB(n){for(let e in n){let t=n[e]??"";switch(e){case"display":n.display="flex"===t?["-webkit-flex","flex"]:"inline-flex"===t?["-webkit-inline-flex","inline-flex"]:t;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":n["-webkit-"+e]=t;break;case"flex-direction":n["-webkit-flex-direction"]=t,n["flex-direction"]=t;break;case"order":n.order=n["-webkit-"+e]=isNaN(+t)?"0":t}}return n}const tI="inline",iM=["row","column","row-reverse","column-reverse"];function QB(n){let[e,t,i]=XB(n);return function ale(n,e=null,t=!1){return{display:t?"inline-flex":"flex","box-sizing":"border-box","flex-direction":n,"flex-wrap":e||null}}(e,t,i)}function XB(n){n=n?.toLowerCase()??"";let[e,t,i]=n.split(" ");return iM.find(r=>r===e)||(e=iM[0]),t===tI&&(t=i!==tI?i:"",i=tI),[e,ole(t),!!i]}function Op(n){let[e]=XB(n);return e.indexOf("row")>-1}function ole(n){if(n)switch(n.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":n="wrap-reverse";break;case"no":case"none":case"nowrap":n="nowrap";break;default:n="wrap"}return n}function Dc(n,...e){if(null==n)throw TypeError("Cannot convert undefined or null to object");for(let t of e)if(null!=t)for(let i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return n}const lle={provide:c.tb,useFactory:function cle(n,e){return()=>{if(si(e)){const t=Array.from(n.querySelectorAll(`[class*=${JB}]`)),i=/\bflex-layout-.+?\b/g;t.forEach(r=>{r.classList.contains(`${JB}ssr`)&&r.parentNode?r.parentNode.removeChild(r):r.className.replace(i,"")})}}},deps:[re,c.Lbi],multi:!0},JB="flex-layout-";let nI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[lle]}),n})();class F0{constructor(e=!1,t="all",i="",r="",s=0){this.matches=e,this.mediaQuery=t,this.mqAlias=i,this.suffix=r,this.priority=s,this.property=""}clone(){return new F0(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}let ule=(()=>{class n{constructor(){this.stylesheet=new Map}addStyleToElement(t,i,r){const s=this.stylesheet.get(t);s?s.set(i,r):this.stylesheet.set(t,new Map([[i,r]]))}clearStyles(){this.stylesheet.clear()}getStyleForElement(t,i){const r=this.stylesheet.get(t);let s="";if(r){const l=r.get(i);("number"==typeof l||"string"==typeof l)&&(s=l+"")}return s}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const iI={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[],multiplier:void 0,defaultUnit:"px",detectLayoutDisplay:!1},lo=new c.OlP("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>iI}),Cf=new c.OlP("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),rI=new c.OlP("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});function eU(n,e){return n=n?.clone()??new F0,e&&(n.mqAlias=e.alias,n.mediaQuery=e.mediaQuery,n.suffix=e.suffix,n.priority=e.priority),n}class nr{constructor(){this.shouldCache=!0}sideEffect(e,t,i){}}let xi=(()=>{class n{constructor(t,i,r,s){this._serverStylesheet=t,this._serverModuleLoaded=i,this._platformId=r,this.layoutConfig=s}applyStyleToElement(t,i,r=null){let s={};"string"==typeof i&&(s[i]=r,i=s),s=this.layoutConfig.disableVendorPrefixes?i:ZB(i),this._applyMultiValueStyleToElement(s,t)}applyStyleToElements(t,i=[]){const r=this.layoutConfig.disableVendorPrefixes?t:ZB(t);i.forEach(s=>{this._applyMultiValueStyleToElement(r,s)})}getFlowDirection(t){const i="flex-direction";let r=this.lookupStyle(t,i);return[r||"row",this.lookupInlineStyle(t,i)||Kr(this._platformId)&&this._serverModuleLoaded?r:""]}hasWrap(t){return"wrap"===this.lookupStyle(t,"flex-wrap")}lookupAttributeValue(t,i){return t.getAttribute(i)??""}lookupInlineStyle(t,i){return si(this._platformId)?t.style.getPropertyValue(i):function dle(n,e){return tU(n)[e]??""}(t,i)}lookupStyle(t,i,r=!1){let s="";return t&&((s=this.lookupInlineStyle(t,i))||(si(this._platformId)?r||(s=getComputedStyle(t).getPropertyValue(i)):this._serverModuleLoaded&&(s=this._serverStylesheet.getStyleForElement(t,i)))),s?s.trim():""}_applyMultiValueStyleToElement(t,i){Object.keys(t).sort().forEach(r=>{const s=t[r],l=Array.isArray(s)?s:[s];l.sort();for(let d of l)d=d?d+"":"",si(this._platformId)||!this._serverModuleLoaded?si(this._platformId)?i.style.setProperty(r,d):fle(i,r,d):this._serverStylesheet.addStyleToElement(i,r,d)})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ule),c.LFG(Cf),c.LFG(c.Lbi),c.LFG(lo))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function fle(n,e,t){e=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();const i=tU(n);i[e]=t??"",function hle(n,e){let t="";for(const i in e)e[i]&&(t+=`${i}:${e[i]};`);n.setAttribute("style",t)}(n,i)}function tU(n){const e={},t=n.getAttribute("style");if(t){const i=t.split(/;+/g);for(let r=0;r<i.length;r++){const s=i[r].trim();if(s.length>0){const l=s.indexOf(":");if(-1===l)throw new Error(`Invalid CSS style: ${s}`);e[s.substr(0,l).trim()]=s.substr(l+1).trim()}}}return e}function Bp(n,e){return(e&&e.priority||0)-(n&&n.priority||0)}function ple(n,e){return(n.priority||0)-(e.priority||0)}let sI=(()=>{class n{constructor(t,i,r){this._zone=t,this._platformId=i,this._document=r,this.source=new ts(new F0(!0)),this.registry=new Map,this.pendingRemoveListenerFns=[],this._observable$=this.source.asObservable()}get activations(){const t=[];return this.registry.forEach((i,r)=>{i.matches&&t.push(r)}),t}isActive(t){return this.registry.get(t)?.matches??this.registerQuery(t).some(r=>r.matches)}observe(t,i=!1){if(t&&t.length){const r=this._observable$.pipe(mn(l=>!i||t.indexOf(l.mediaQuery)>-1)),s=new Di.y(l=>{const d=this.registerQuery(t);if(d.length){const p=d.pop();d.forEach(v=>{l.next(v)}),this.source.next(p)}l.complete()});return(0,s2.T)(s,r)}return this._observable$}registerQuery(t){const i=Array.isArray(t)?t:[t],r=[];return function mle(n,e){const t=n.filter(i=>!nU[i]);if(t.length>0){const i=t.join(", ");try{const r=e.createElement("style");r.setAttribute("type","text/css"),r.styleSheet||r.appendChild(e.createTextNode(`\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ${i} {.fx-query-test{ }}\n`)),e.head.appendChild(r),t.forEach(s=>nU[s]=r)}catch(r){console.error(r)}}}(i,this._document),i.forEach(s=>{const l=p=>{this._zone.run(()=>this.source.next(new F0(p.matches,s)))};let d=this.registry.get(s);d||(d=this.buildMQL(s),d.addListener(l),this.pendingRemoveListenerFns.push(()=>d.removeListener(l)),this.registry.set(s,d)),d.matches&&r.push(new F0(!0,s))}),r}ngOnDestroy(){let t;for(;t=this.pendingRemoveListenerFns.pop();)t()}buildMQL(t){return function vle(n,e){return e&&window.matchMedia("all").addListener?window.matchMedia(n):function gle(n){const e=new EventTarget;return e.matches="all"===n||""===n,e.media=n,e.addListener=()=>{},e.removeListener=()=>{},e.addEventListener=()=>{},e.dispatchEvent=()=>!1,e.onchange=null,e}(n)}(t,si(this._platformId))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.R0b),c.LFG(c.Lbi),c.LFG(re))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const nU={},_le=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.98px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.98px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.98px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.98px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.98px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.98px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.98px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.98px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.98px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],iU="(orientation: portrait) and (max-width: 599.98px)",rU="(orientation: landscape) and (max-width: 959.98px)",sU="(orientation: portrait) and (min-width: 600px) and (max-width: 839.98px)",oU="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.98px)",aU="(orientation: portrait) and (min-width: 840px)",cU="(orientation: landscape) and (min-width: 1280px)",Lc={HANDSET:`${iU}, ${rU}`,TABLET:`${sU} , ${oU}`,WEB:`${aU}, ${cU} `,HANDSET_PORTRAIT:`${iU}`,TABLET_PORTRAIT:`${sU} `,WEB_PORTRAIT:`${aU}`,HANDSET_LANDSCAPE:`${rU}`,TABLET_LANDSCAPE:`${oU}`,WEB_LANDSCAPE:`${cU}`},yle=[{alias:"handset",priority:2e3,mediaQuery:Lc.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:Lc.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:Lc.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:Lc.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:Lc.TABLET_LANDSCAPE},{alias:"tablet.portrait",priority:2100,mediaQuery:Lc.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:Lc.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:Lc.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:Lc.WEB_PORTRAIT,overlapping:!0}],Cle=/(\.|-|_)/g;function Mle(n){let e=n.length>0?n.charAt(0):"",t=n.length>1?n.slice(1):"";return e.toUpperCase()+t}const Sle=new c.OlP("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:()=>{const n=(0,c.f3M)(rI),e=(0,c.f3M)(lo),t=[].concat.apply([],(n||[]).map(r=>Array.isArray(r)?r:[r]));return function xle(n,e=[]){const t={};return n.forEach(i=>{t[i.alias]=i}),e.forEach(i=>{t[i.alias]?Dc(t[i.alias],i):t[i.alias]=i}),function wle(n){return n.forEach(e=>{e.suffix||(e.suffix=function ble(n){return n.replace(Cle,"|").split("|").map(Mle).join("")}(e.alias),e.overlapping=!!e.overlapping)}),n}(Object.keys(t).map(i=>t[i]))}((e.disableDefaultBps?[]:_le).concat(e.addOrientationBps?yle:[]),t)}});let oI=(()=>{class n{constructor(t){this.findByMap=new Map,this.items=[...t].sort(ple)}findByAlias(t){return t?this.findWithPredicate(t,i=>i.alias===t):null}findByQuery(t){return this.findWithPredicate(t,i=>i.mediaQuery===t)}get overlappings(){return this.items.filter(t=>t.overlapping)}get aliases(){return this.items.map(t=>t.alias)}get suffixes(){return this.items.map(t=>t?.suffix??"")}findWithPredicate(t,i){let r=this.findByMap.get(t);return r||(r=this.items.find(i)??null,this.findByMap.set(t,r)),r??null}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Sle))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Mf="print",Ele={alias:Mf,mediaQuery:Mf,priority:1e3};let Ale=(()=>{class n{constructor(t,i,r){this.breakpoints=t,this.layoutConfig=i,this._document=r,this.registeredBeforeAfterPrintHooks=!1,this.isPrintingBeforeAfterEvent=!1,this.beforePrintEventListeners=[],this.afterPrintEventListeners=[],this.formerActivations=null,this.isPrinting=!1,this.queue=new Dle,this.deactivations=[]}withPrintQuery(t){return[...t,Mf]}isPrintEvent(t){return t.mediaQuery.startsWith(Mf)}get printAlias(){return[...this.layoutConfig.printWithBreakpoints??[]]}get printBreakPoints(){return this.printAlias.map(t=>this.breakpoints.findByAlias(t)).filter(t=>null!==t)}getEventBreakpoints({mediaQuery:t}){const i=this.breakpoints.findByQuery(t);return(i?[...this.printBreakPoints,i]:this.printBreakPoints).sort(Bp)}updateEvent(t){let i=this.breakpoints.findByQuery(t.mediaQuery);return this.isPrintEvent(t)&&(i=this.getEventBreakpoints(t)[0],t.mediaQuery=i?.mediaQuery??""),eU(t,i)}registerBeforeAfterPrintHooks(t){if(!this._document.defaultView||this.registeredBeforeAfterPrintHooks)return;this.registeredBeforeAfterPrintHooks=!0;const i=()=>{this.isPrinting||(this.isPrintingBeforeAfterEvent=!0,this.startPrinting(t,this.getEventBreakpoints(new F0(!0,Mf))),t.updateStyles())},r=()=>{this.isPrintingBeforeAfterEvent=!1,this.isPrinting&&(this.stopPrinting(t),t.updateStyles())};this._document.defaultView.addEventListener("beforeprint",i),this._document.defaultView.addEventListener("afterprint",r),this.beforePrintEventListeners.push(i),this.afterPrintEventListeners.push(r)}interceptEvents(t){return i=>{this.isPrintEvent(i)?i.matches&&!this.isPrinting?(this.startPrinting(t,this.getEventBreakpoints(i)),t.updateStyles()):!i.matches&&this.isPrinting&&!this.isPrintingBeforeAfterEvent&&(this.stopPrinting(t),t.updateStyles()):this.collectActivations(t,i)}}blockPropagation(){return t=>!(this.isPrinting||this.isPrintEvent(t))}startPrinting(t,i){this.isPrinting=!0,this.formerActivations=t.activatedBreakpoints,t.activatedBreakpoints=this.queue.addPrintBreakpoints(i)}stopPrinting(t){t.activatedBreakpoints=this.deactivations,this.deactivations=[],this.formerActivations=null,this.queue.clear(),this.isPrinting=!1}collectActivations(t,i){if(!this.isPrinting||this.isPrintingBeforeAfterEvent){if(!this.isPrintingBeforeAfterEvent)return void(this.deactivations=[]);if(!i.matches){const r=this.breakpoints.findByQuery(i.mediaQuery);if(r){const s=this.formerActivations&&this.formerActivations.includes(r),l=!this.formerActivations&&t.activatedBreakpoints.includes(r);(s||l)&&(this.deactivations.push(r),this.deactivations.sort(Bp))}}}}ngOnDestroy(){this._document.defaultView&&(this.beforePrintEventListeners.forEach(t=>this._document.defaultView.removeEventListener("beforeprint",t)),this.afterPrintEventListeners.forEach(t=>this._document.defaultView.removeEventListener("afterprint",t)))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(oI),c.LFG(lo),c.LFG(re))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Dle{constructor(){this.printBreakpoints=[]}addPrintBreakpoints(e){return e.push(Ele),e.sort(Bp),e.forEach(t=>this.addBreakpoint(t)),this.printBreakpoints}addBreakpoint(e){e&&void 0===this.printBreakpoints.find(i=>i.mediaQuery===e.mediaQuery)&&(this.printBreakpoints=function Lle(n){return n?.mediaQuery.startsWith(Mf)??!1}(e)?[e,...this.printBreakpoints]:[...this.printBreakpoints,e])}clear(){this.printBreakpoints=[]}}let Ni=(()=>{class n{constructor(t,i,r){this.matchMedia=t,this.breakpoints=i,this.hook=r,this._useFallbacks=!0,this._activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new Yt.x,this.observeActivations()}get activatedAlias(){return this.activatedBreakpoints[0]?.alias??""}set activatedBreakpoints(t){this._activatedBreakpoints=[...t]}get activatedBreakpoints(){return[...this._activatedBreakpoints]}set useFallbacks(t){this._useFallbacks=t}onMediaChange(t){const i=this.findByQuery(t.mediaQuery);if(i){t=eU(t,i);const r=this.activatedBreakpoints.indexOf(i);t.matches&&-1===r?(this._activatedBreakpoints.push(i),this._activatedBreakpoints.sort(Bp),this.updateStyles()):!t.matches&&-1!==r&&(this._activatedBreakpoints.splice(r,1),this._activatedBreakpoints.sort(Bp),this.updateStyles())}}init(t,i,r,s,l=[]){lU(this.updateMap,t,i,r),lU(this.clearMap,t,i,s),this.buildElementKeyMap(t,i),this.watchExtraTriggers(t,i,l)}getValue(t,i,r){const s=this.elementMap.get(t);if(s){const l=void 0!==r?s.get(r):this.getActivatedValues(s,i);if(l)return l.get(i)}}hasValue(t,i){const r=this.elementMap.get(t);if(r){const s=this.getActivatedValues(r,i);if(s)return void 0!==s.get(i)||!1}return!1}setValue(t,i,r,s){let l=this.elementMap.get(t);if(l){const p=(l.get(s)??new Map).set(i,r);l.set(s,p),this.elementMap.set(t,l)}else l=(new Map).set(s,(new Map).set(i,r)),this.elementMap.set(t,l);const d=this.getValue(t,i);void 0!==d&&this.updateElement(t,i,d)}trackValue(t,i){return this.subject.asObservable().pipe(mn(r=>r.element===t&&r.key===i))}updateStyles(){this.elementMap.forEach((t,i)=>{const r=new Set(this.elementKeyMap.get(i));let s=this.getActivatedValues(t);s&&s.forEach((l,d)=>{this.updateElement(i,d,l),r.delete(d)}),r.forEach(l=>{if(s=this.getActivatedValues(t,l),s){const d=s.get(l);this.updateElement(i,l,d)}else this.clearElement(i,l)})})}clearElement(t,i){const r=this.clearMap.get(t);if(r){const s=r.get(i);s&&(s(),this.subject.next({element:t,key:i,value:""}))}}updateElement(t,i,r){const s=this.updateMap.get(t);if(s){const l=s.get(i);l&&(l(r),this.subject.next({element:t,key:i,value:r}))}}releaseElement(t){const i=this.watcherMap.get(t);i&&(i.forEach(s=>s.unsubscribe()),this.watcherMap.delete(t));const r=this.elementMap.get(t);r&&(r.forEach((s,l)=>r.delete(l)),this.elementMap.delete(t))}triggerUpdate(t,i){const r=this.elementMap.get(t);if(r){const s=this.getActivatedValues(r,i);s&&(i?this.updateElement(t,i,s.get(i)):s.forEach((l,d)=>this.updateElement(t,d,l)))}}buildElementKeyMap(t,i){let r=this.elementKeyMap.get(t);r||(r=new Set,this.elementKeyMap.set(t,r)),r.add(i)}watchExtraTriggers(t,i,r){if(r&&r.length){let s=this.watcherMap.get(t);if(s||(s=new Map,this.watcherMap.set(t,s)),!s.get(i)){const d=(0,s2.T)(...r).subscribe(()=>{const p=this.getValue(t,i);this.updateElement(t,i,p)});s.set(i,d)}}}findByQuery(t){return this.breakpoints.findByQuery(t)}getActivatedValues(t,i){for(let s=0;s<this.activatedBreakpoints.length;s++){const d=t.get(this.activatedBreakpoints[s].alias);if(d&&(void 0===i||d.has(i)&&null!=d.get(i)))return d}if(!this._useFallbacks)return;const r=t.get("");return void 0===i||r&&r.has(i)?r:void 0}observeActivations(){const t=this.breakpoints.items.map(i=>i.mediaQuery);this.hook.registerBeforeAfterPrintHooks(this),this.matchMedia.observe(this.hook.withPrintQuery(t)).pipe((0,Ki.b)(this.hook.interceptEvents(this)),mn(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(sI),c.LFG(oI),c.LFG(Ale))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function lU(n,e,t,i){if(void 0!==i){const r=n.get(e)??new Map;r.set(t,i),n.set(e,r)}}let Gi=(()=>{class n{constructor(t,i,r,s){this.elementRef=t,this.styleBuilder=i,this.styler=r,this.marshal=s,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new Yt.x,this.styleCache=new Map}get parentElement(){return this.elementRef.nativeElement.parentElement}get nativeElement(){return this.elementRef.nativeElement}get activatedValue(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)}set activatedValue(t){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,t,this.marshal.activatedAlias)}ngOnChanges(t){Object.keys(t).forEach(i=>{if(-1!==this.inputs.indexOf(i)){const r=i.split(".").slice(1).join(".");this.setValue(t[i].currentValue,r)}})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}init(t=[]){this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),t)}addStyles(t,i){const r=this.styleBuilder,s=r.shouldCache;let l=this.styleCache.get(t);(!l||!s)&&(l=r.buildStyles(t,i),s&&this.styleCache.set(t,l)),this.mru={...l},this.applyStyleToElement(l),r.sideEffect(t,l,i)}clearStyles(){Object.keys(this.mru).forEach(t=>{this.mru[t]=""}),this.applyStyleToElement(this.mru),this.mru={},this.currentValue=void 0}triggerUpdate(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}getFlexFlowDirection(t,i=!1){if(t){const[r,s]=this.styler.getFlowDirection(t);if(!s&&i){const l=QB(r);this.styler.applyStyleToElements(l,[t])}return r.trim()}return"row"}hasWrap(t){return this.styler.hasWrap(t)}applyStyleToElement(t,i,r=this.nativeElement){this.styler.applyStyleToElement(r,t,i)}setValue(t,i){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,t,i)}updateWithValue(t){this.currentValue!==t&&(this.addStyles(t),this.currentValue=t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(nr),c.Y36(xi),c.Y36(Ni))},n.\u0275dir=c.lG2({type:n,features:[c.TTD]}),n})();function uU(n,e="1",t="1"){let i=[e,t,n],r=n.indexOf("calc");if(r>0){i[2]=dU(n.substring(r).trim());let s=n.substr(0,r).trim().split(" ");2==s.length&&(i[0]=s[0],i[1]=s[1])}else if(0==r)i[2]=dU(n.trim());else{let s=n.split(" ");i=3===s.length?s:[e,t,n]}return i}function dU(n){return n.replace(/[\s]/g,"").replace(/[\/\*\+\-]/g," $& ")}function rM(n,e){if(void 0===e)return n;const t=i=>{const r=+i.slice(0,-"x".length);return n.endsWith("x")&&!isNaN(r)?`${r*e.value}${e.unit}`:n};return n.includes(" ")?n.split(" ").map(t).join(" "):t(n)}EventTarget;let Rle=(()=>{class n extends Gi{constructor(t,i,r,s,l,d,p){super(t,null,i,r),this.ngClassInstance=p,this.DIRECTIVE_KEY="ngClass",this.ngClassInstance||(this.ngClassInstance=new _n(s,l,t,d)),this.init(),this.setValue("","")}set klass(t){this.ngClassInstance.klass=t,this.setValue(t,"")}updateWithValue(t){this.ngClassInstance.ngClass=t,this.ngClassInstance.ngDoCheck()}ngDoCheck(){this.ngClassInstance.ngDoCheck()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(xi),c.Y36(Ni),c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.Qsj),c.Y36(_n,10))},n.\u0275dir=c.lG2({type:n,inputs:{klass:["class","klass"]},features:[c.qOj]}),n})();const Ple=["ngClass","ngClass.xs","ngClass.sm","ngClass.md","ngClass.lg","ngClass.xl","ngClass.lt-sm","ngClass.lt-md","ngClass.lt-lg","ngClass.lt-xl","ngClass.gt-xs","ngClass.gt-sm","ngClass.gt-md","ngClass.gt-lg"];let aI=(()=>{class n extends Rle{constructor(){super(...arguments),this.inputs=Ple}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","ngClass",""],["","ngClass.xs",""],["","ngClass.sm",""],["","ngClass.md",""],["","ngClass.lg",""],["","ngClass.xl",""],["","ngClass.lt-sm",""],["","ngClass.lt-md",""],["","ngClass.lt-lg",""],["","ngClass.lt-xl",""],["","ngClass.gt-xs",""],["","ngClass.gt-sm",""],["","ngClass.gt-md",""],["","ngClass.gt-lg",""]],inputs:{ngClass:"ngClass","ngClass.xs":"ngClass.xs","ngClass.sm":"ngClass.sm","ngClass.md":"ngClass.md","ngClass.lg":"ngClass.lg","ngClass.xl":"ngClass.xl","ngClass.lt-sm":"ngClass.lt-sm","ngClass.lt-md":"ngClass.lt-md","ngClass.lt-lg":"ngClass.lt-lg","ngClass.lt-xl":"ngClass.lt-xl","ngClass.gt-xs":"ngClass.gt-xs","ngClass.gt-sm":"ngClass.gt-sm","ngClass.gt-md":"ngClass.gt-md","ngClass.gt-lg":"ngClass.gt-lg"},features:[c.qOj]}),n})(),Fle=(()=>{class n extends nr{buildStyles(t,i){return{display:"true"===t?i.display||(i.isServer?"initial":""):"none"}}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ole=(()=>{class n extends Gi{constructor(t,i,r,s,l,d,p){super(t,i,r,s),this.layoutConfig=l,this.platformId=d,this.serverModuleLoaded=p,this.DIRECTIVE_KEY="show-hide",this.display="",this.hasLayout=!1,this.hasFlexChild=!1}ngAfterViewInit(){this.trackExtraTriggers();const t=Array.from(this.nativeElement.children);for(let r=0;r<t.length;r++)if(this.marshal.hasValue(t[r],"flex")){this.hasFlexChild=!0;break}cI.has(this.nativeElement)?this.display=cI.get(this.nativeElement):(this.display=this.getDisplayStyle(),cI.set(this.nativeElement,this.display)),this.init();const i=this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY,"");void 0===i||""===i?this.setValue(!0,""):this.triggerUpdate()}ngOnChanges(t){Object.keys(t).forEach(i=>{if(-1!==this.inputs.indexOf(i)){const r=i.split("."),s=r.slice(1).join("."),l=t[i].currentValue;let d=""===l||0!==l&&zr(l);"fxHide"===r[0]&&(d=!d),this.setValue(d,s)}})}trackExtraTriggers(){this.hasLayout=this.marshal.hasValue(this.nativeElement,"layout"),["layout","layout-align"].forEach(t=>{this.marshal.trackValue(this.nativeElement,t).pipe(ki(this.destroySubject)).subscribe(this.triggerUpdate.bind(this))})}getDisplayStyle(){return this.hasLayout||this.hasFlexChild&&this.layoutConfig.addFlexToParent?"flex":this.styler.lookupStyle(this.nativeElement,"display",!0)}updateWithValue(t=!0){if(""===t)return;const i=Kr(this.platformId);this.addStyles(t?"true":"false",{display:this.display,isServer:i}),i&&this.serverModuleLoaded&&this.nativeElement.style.setProperty("display",""),this.marshal.triggerUpdate(this.parentElement,"layout-gap")}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(Fle),c.Y36(xi),c.Y36(Ni),c.Y36(lo),c.Y36(c.Lbi),c.Y36(Cf))},n.\u0275dir=c.lG2({type:n,features:[c.qOj,c.TTD]}),n})();const cI=new WeakMap,Ble=["fxShow","fxShow.print","fxShow.xs","fxShow.sm","fxShow.md","fxShow.lg","fxShow.xl","fxShow.lt-sm","fxShow.lt-md","fxShow.lt-lg","fxShow.lt-xl","fxShow.gt-xs","fxShow.gt-sm","fxShow.gt-md","fxShow.gt-lg","fxHide","fxHide.print","fxHide.xs","fxHide.sm","fxHide.md","fxHide.lg","fxHide.xl","fxHide.lt-sm","fxHide.lt-md","fxHide.lt-lg","fxHide.lt-xl","fxHide.gt-xs","fxHide.gt-sm","fxHide.gt-md","fxHide.gt-lg"];let lI=(()=>{class n extends Ole{constructor(){super(...arguments),this.inputs=Ble}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","fxShow",""],["","fxShow.print",""],["","fxShow.xs",""],["","fxShow.sm",""],["","fxShow.md",""],["","fxShow.lg",""],["","fxShow.xl",""],["","fxShow.lt-sm",""],["","fxShow.lt-md",""],["","fxShow.lt-lg",""],["","fxShow.lt-xl",""],["","fxShow.gt-xs",""],["","fxShow.gt-sm",""],["","fxShow.gt-md",""],["","fxShow.gt-lg",""],["","fxHide",""],["","fxHide.print",""],["","fxHide.xs",""],["","fxHide.sm",""],["","fxHide.md",""],["","fxHide.lg",""],["","fxHide.xl",""],["","fxHide.lt-sm",""],["","fxHide.lt-md",""],["","fxHide.lt-lg",""],["","fxHide.lt-xl",""],["","fxHide.gt-xs",""],["","fxHide.gt-sm",""],["","fxHide.gt-md",""],["","fxHide.gt-lg",""]],inputs:{fxShow:"fxShow","fxShow.print":"fxShow.print","fxShow.xs":"fxShow.xs","fxShow.sm":"fxShow.sm","fxShow.md":"fxShow.md","fxShow.lg":"fxShow.lg","fxShow.xl":"fxShow.xl","fxShow.lt-sm":"fxShow.lt-sm","fxShow.lt-md":"fxShow.lt-md","fxShow.lt-lg":"fxShow.lt-lg","fxShow.lt-xl":"fxShow.lt-xl","fxShow.gt-xs":"fxShow.gt-xs","fxShow.gt-sm":"fxShow.gt-sm","fxShow.gt-md":"fxShow.gt-md","fxShow.gt-lg":"fxShow.gt-lg",fxHide:"fxHide","fxHide.print":"fxHide.print","fxHide.xs":"fxHide.xs","fxHide.sm":"fxHide.sm","fxHide.md":"fxHide.md","fxHide.lg":"fxHide.lg","fxHide.xl":"fxHide.xl","fxHide.lt-sm":"fxHide.lt-sm","fxHide.lt-md":"fxHide.lt-md","fxHide.lt-lg":"fxHide.lt-lg","fxHide.lt-xl":"fxHide.lt-xl","fxHide.gt-xs":"fxHide.gt-xs","fxHide.gt-sm":"fxHide.gt-sm","fxHide.gt-md":"fxHide.gt-md","fxHide.gt-lg":"fxHide.gt-lg"},features:[c.qOj]}),n})();class Ule{constructor(e,t,i=!0){this.key=e,this.value=t,this.key=i?e.replace(/['"]/g,"").trim():e.trim(),this.value=i?t.replace(/['"]/g,"").trim():t.trim(),this.value=this.value.replace(/;/,"")}}function hU(n){let e=typeof n;return"object"===e?n.constructor===Array?"array":n.constructor===Set?"set":"object":e}function mU(n){const[e,...t]=n.split(":");return new Ule(e,t.join(":"))}function gU(n,e){return e.key&&(n[e.key]=e.value),n}let $le=(()=>{class n extends Gi{constructor(t,i,r,s,l,d,p,v,C){super(t,null,i,r),this.sanitizer=s,this.ngStyleInstance=p,this.DIRECTIVE_KEY="ngStyle",this.ngStyleInstance||(this.ngStyleInstance=new Ss(t,l,d)),this.init();const w=this.nativeElement.getAttribute("style")??"";this.fallbackStyles=this.buildStyleMap(w),this.isServer=v&&Kr(C)}updateWithValue(t){const i=this.buildStyleMap(t);this.ngStyleInstance.ngStyle={...this.fallbackStyles,...i},this.isServer&&this.applyStyleToElement(i),this.ngStyleInstance.ngDoCheck()}clearStyles(){this.ngStyleInstance.ngStyle=this.fallbackStyles,this.ngStyleInstance.ngDoCheck()}buildStyleMap(t){const i=r=>this.sanitizer.sanitize(c.q3G.STYLE,r)??"";if(t)switch(hU(t)){case"string":return vU(function Gle(n,e=";"){return String(n).trim().split(e).map(t=>t.trim()).filter(t=>""!==t)}(t),i);case"array":return vU(t,i);default:return function pU(n,e){let t=[];return"set"===hU(n)?n.forEach(i=>t.push(i)):Object.keys(n).forEach(i=>{t.push(`${i}:${n[i]}`)}),function jle(n,e){return n.map(mU).filter(i=>!!i).map(i=>(e&&(i.value=e(i.value)),i)).reduce(gU,{})}(t,e)}(t,i)}return{}}ngDoCheck(){this.ngStyleInstance.ngDoCheck()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(xi),c.Y36(Ni),c.Y36(t1),c.Y36(c.aQg),c.Y36(c.Qsj),c.Y36(Ss,10),c.Y36(Cf),c.Y36(c.Lbi))},n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const qle=["ngStyle","ngStyle.xs","ngStyle.sm","ngStyle.md","ngStyle.lg","ngStyle.xl","ngStyle.lt-sm","ngStyle.lt-md","ngStyle.lt-lg","ngStyle.lt-xl","ngStyle.gt-xs","ngStyle.gt-sm","ngStyle.gt-md","ngStyle.gt-lg"];let uI=(()=>{class n extends $le{constructor(){super(...arguments),this.inputs=qle}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","ngStyle",""],["","ngStyle.xs",""],["","ngStyle.sm",""],["","ngStyle.md",""],["","ngStyle.lg",""],["","ngStyle.xl",""],["","ngStyle.lt-sm",""],["","ngStyle.lt-md",""],["","ngStyle.lt-lg",""],["","ngStyle.lt-xl",""],["","ngStyle.gt-xs",""],["","ngStyle.gt-sm",""],["","ngStyle.gt-md",""],["","ngStyle.gt-lg",""]],inputs:{ngStyle:"ngStyle","ngStyle.xs":"ngStyle.xs","ngStyle.sm":"ngStyle.sm","ngStyle.md":"ngStyle.md","ngStyle.lg":"ngStyle.lg","ngStyle.xl":"ngStyle.xl","ngStyle.lt-sm":"ngStyle.lt-sm","ngStyle.lt-md":"ngStyle.lt-md","ngStyle.lt-lg":"ngStyle.lt-lg","ngStyle.lt-xl":"ngStyle.lt-xl","ngStyle.gt-xs":"ngStyle.gt-xs","ngStyle.gt-sm":"ngStyle.gt-sm","ngStyle.gt-md":"ngStyle.gt-md","ngStyle.gt-lg":"ngStyle.gt-lg"},features:[c.qOj]}),n})();function vU(n,e){return n.map(mU).filter(i=>!!i).map(i=>(e&&(i.value=e(i.value)),i)).reduce(gU,{})}let _U=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[nI]}),n})(),Wle=(()=>{class n extends nr{buildStyles(t,{display:i}){const r=QB(t);return{...r,display:"none"===i?i:r.display}}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Yle=["fxLayout","fxLayout.xs","fxLayout.sm","fxLayout.md","fxLayout.lg","fxLayout.xl","fxLayout.lt-sm","fxLayout.lt-md","fxLayout.lt-lg","fxLayout.lt-xl","fxLayout.gt-xs","fxLayout.gt-sm","fxLayout.gt-md","fxLayout.gt-lg"];let Kle=(()=>{class n extends Gi{constructor(t,i,r,s,l){super(t,r,i,s),this._config=l,this.DIRECTIVE_KEY="layout",this.init()}updateWithValue(t){const r=this._config.detectLayoutDisplay?this.styler.lookupStyle(this.nativeElement,"display"):"";this.styleCache=yU.get(r)??new Map,yU.set(r,this.styleCache),this.currentValue!==t&&(this.addStyles(t,{display:r}),this.currentValue=t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(xi),c.Y36(Wle),c.Y36(Ni),c.Y36(lo))},n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})(),bf=(()=>{class n extends Kle{constructor(){super(...arguments),this.inputs=Yle}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","fxLayout",""],["","fxLayout.xs",""],["","fxLayout.sm",""],["","fxLayout.md",""],["","fxLayout.lg",""],["","fxLayout.xl",""],["","fxLayout.lt-sm",""],["","fxLayout.lt-md",""],["","fxLayout.lt-lg",""],["","fxLayout.lt-xl",""],["","fxLayout.gt-xs",""],["","fxLayout.gt-sm",""],["","fxLayout.gt-md",""],["","fxLayout.gt-lg",""]],inputs:{fxLayout:"fxLayout","fxLayout.xs":"fxLayout.xs","fxLayout.sm":"fxLayout.sm","fxLayout.md":"fxLayout.md","fxLayout.lg":"fxLayout.lg","fxLayout.xl":"fxLayout.xl","fxLayout.lt-sm":"fxLayout.lt-sm","fxLayout.lt-md":"fxLayout.lt-md","fxLayout.lt-lg":"fxLayout.lt-lg","fxLayout.lt-xl":"fxLayout.lt-xl","fxLayout.gt-xs":"fxLayout.gt-xs","fxLayout.gt-sm":"fxLayout.gt-sm","fxLayout.gt-md":"fxLayout.gt-md","fxLayout.gt-lg":"fxLayout.gt-lg"},features:[c.qOj]}),n})();const yU=new Map,CU={"margin-left":null,"margin-right":null,"margin-top":null,"margin-bottom":null};let Zle=(()=>{class n extends nr{constructor(t,i){super(),this._styler=t,this._config=i}buildStyles(t,i){return t.endsWith(sM)?function r6e(n,e){const[t,i]=n.split(" "),s=v=>`-${v}`;let l="0px",d=s(i??t),p="0px";return"rtl"===e?p=s(t):l=s(t),{margin:`0px ${l} ${d} ${p}`}}(t=rM(t=t.slice(0,t.indexOf(sM)),this._config.multiplier),i.directionality):{}}sideEffect(t,i,r){const s=r.items;if(t.endsWith(sM)){const l=function i6e(n,e){const[t,i]=n.split(" ");let s="0px",d="0px";return"rtl"===e?d=t:s=t,{padding:`0px ${s} ${i??t} ${d}`}}(t=rM(t=t.slice(0,t.indexOf(sM)),this._config.multiplier),r.directionality);this._styler.applyStyleToElements(l,r.items)}else{t=rM(t,this._config.multiplier),t=this.addFallbackUnit(t);const l=s.pop(),d=function s6e(n,e){const t=bU(e.directionality,e.layout),i={...CU};return i[t]=n,i}(t,r);this._styler.applyStyleToElements(d,s),this._styler.applyStyleToElements(CU,[l])}}addFallbackUnit(t){return isNaN(+t)?t:`${t}${this._config.defaultUnit}`}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(xi),c.LFG(lo))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Qle=["fxLayoutGap","fxLayoutGap.xs","fxLayoutGap.sm","fxLayoutGap.md","fxLayoutGap.lg","fxLayoutGap.xl","fxLayoutGap.lt-sm","fxLayoutGap.lt-md","fxLayoutGap.lt-lg","fxLayoutGap.lt-xl","fxLayoutGap.gt-xs","fxLayoutGap.gt-sm","fxLayoutGap.gt-md","fxLayoutGap.gt-lg"];let Xle=(()=>{class n extends Gi{constructor(t,i,r,s,l,d){super(t,l,s,d),this.zone=i,this.directionality=r,this.styleUtils=s,this.layout="row",this.DIRECTIVE_KEY="layout-gap",this.observerSubject=new Yt.x;const p=[this.directionality.change,this.observerSubject.asObservable()];this.init(p),this.marshal.trackValue(this.nativeElement,"layout").pipe(ki(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}get childrenNodes(){const t=this.nativeElement.children,i=[];for(let r=t.length;r--;)i[r]=t[r];return i}ngAfterContentInit(){this.buildChildObservable(),this.triggerUpdate()}ngOnDestroy(){super.ngOnDestroy(),this.observer&&this.observer.disconnect()}onLayoutChange(t){const r=t.value.split(" ");this.layout=r[0],iM.find(s=>s===this.layout)||(this.layout="row"),this.triggerUpdate()}updateWithValue(t){const i=this.childrenNodes.filter(r=>1===r.nodeType&&this.willDisplay(r)).sort((r,s)=>{const l=+this.styler.lookupStyle(r,"order"),d=+this.styler.lookupStyle(s,"order");return isNaN(l)||isNaN(d)||l===d?0:l>d?1:-1});if(i.length>0){const r=this.directionality.value,s=this.layout;"row"===s&&"rtl"===r?this.styleCache=Jle:"row"===s&&"rtl"!==r?this.styleCache=t6e:"column"===s&&"rtl"===r?this.styleCache=e6e:"column"===s&&"rtl"!==r&&(this.styleCache=n6e),this.addStyles(t,{directionality:r,items:i,layout:s})}}clearStyles(){const t=Object.keys(this.mru).length>0,i=t?"padding":bU(this.directionality.value,this.layout);t&&super.clearStyles(),this.styleUtils.applyStyleToElements({[i]:""},this.childrenNodes)}willDisplay(t){const i=this.marshal.getValue(t,"show-hide");return!0===i||void 0===i&&"none"!==this.styleUtils.lookupStyle(t,"display")}buildChildObservable(){this.zone.runOutsideAngular(()=>{typeof MutationObserver<"u"&&(this.observer=new MutationObserver(t=>{t.some(r=>r.addedNodes&&r.addedNodes.length>0||r.removedNodes&&r.removedNodes.length>0)&&this.observerSubject.next()}),this.observer.observe(this.nativeElement,{childList:!0}))})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(O3),c.Y36(xi),c.Y36(Zle),c.Y36(Ni))},n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})(),MU=(()=>{class n extends Xle{constructor(){super(...arguments),this.inputs=Qle}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","fxLayoutGap",""],["","fxLayoutGap.xs",""],["","fxLayoutGap.sm",""],["","fxLayoutGap.md",""],["","fxLayoutGap.lg",""],["","fxLayoutGap.xl",""],["","fxLayoutGap.lt-sm",""],["","fxLayoutGap.lt-md",""],["","fxLayoutGap.lt-lg",""],["","fxLayoutGap.lt-xl",""],["","fxLayoutGap.gt-xs",""],["","fxLayoutGap.gt-sm",""],["","fxLayoutGap.gt-md",""],["","fxLayoutGap.gt-lg",""]],inputs:{fxLayoutGap:"fxLayoutGap","fxLayoutGap.xs":"fxLayoutGap.xs","fxLayoutGap.sm":"fxLayoutGap.sm","fxLayoutGap.md":"fxLayoutGap.md","fxLayoutGap.lg":"fxLayoutGap.lg","fxLayoutGap.xl":"fxLayoutGap.xl","fxLayoutGap.lt-sm":"fxLayoutGap.lt-sm","fxLayoutGap.lt-md":"fxLayoutGap.lt-md","fxLayoutGap.lt-lg":"fxLayoutGap.lt-lg","fxLayoutGap.lt-xl":"fxLayoutGap.lt-xl","fxLayoutGap.gt-xs":"fxLayoutGap.gt-xs","fxLayoutGap.gt-sm":"fxLayoutGap.gt-sm","fxLayoutGap.gt-md":"fxLayoutGap.gt-md","fxLayoutGap.gt-lg":"fxLayoutGap.gt-lg"},features:[c.qOj]}),n})();const Jle=new Map,e6e=new Map,t6e=new Map,n6e=new Map,sM=" grid";function bU(n,e){switch(e){case"column":return"margin-bottom";case"column-reverse":return"margin-top";case"row":default:return"rtl"===n?"margin-left":"margin-right";case"row-reverse":return"rtl"===n?"margin-right":"margin-left"}}let o6e=(()=>{class n extends nr{constructor(t){super(),this.layoutConfig=t}buildStyles(t,i){let[r,s,...l]=t.split(" "),d=l.join(" ");const p=i.direction.indexOf("column")>-1?"column":"row",v=Op(p)?"max-width":"max-height",C=Op(p)?"min-width":"min-height",w=String(d).indexOf("calc")>-1,A=w||"auto"===d,I=String(d).indexOf("%")>-1&&!w,k=String(d).indexOf("px")>-1||String(d).indexOf("rem")>-1||String(d).indexOf("em")>-1||String(d).indexOf("vw")>-1||String(d).indexOf("vh")>-1;let j=w||k;r="0"==r?0:r,s="0"==s?0:s;const X=!r&&!s;let xe={};const ke={"max-width":null,"max-height":null,"min-width":null,"min-height":null};switch(d||""){case"":const qe=!1!==this.layoutConfig.useColumnBasisZero;d="row"===p?"0%":qe?"0.000000001px":"auto";break;case"initial":case"nogrow":r=0,d="auto";break;case"grow":d="100%";break;case"noshrink":s=0,d="auto";break;case"auto":break;case"none":r=0,s=0,d="auto";break;default:!j&&!I&&!isNaN(d)&&(d+="%"),"0%"===d&&(j=!0),"0px"===d&&(d="0%"),xe=Dc(ke,w?{"flex-grow":r,"flex-shrink":s,"flex-basis":j?d:"100%"}:{flex:`${r} ${s} ${j?d:"100%"}`})}return xe.flex||xe["flex-grow"]||(xe=Dc(ke,w?{"flex-grow":r,"flex-shrink":s,"flex-basis":d}:{flex:`${r} ${s} ${d}`})),"0%"!==d&&"0px"!==d&&"0.000000001px"!==d&&"auto"!==d&&(xe[C]=X||j&&r?d:null,xe[v]=X||!A&&s?d:null),xe[C]||xe[v]?i.hasWrap&&(xe[w?"flex-basis":"flex"]=xe[v]?w?xe[v]:`${r} ${s} ${xe[v]}`:w?xe[C]:`${r} ${s} ${xe[C]}`):xe=Dc(ke,w?{"flex-grow":r,"flex-shrink":s,"flex-basis":d}:{flex:`${r} ${s} ${d}`}),Dc(xe,{"box-sizing":"border-box"})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(lo))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const a6e=["fxFlex","fxFlex.xs","fxFlex.sm","fxFlex.md","fxFlex.lg","fxFlex.xl","fxFlex.lt-sm","fxFlex.lt-md","fxFlex.lt-lg","fxFlex.lt-xl","fxFlex.gt-xs","fxFlex.gt-sm","fxFlex.gt-md","fxFlex.gt-lg"];let c6e=(()=>{class n extends Gi{constructor(t,i,r,s,l){super(t,s,i,l),this.layoutConfig=r,this.marshal=l,this.DIRECTIVE_KEY="flex",this.direction=void 0,this.wrap=void 0,this.flexGrow="1",this.flexShrink="1",this.init()}get shrink(){return this.flexShrink}set shrink(t){this.flexShrink=t||"1",this.triggerReflow()}get grow(){return this.flexGrow}set grow(t){this.flexGrow=t||"1",this.triggerReflow()}ngOnInit(){this.parentElement&&(this.marshal.trackValue(this.parentElement,"layout").pipe(ki(this.destroySubject)).subscribe(this.onLayoutChange.bind(this)),this.marshal.trackValue(this.nativeElement,"layout-align").pipe(ki(this.destroySubject)).subscribe(this.triggerReflow.bind(this)))}onLayoutChange(t){const r=t.value.split(" ");this.direction=r[0],this.wrap=void 0!==r[1]&&"wrap"===r[1],this.triggerUpdate()}updateWithValue(t){void 0===this.direction&&(this.direction=this.getFlexFlowDirection(this.parentElement,!1!==this.layoutConfig.addFlexToParent)),void 0===this.wrap&&(this.wrap=this.hasWrap(this.parentElement));const r=this.direction,s=r.startsWith("row"),l=this.wrap;s&&l?this.styleCache=d6e:s&&!l?this.styleCache=l6e:!s&&l?this.styleCache=f6e:!s&&!l&&(this.styleCache=u6e);const p=uU(String(t).replace(";",""),this.flexGrow,this.flexShrink);this.addStyles(p.join(" "),{direction:r,hasWrap:l})}triggerReflow(){const t=this.activatedValue;if(void 0!==t){const i=uU(t+"",this.flexGrow,this.flexShrink);this.marshal.updateElement(this.nativeElement,this.DIRECTIVE_KEY,i.join(" "))}}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(xi),c.Y36(lo),c.Y36(o6e),c.Y36(Ni))},n.\u0275dir=c.lG2({type:n,inputs:{shrink:["fxShrink","shrink"],grow:["fxGrow","grow"]},features:[c.qOj]}),n})(),wf=(()=>{class n extends c6e{constructor(){super(...arguments),this.inputs=a6e}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","fxFlex",""],["","fxFlex.xs",""],["","fxFlex.sm",""],["","fxFlex.md",""],["","fxFlex.lg",""],["","fxFlex.xl",""],["","fxFlex.lt-sm",""],["","fxFlex.lt-md",""],["","fxFlex.lt-lg",""],["","fxFlex.lt-xl",""],["","fxFlex.gt-xs",""],["","fxFlex.gt-sm",""],["","fxFlex.gt-md",""],["","fxFlex.gt-lg",""]],inputs:{fxFlex:"fxFlex","fxFlex.xs":"fxFlex.xs","fxFlex.sm":"fxFlex.sm","fxFlex.md":"fxFlex.md","fxFlex.lg":"fxFlex.lg","fxFlex.xl":"fxFlex.xl","fxFlex.lt-sm":"fxFlex.lt-sm","fxFlex.lt-md":"fxFlex.lt-md","fxFlex.lt-lg":"fxFlex.lt-lg","fxFlex.lt-xl":"fxFlex.lt-xl","fxFlex.gt-xs":"fxFlex.gt-xs","fxFlex.gt-sm":"fxFlex.gt-sm","fxFlex.gt-md":"fxFlex.gt-md","fxFlex.gt-lg":"fxFlex.gt-lg"},features:[c.qOj]}),n})();const l6e=new Map,u6e=new Map,d6e=new Map,f6e=new Map;let E6e=(()=>{class n extends nr{buildStyles(t){const i={};switch(t=t||"stretch"){case"start":i["align-self"]="flex-start";break;case"end":i["align-self"]="flex-end";break;default:i["align-self"]=t}return i}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const A6e=["fxFlexAlign","fxFlexAlign.xs","fxFlexAlign.sm","fxFlexAlign.md","fxFlexAlign.lg","fxFlexAlign.xl","fxFlexAlign.lt-sm","fxFlexAlign.lt-md","fxFlexAlign.lt-lg","fxFlexAlign.lt-xl","fxFlexAlign.gt-xs","fxFlexAlign.gt-sm","fxFlexAlign.gt-md","fxFlexAlign.gt-lg"];let D6e=(()=>{class n extends Gi{constructor(t,i,r,s){super(t,r,i,s),this.DIRECTIVE_KEY="flex-align",this.styleCache=L6e,this.init()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(xi),c.Y36(E6e),c.Y36(Ni))},n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const L6e=new Map;let dI=(()=>{class n extends D6e{constructor(){super(...arguments),this.inputs=A6e}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","fxFlexAlign",""],["","fxFlexAlign.xs",""],["","fxFlexAlign.sm",""],["","fxFlexAlign.md",""],["","fxFlexAlign.lg",""],["","fxFlexAlign.xl",""],["","fxFlexAlign.lt-sm",""],["","fxFlexAlign.lt-md",""],["","fxFlexAlign.lt-lg",""],["","fxFlexAlign.lt-xl",""],["","fxFlexAlign.gt-xs",""],["","fxFlexAlign.gt-sm",""],["","fxFlexAlign.gt-md",""],["","fxFlexAlign.gt-lg",""]],inputs:{fxFlexAlign:"fxFlexAlign","fxFlexAlign.xs":"fxFlexAlign.xs","fxFlexAlign.sm":"fxFlexAlign.sm","fxFlexAlign.md":"fxFlexAlign.md","fxFlexAlign.lg":"fxFlexAlign.lg","fxFlexAlign.xl":"fxFlexAlign.xl","fxFlexAlign.lt-sm":"fxFlexAlign.lt-sm","fxFlexAlign.lt-md":"fxFlexAlign.lt-md","fxFlexAlign.lt-lg":"fxFlexAlign.lt-lg","fxFlexAlign.lt-xl":"fxFlexAlign.lt-xl","fxFlexAlign.gt-xs":"fxFlexAlign.gt-xs","fxFlexAlign.gt-sm":"fxFlexAlign.gt-sm","fxFlexAlign.gt-md":"fxFlexAlign.gt-md","fxFlexAlign.gt-lg":"fxFlexAlign.gt-lg"},features:[c.qOj]}),n})(),z6e=(()=>{class n extends nr{buildStyles(t,i){const r={},[s,l]=t.split(" ");switch(s){case"center":r["justify-content"]="center";break;case"space-around":r["justify-content"]="space-around";break;case"space-between":r["justify-content"]="space-between";break;case"space-evenly":r["justify-content"]="space-evenly";break;case"end":case"flex-end":r["justify-content"]="flex-end";break;default:r["justify-content"]="flex-start"}switch(l){case"start":case"flex-start":r["align-items"]=r["align-content"]="flex-start";break;case"center":r["align-items"]=r["align-content"]="center";break;case"end":case"flex-end":r["align-items"]=r["align-content"]="flex-end";break;case"space-between":r["align-content"]="space-between",r["align-items"]="stretch";break;case"space-around":r["align-content"]="space-around",r["align-items"]="stretch";break;case"baseline":r["align-content"]="stretch",r["align-items"]="baseline";break;default:r["align-items"]=r["align-content"]="stretch"}return Dc(r,{display:i.inline?"inline-flex":"flex","flex-direction":i.layout,"box-sizing":"border-box","max-width":"stretch"===l?Op(i.layout)?null:"100%":null,"max-height":"stretch"===l&&Op(i.layout)?"100%":null})}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const k6e=["fxLayoutAlign","fxLayoutAlign.xs","fxLayoutAlign.sm","fxLayoutAlign.md","fxLayoutAlign.lg","fxLayoutAlign.xl","fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg"];let N6e=(()=>{class n extends Gi{constructor(t,i,r,s){super(t,r,i,s),this.DIRECTIVE_KEY="layout-align",this.layout="row",this.inline=!1,this.init(),this.marshal.trackValue(this.nativeElement,"layout").pipe(ki(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}updateWithValue(t){const i=this.layout||"row",r=this.inline;"row"===i&&r?this.styleCache=B6e:"row"!==i||r?"row-reverse"===i&&r?this.styleCache=G6e:"row-reverse"!==i||r?"column"===i&&r?this.styleCache=U6e:"column"!==i||r?"column-reverse"===i&&r?this.styleCache=j6e:"column-reverse"===i&&!r&&(this.styleCache=O6e):this.styleCache=P6e:this.styleCache=F6e:this.styleCache=R6e,this.addStyles(t,{layout:i,inline:r})}onLayoutChange(t){const i=t.value.split(" ");this.layout=i[0],this.inline=t.value.includes("inline"),iM.find(r=>r===this.layout)||(this.layout="row"),this.triggerUpdate()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(xi),c.Y36(z6e),c.Y36(Ni))},n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})(),O0=(()=>{class n extends N6e{constructor(){super(...arguments),this.inputs=k6e}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","fxLayoutAlign",""],["","fxLayoutAlign.xs",""],["","fxLayoutAlign.sm",""],["","fxLayoutAlign.md",""],["","fxLayoutAlign.lg",""],["","fxLayoutAlign.xl",""],["","fxLayoutAlign.lt-sm",""],["","fxLayoutAlign.lt-md",""],["","fxLayoutAlign.lt-lg",""],["","fxLayoutAlign.lt-xl",""],["","fxLayoutAlign.gt-xs",""],["","fxLayoutAlign.gt-sm",""],["","fxLayoutAlign.gt-md",""],["","fxLayoutAlign.gt-lg",""]],inputs:{fxLayoutAlign:"fxLayoutAlign","fxLayoutAlign.xs":"fxLayoutAlign.xs","fxLayoutAlign.sm":"fxLayoutAlign.sm","fxLayoutAlign.md":"fxLayoutAlign.md","fxLayoutAlign.lg":"fxLayoutAlign.lg","fxLayoutAlign.xl":"fxLayoutAlign.xl","fxLayoutAlign.lt-sm":"fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md":"fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg":"fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl":"fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs":"fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm":"fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md":"fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg":"fxLayoutAlign.gt-lg"},features:[c.qOj]}),n})();const R6e=new Map,P6e=new Map,F6e=new Map,O6e=new Map,B6e=new Map,U6e=new Map,G6e=new Map,j6e=new Map;let wU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[nI,_f]}),n})(),TU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[nI]}),n})(),fue=(()=>{class n{constructor(t,i){Kr(i)&&!t&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(t,i=[]){return{ngModule:n,providers:t.serverLoaded?[{provide:lo,useValue:{...iI,...t}},{provide:rI,useValue:i,multi:!0},{provide:Cf,useValue:!0}]:[{provide:lo,useValue:{...iI,...t}},{provide:rI,useValue:i,multi:!0}]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Cf),c.LFG(c.Lbi))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[wU,_U,TU,wU,_U,TU]}),n})();const hue=["*",[["mat-card-footer"]]],pue=["*","mat-card-footer"],mue=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],gue=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"];let VU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),n})(),vue=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),n})(),HU=(()=>{class n{constructor(t){this._animationMode=t}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.QbO,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(t,i){2&t&&c.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)},exportAs:["matCard"],ngContentSelectors:pue,decls:2,vars:0,template:function(t,i){1&t&&(c.F$t(hue),c.Hsn(0),c.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}.mat-card._mat-animation-noopable{transition:none !important;animation:none !important}.mat-card>.mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card>.mat-divider-horizontal{left:auto;right:0}.mat-card>.mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card>.mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}"],encapsulation:2,changeDetection:0}),n})(),zU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:gue,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(t,i){1&t&&(c.F$t(mue),c.Hsn(0),c.TgZ(1,"div",0),c.Hsn(2,1),c.qZA(),c.Hsn(3,2))},encapsulation:2,changeDetection:0}),n})(),_ue=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[as,as]}),n})();const yue=["connectionContainer"],Cue=["inputContainer"],Mue=["label"];function bue(n,e){1&n&&(c.ynx(0),c.TgZ(1,"div",14),c._UZ(2,"div",15)(3,"div",16)(4,"div",17),c.qZA(),c.TgZ(5,"div",18),c._UZ(6,"div",15)(7,"div",16)(8,"div",17),c.qZA(),c.BQk())}function wue(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",19),c.NdJ("cdkObserveContent",function(){c.CHM(t);const r=c.oxw();return c.KtG(r.updateOutlineGap())}),c.Hsn(1,1),c.qZA()}if(2&n){const t=c.oxw();c.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)}}function xue(n,e){if(1&n&&(c.ynx(0),c.Hsn(1,2),c.TgZ(2,"span"),c._uU(3),c.qZA(),c.BQk()),2&n){const t=c.oxw(2);c.xp6(3),c.Oqu(t._control.placeholder)}}function Sue(n,e){1&n&&c.Hsn(0,3,["*ngSwitchCase","true"])}function Eue(n,e){1&n&&(c.TgZ(0,"span",23),c._uU(1," *"),c.qZA())}function Aue(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"label",20,21),c.NdJ("cdkObserveContent",function(){c.CHM(t);const r=c.oxw();return c.KtG(r.updateOutlineGap())}),c.YNc(2,xue,4,1,"ng-container",12),c.YNc(3,Sue,1,0,"ng-content",12),c.YNc(4,Eue,2,0,"span",22),c.qZA()}if(2&n){const t=c.oxw();c.ekj("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),c.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),c.uIk("for",t._control.id)("aria-owns",t._control.id),c.xp6(2),c.Q6J("ngSwitchCase",!1),c.xp6(1),c.Q6J("ngSwitchCase",!0),c.xp6(1),c.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function Due(n,e){1&n&&(c.TgZ(0,"div",24),c.Hsn(1,4),c.qZA())}function Lue(n,e){if(1&n&&(c.TgZ(0,"div",25),c._UZ(1,"span",26),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.ekj("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function Iue(n,e){if(1&n&&(c.TgZ(0,"div"),c.Hsn(1,5),c.qZA()),2&n){const t=c.oxw();c.Q6J("@transitionMessages",t._subscriptAnimationState)}}function Tue(n,e){if(1&n&&(c.TgZ(0,"div",30),c._uU(1),c.qZA()),2&n){const t=c.oxw(2);c.Q6J("id",t._hintLabelId),c.xp6(1),c.Oqu(t.hintLabel)}}function Vue(n,e){if(1&n&&(c.TgZ(0,"div",27),c.YNc(1,Tue,2,2,"div",28),c.Hsn(2,6),c._UZ(3,"div",29),c.Hsn(4,7),c.qZA()),2&n){const t=c.oxw();c.Q6J("@transitionMessages",t._subscriptAnimationState),c.xp6(1),c.Q6J("ngIf",t.hintLabel)}}const Hue=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],zue=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let kue=0;const kU=new c.OlP("MatError");let Nue=(()=>{class n{constructor(t,i){this.id="mat-error-"+kue++,t||i.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(t){return new(t||n)(c.$8M("aria-live"),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(t,i){2&t&&c.uIk("id",i.id)},inputs:{id:"id"},features:[c._Bn([{provide:kU,useExisting:n}])]}),n})();const Rue={transitionMessages:xa("transitionMessages",[Xr("enter",Yn({opacity:1,transform:"translateY(0%)"})),Xs("void => enter",[Yn({opacity:0,transform:"translateY(-5px)"}),hi("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let fI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n}),n})();const Pue=new c.OlP("MatHint");let NU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-label"]]}),n})(),Fue=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const Oue=new c.OlP("MatPrefix"),Bue=new c.OlP("MatSuffix");let RU=0;const Gue=PL(class{constructor(n){this._elementRef=n}},"primary"),jue=new c.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),FU=new c.OlP("MatFormField");let OU=(()=>{class n extends Gue{constructor(t,i,r,s,l,d,p){super(t),this._changeDetectorRef=i,this._dir=r,this._defaults=s,this._platform=l,this._ngZone=d,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Yt.x,this._hideRequiredMarker=!1,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+RU++,this._labelId="mat-form-field-label-"+RU++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==p,this.appearance=s?.appearance||"legacy",s&&(this._hideRequiredMarker=Boolean(s.hideRequiredMarker),s.color&&(this.color=this.defaultColor=s.color))}get appearance(){return this._appearance}set appearance(t){const i=this._appearance;this._appearance=t||this._defaults?.appearance||"legacy","outline"===this._appearance&&i!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=zr(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(vs(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(ki(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(ki(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,s2.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(vs(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(vs(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(ki(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const i=this._control?this._control.ngControl:null;return i&&i[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Np(this._label.nativeElement,"transitionend").pipe(yr(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?t.push(i.id):this._hintLabel&&t.push(this._hintLabelId),r&&t.push(r.id)}else this._errorChildren&&t.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,r=".mat-form-field-outline-start",s=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!t||!t.children.length||!t.textContent.trim()){const C=i.querySelectorAll(`${r}, ${s}`);for(let w=0;w<C.length;w++)C[w].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let l=0,d=0;const p=i.querySelectorAll(r),v=i.querySelectorAll(s);if(this._label&&this._label.nativeElement.children.length){const C=i.getBoundingClientRect();if(0===C.width&&0===C.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const w=this._getStartEnd(C),A=t.children,I=this._getStartEnd(A[0].getBoundingClientRect());let k=0;for(let j=0;j<A.length;j++)k+=A[j].offsetWidth;l=Math.abs(I-w)-5,d=k>0?.75*k+10:0}for(let C=0;C<p.length;C++)p[C].style.width=`${l}px`;for(let C=0;C<v.length;C++)v[C].style.width=`${d}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const i=t.getRootNode();return i&&i!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(O3,8),c.Y36(jue,8),c.Y36(Wr),c.Y36(c.R0b),c.Y36(c.QbO,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,i,r){if(1&t&&(c.Suo(r,fI,5),c.Suo(r,fI,7),c.Suo(r,NU,5),c.Suo(r,NU,7),c.Suo(r,Fue,5),c.Suo(r,kU,5),c.Suo(r,Pue,5),c.Suo(r,Oue,5),c.Suo(r,Bue,5)),2&t){let s;c.iGM(s=c.CRH())&&(i._controlNonStatic=s.first),c.iGM(s=c.CRH())&&(i._controlStatic=s.first),c.iGM(s=c.CRH())&&(i._labelChildNonStatic=s.first),c.iGM(s=c.CRH())&&(i._labelChildStatic=s.first),c.iGM(s=c.CRH())&&(i._placeholderChild=s.first),c.iGM(s=c.CRH())&&(i._errorChildren=s),c.iGM(s=c.CRH())&&(i._hintChildren=s),c.iGM(s=c.CRH())&&(i._prefixChildren=s),c.iGM(s=c.CRH())&&(i._suffixChildren=s)}},viewQuery:function(t,i){if(1&t&&(c.Gf(yue,7),c.Gf(Cue,5),c.Gf(Mue,5)),2&t){let r;c.iGM(r=c.CRH())&&(i._connectionContainerRef=r.first),c.iGM(r=c.CRH())&&(i._inputContainerRef=r.first),c.iGM(r=c.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,i){2&t&&c.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[c._Bn([{provide:FU,useExisting:n}]),c.qOj],ngContentSelectors:zue,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,i){1&t&&(c.F$t(Hue),c.TgZ(0,"div",0)(1,"div",1,2),c.NdJ("click",function(s){return i._control.onContainerClick&&i._control.onContainerClick(s)}),c.YNc(3,bue,9,0,"ng-container",3),c.YNc(4,wue,2,1,"div",4),c.TgZ(5,"div",5,6),c.Hsn(7),c.TgZ(8,"span",7),c.YNc(9,Aue,5,16,"label",8),c.qZA()(),c.YNc(10,Due,2,0,"div",9),c.qZA(),c.YNc(11,Lue,2,4,"div",10),c.TgZ(12,"div",11),c.YNc(13,Iue,2,1,"div",12),c.YNc(14,Vue,5,2,"div",13),c.qZA()()),2&t&&(c.xp6(3),c.Q6J("ngIf","outline"==i.appearance),c.xp6(1),c.Q6J("ngIf",i._prefixChildren.length),c.xp6(5),c.Q6J("ngIf",i._hasFloatingLabel()),c.xp6(1),c.Q6J("ngIf",i._suffixChildren.length),c.xp6(1),c.Q6J("ngIf","outline"!=i.appearance),c.xp6(1),c.Q6J("ngSwitch",i._getDisplayedMessages()),c.xp6(1),c.Q6J("ngSwitchCase","error"),c.xp6(1),c.Q6J("ngSwitchCase","hint"))},dependencies:[Bn,xs,g2,a4e],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}','.mat-input-element{font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-input-element::placeholder{transition:none}._mat-animation-noopable .mat-input-element::-moz-placeholder{transition:none}._mat-animation-noopable .mat-input-element::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-input-element:-ms-input-placeholder{transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:rgba(0,0,0,0)}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],encapsulation:2,data:{animation:[Rue.transitionMessages]},changeDetection:0}),n})(),hI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Y2,as,aB,as]}),n})();function BU(n,e){return e?t=>h6(e.pipe(yr(1),function $ue(){return(0,Li.e)((n,e)=>{n.subscribe((0,ti.x)(e,BA.Z))})}()),t.pipe(BU(n))):(0,Mr.z)((t,i)=>n(t,i).pipe(yr(1),p6(t)))}function UU(n,e=uc.z){const t=zB(n,e);return BU(()=>t)}const que=["mat-menu-item",""];function Wue(n,e){1&n&&(c.O4$(),c.TgZ(0,"svg",2),c._UZ(1,"polygon",3),c.qZA())}const GU=["*"];function Yue(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",0),c.NdJ("keydown",function(r){c.CHM(t);const s=c.oxw();return c.KtG(s._handleKeydown(r))})("click",function(){c.CHM(t);const r=c.oxw();return c.KtG(r.closed.emit("click"))})("@transformMenu.start",function(r){c.CHM(t);const s=c.oxw();return c.KtG(s._onAnimationStart(r))})("@transformMenu.done",function(r){c.CHM(t);const s=c.oxw();return c.KtG(s._onAnimationDone(r))}),c.TgZ(1,"div",1),c.Hsn(2),c.qZA()()}if(2&n){const t=c.oxw();c.Q6J("id",t.panelId)("ngClass",t._classList)("@transformMenu",t._panelAnimationState),c.uIk("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby||null)("aria-describedby",t.ariaDescribedby||null)}}const oM={transformMenu:xa("transformMenu",[Xr("void",Yn({opacity:0,transform:"scale(0.8)"})),Xs("void => enter",hi("120ms cubic-bezier(0, 0, 0.2, 1)",Yn({opacity:1,transform:"scale(1)"}))),Xs("* => void",hi("100ms 25ms linear",Yn({opacity:0})))]),fadeInItems:xa("fadeInItems",[Xr("showing",Yn({opacity:1})),Xs("void => *",[Yn({opacity:0}),hi("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},Kue=new c.OlP("MatMenuContent"),pI=new c.OlP("MAT_MENU_PANEL"),Zue=xB(wB(class{}));let Up=(()=>{class n extends Zue{constructor(t,i,r,s,l){super(),this._elementRef=t,this._document=i,this._focusMonitor=r,this._parentMenu=s,this._changeDetectorRef=l,this.role="menuitem",this._hovered=new Yt.x,this._focused=new Yt.x,this._highlighted=!1,this._triggersSubmenu=!1,s?.addItem?.(this)}focus(t,i){this._focusMonitor&&t?this._focusMonitor.focusVia(this._getHostElement(),t,i):this._getHostElement().focus(i),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(t){this.disabled&&(t.preventDefault(),t.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const t=this._elementRef.nativeElement.cloneNode(!0),i=t.querySelectorAll("mat-icon, .material-icons");for(let r=0;r<i.length;r++)i[r].remove();return t.textContent?.trim()||""}_setHighlighted(t){this._highlighted=t,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(re),c.Y36(R0),c.Y36(pI,8),c.Y36(c.sBO))},n.\u0275cmp=c.Xpm({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(t,i){1&t&&c.NdJ("click",function(s){return i._checkDisabled(s)})("mouseenter",function(){return i._handleMouseEnter()}),2&t&&(c.uIk("role",i.role)("tabindex",i._getTabIndex())("aria-disabled",i.disabled.toString())("disabled",i.disabled||null),c.ekj("mat-menu-item",!0)("mat-menu-item-highlighted",i._highlighted)("mat-menu-item-submenu-trigger",i._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[c.qOj],attrs:que,ngContentSelectors:GU,decls:3,vars:3,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(t,i){1&t&&(c.F$t(),c.Hsn(0),c._UZ(1,"div",0),c.YNc(2,Wue,2,0,"svg",1)),2&t&&(c.xp6(1),c.Q6J("matRippleDisabled",i.disableRipple||i.disabled)("matRippleTrigger",i._getHostElement()),c.xp6(1),c.Q6J("ngIf",i._triggersSubmenu))},dependencies:[Bn,OL],encapsulation:2,changeDetection:0}),n})();const jU=new c.OlP("mat-menu-default-options",{providedIn:"root",factory:function Que(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let Xue=0,Gp=(()=>{class n{constructor(t,i,r,s){this._elementRef=t,this._ngZone=i,this._defaultOptions=r,this._changeDetectorRef=s,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new c.n_E,this._tabSubscription=L2.w0.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new Yt.x,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new c.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+Xue++}get xPosition(){return this._xPosition}set xPosition(t){this._xPosition=t,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(t){this._yPosition=t,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(t){this._overlapTrigger=zr(t)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=zr(t)}set panelClass(t){const i=this._previousPanelClass;i&&i.length&&i.split(" ").forEach(r=>{this._classList[r]=!1}),this._previousPanelClass=t,t&&t.length&&(t.split(" ").forEach(r=>{this._classList[r]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(t){this.panelClass=t}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new g4e(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(vs(this._directDescendantItems),ni(t=>(0,s2.T)(...t.map(i=>i._focused)))).subscribe(t=>this._keyManager.updateActiveItem(t)),this._directDescendantItems.changes.subscribe(t=>{const i=this._keyManager;if("enter"===this._panelAnimationState&&i.activeItem?._hasFocus()){const r=t.toArray(),s=Math.max(0,Math.min(r.length-1,i.activeItemIndex||0));r[s]&&!r[s].disabled?i.setActiveItem(s):i.setNextItemActive()}})}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe(vs(this._directDescendantItems),ni(i=>(0,s2.T)(...i.map(r=>r._hovered))))}addItem(t){}removeItem(t){}_handleKeydown(t){const i=t.keyCode,r=this._keyManager;switch(i){case 27:Vp(t)||(t.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===i||40===i)&&r.setFocusOrigin("keyboard"),void r.onKeydown(t)}t.stopPropagation()}focusFirstItem(t="program"){this._ngZone.onStable.pipe(yr(1)).subscribe(()=>{let i=null;if(this._directDescendantItems.length&&(i=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!i||!i.contains(document.activeElement)){const r=this._keyManager;r.setFocusOrigin(t).setFirstItemActive(),!r.activeItem&&i&&i.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(t){const i=Math.min(this._baseElevation+t,24),r=`${this._elevationPrefix}${i}`,s=Object.keys(this._classList).find(l=>l.startsWith(this._elevationPrefix));(!s||s===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[r]=!0,this._previousElevation=r)}setPositionClasses(t=this.xPosition,i=this.yPosition){const r=this._classList;r["mat-menu-before"]="before"===t,r["mat-menu-after"]="after"===t,r["mat-menu-above"]="above"===i,r["mat-menu-below"]="below"===i,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(t){this._animationDone.next(t),this._isAnimating=!1}_onAnimationStart(t){this._isAnimating=!0,"enter"===t.toState&&0===this._keyManager.activeItemIndex&&(t.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(vs(this._allItems)).subscribe(t=>{this._directDescendantItems.reset(t.filter(i=>i._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(jU),c.Y36(c.sBO))},n.\u0275dir=c.lG2({type:n,contentQueries:function(t,i,r){if(1&t&&(c.Suo(r,Kue,5),c.Suo(r,Up,5),c.Suo(r,Up,4)),2&t){let s;c.iGM(s=c.CRH())&&(i.lazyContent=s.first),c.iGM(s=c.CRH())&&(i._allItems=s),c.iGM(s=c.CRH())&&(i.items=s)}},viewQuery:function(t,i){if(1&t&&c.Gf(c.Rgc,5),2&t){let r;c.iGM(r=c.CRH())&&(i.templateRef=r.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),n})(),$U=(()=>{class n extends Gp{constructor(t,i,r,s){super(t,i,r,s),this._elevationPrefix="mat-elevation-z",this._baseElevation=4}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(jU),c.Y36(c.sBO))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(t,i){2&t&&c.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[c._Bn([{provide:pI,useExisting:n}]),c.qOj],ngContentSelectors:GU,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(t,i){1&t&&(c.F$t(),c.YNc(0,Yue,3,6,"ng-template"))},dependencies:[_n],styles:['mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px;position:relative}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.mat-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-menu-submenu-icon{fill:CanvasText}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[oM.transformMenu,oM.fadeInItems]},changeDetection:0}),n})();const qU=new c.OlP("mat-menu-scroll-strategy"),e8e={provide:qU,deps:[ra],useFactory:function Jue(n){return()=>n.scrollStrategies.reposition()}},WU=mf({passive:!0});let t8e=(()=>{class n{constructor(t,i,r,s,l,d,p,v,C){this._overlay=t,this._element=i,this._viewContainerRef=r,this._menuItemInstance=d,this._dir=p,this._focusMonitor=v,this._ngZone=C,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=L2.w0.EMPTY,this._hoverSubscription=L2.w0.EMPTY,this._menuCloseSubscription=L2.w0.EMPTY,this._handleTouchStart=w=>{NL(w)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new c.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new c.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=s,this._parentMaterialMenu=l instanceof Gp?l:void 0,i.nativeElement.addEventListener("touchstart",this._handleTouchStart,WU),d&&(d._triggersSubmenu=this.triggersSubmenu())}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(t){this.menu=t}get menu(){return this._menu}set menu(t){t!==this._menu&&(this._menu=t,this._menuCloseSubscription.unsubscribe(),t&&(this._menuCloseSubscription=t.close.subscribe(i=>{this._destroyMenu(i),("click"===i||"tab"===i)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(i)})))}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,WU),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const t=this.menu;if(this._menuOpen||!t)return;const i=this._createOverlay(t),r=i.getConfig(),s=r.positionStrategy;this._setPosition(t,s),r.hasBackdrop=t.hasBackdrop??!this.triggersSubmenu(),i.attach(this._getPortal(t)),t.lazyContent&&t.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(t),t instanceof Gp&&(t._startAnimation(),t._directDescendantItems.changes.pipe(ki(t.close)).subscribe(()=>{s.withLockedPosition(!1).reapplyLastPosition(),s.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(t,i){this._focusMonitor&&t?this._focusMonitor.focusVia(this._element,t,i):this._element.nativeElement.focus(i)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(t){if(!this._overlayRef||!this.menuOpen)return;const i=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===t||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,i instanceof Gp?(i._resetAnimation(),i.lazyContent?i._animationDone.pipe(mn(r=>"void"===r.toState),yr(1),ki(i.lazyContent._attached)).subscribe({next:()=>i.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),i?.lazyContent?.detach())}_initMenu(t){t.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,t.direction=this.dir,this._setMenuElevation(t),t.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(t){if(t.setElevation){let i=0,r=t.parentMenu;for(;r;)i++,r=r.parentMenu;t.setElevation(i)}}_setIsMenuOpen(t){this._menuOpen=t,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(t)}_createOverlay(t){if(!this._overlayRef){const i=this._getOverlayConfig(t);this._subscribeToPositions(t,i.positionStrategy),this._overlayRef=this._overlay.create(i),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(t){return new KL({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:t.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:t.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(t,i){t.setPositionClasses&&i.positionChanges.subscribe(r=>{const s="start"===r.connectionPair.overlayX?"after":"before",l="top"===r.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>t.setPositionClasses(s,l)):t.setPositionClasses(s,l)})}_setPosition(t,i){let[r,s]="before"===t.xPosition?["end","start"]:["start","end"],[l,d]="above"===t.yPosition?["bottom","top"]:["top","bottom"],[p,v]=[l,d],[C,w]=[r,s],A=0;if(this.triggersSubmenu()){if(w=r="before"===t.xPosition?"start":"end",s=C="end"===r?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const I=this._parentMaterialMenu.items.first;this._parentInnerPadding=I?I._getHostElement().offsetTop:0}A="bottom"===l?this._parentInnerPadding:-this._parentInnerPadding}}else t.overlapTrigger||(p="top"===l?"bottom":"top",v="top"===d?"bottom":"top");i.withPositions([{originX:r,originY:p,overlayX:C,overlayY:l,offsetY:A},{originX:s,originY:p,overlayX:w,overlayY:l,offsetY:A},{originX:r,originY:v,overlayX:C,overlayY:d,offsetY:-A},{originX:s,originY:v,overlayX:w,overlayY:d,offsetY:-A}])}_menuClosingActions(){const t=this._overlayRef.backdropClick(),i=this._overlayRef.detachments(),r=this._parentMaterialMenu?this._parentMaterialMenu.closed:ct(),s=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(mn(l=>l!==this._menuItemInstance),mn(()=>this._menuOpen)):ct();return(0,s2.T)(t,r,s,i)}_handleMousedown(t){kL(t)||(this._openedBy=0===t.button?"mouse":void 0,this.triggersSubmenu()&&t.preventDefault())}_handleKeydown(t){const i=t.keyCode;(13===i||32===i)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===i&&"ltr"===this.dir||37===i&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(t){this.triggersSubmenu()?(t.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(mn(t=>t===this._menuItemInstance&&!t.disabled),UU(0,UL)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof Gp&&this.menu._isAnimating?this.menu._animationDone.pipe(yr(1),UU(0,UL),ki(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(t){return(!this._portal||this._portal.templateRef!==t.templateRef)&&(this._portal=new $L(t.templateRef,this._viewContainerRef)),this._portal}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ra),c.Y36(c.SBq),c.Y36(c.s_b),c.Y36(qU),c.Y36(pI,8),c.Y36(Up,10),c.Y36(O3,8),c.Y36(R0),c.Y36(c.R0b))},n.\u0275dir=c.lG2({type:n,hostVars:3,hostBindings:function(t,i){1&t&&c.NdJ("click",function(s){return i._handleClick(s)})("mousedown",function(s){return i._handleMousedown(s)})("keydown",function(s){return i._handleKeydown(s)}),2&t&&c.uIk("aria-haspopup",i.menu?"menu":null)("aria-expanded",i.menuOpen||null)("aria-controls",i.menuOpen?i.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),n})(),YU=(()=>{class n extends t8e{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-menu-trigger"],exportAs:["matMenuTrigger"],features:[c.qOj]}),n})(),n8e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[e8e],imports:[Y2,as,LB,JC,KC,as]}),n})();const KU=mf({passive:!0});let i8e=(()=>{class n{constructor(t,i){this._platform=t,this._ngZone=i,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return l1.E;const i=Ac(t),r=this._monitoredElements.get(i);if(r)return r.subject;const s=new Yt.x,l="cdk-text-field-autofilled",d=p=>{"cdk-text-field-autofill-start"!==p.animationName||i.classList.contains(l)?"cdk-text-field-autofill-end"===p.animationName&&i.classList.contains(l)&&(i.classList.remove(l),this._ngZone.run(()=>s.next({target:p.target,isAutofilled:!1}))):(i.classList.add(l),this._ngZone.run(()=>s.next({target:p.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",d,KU),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",d,KU)}}),s}stopMonitoring(t){const i=Ac(t),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((t,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Wr),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),r8e=(()=>{class n{constructor(t,i,r,s){this._elementRef=t,this._platform=i,this._ngZone=r,this._destroyed=new Yt.x,this._enabled=!0,this._previousMinRows=-1,this._isViewInited=!1,this._handleFocusEvent=l=>{this._hasFocus="focus"===l.type},this._document=s,this._textareaElement=this._elementRef.nativeElement}get minRows(){return this._minRows}set minRows(t){this._minRows=Hp(t),this._setMinHeight()}get maxRows(){return this._maxRows}set maxRows(t){this._maxRows=Hp(t),this._setMaxHeight()}get enabled(){return this._enabled}set enabled(t){t=zr(t),this._enabled!==t&&((this._enabled=t)?this.resizeToFitContent(!0):this.reset())}get placeholder(){return this._textareaElement.placeholder}set placeholder(t){this._cachedPlaceholderHeight=void 0,t?this._textareaElement.setAttribute("placeholder",t):this._textareaElement.removeAttribute("placeholder"),this._cacheTextareaPlaceholderHeight()}_setMinHeight(){const t=this.minRows&&this._cachedLineHeight?this.minRows*this._cachedLineHeight+"px":null;t&&(this._textareaElement.style.minHeight=t)}_setMaxHeight(){const t=this.maxRows&&this._cachedLineHeight?this.maxRows*this._cachedLineHeight+"px":null;t&&(this._textareaElement.style.maxHeight=t)}ngAfterViewInit(){this._platform.isBrowser&&(this._initialHeight=this._textareaElement.style.height,this.resizeToFitContent(),this._ngZone.runOutsideAngular(()=>{Np(this._getWindow(),"resize").pipe(GL(16),ki(this._destroyed)).subscribe(()=>this.resizeToFitContent(!0)),this._textareaElement.addEventListener("focus",this._handleFocusEvent),this._textareaElement.addEventListener("blur",this._handleFocusEvent)}),this._isViewInited=!0,this.resizeToFitContent(!0))}ngOnDestroy(){this._textareaElement.removeEventListener("focus",this._handleFocusEvent),this._textareaElement.removeEventListener("blur",this._handleFocusEvent),this._destroyed.next(),this._destroyed.complete()}_cacheTextareaLineHeight(){if(this._cachedLineHeight)return;let t=this._textareaElement.cloneNode(!1);t.rows=1,t.style.position="absolute",t.style.visibility="hidden",t.style.border="none",t.style.padding="0",t.style.height="",t.style.minHeight="",t.style.maxHeight="",t.style.overflow="hidden",this._textareaElement.parentNode.appendChild(t),this._cachedLineHeight=t.clientHeight,t.remove(),this._setMinHeight(),this._setMaxHeight()}_measureScrollHeight(){const t=this._textareaElement,i=t.style.marginBottom||"",r=this._platform.FIREFOX,s=r&&this._hasFocus,l=r?"cdk-textarea-autosize-measuring-firefox":"cdk-textarea-autosize-measuring";s&&(t.style.marginBottom=`${t.clientHeight}px`),t.classList.add(l);const d=t.scrollHeight-4;return t.classList.remove(l),s&&(t.style.marginBottom=i),d}_cacheTextareaPlaceholderHeight(){if(!this._isViewInited||null!=this._cachedPlaceholderHeight)return;if(!this.placeholder)return void(this._cachedPlaceholderHeight=0);const t=this._textareaElement.value;this._textareaElement.value=this._textareaElement.placeholder,this._cachedPlaceholderHeight=this._measureScrollHeight(),this._textareaElement.value=t}ngDoCheck(){this._platform.isBrowser&&this.resizeToFitContent()}resizeToFitContent(t=!1){if(!this._enabled||(this._cacheTextareaLineHeight(),this._cacheTextareaPlaceholderHeight(),!this._cachedLineHeight))return;const i=this._elementRef.nativeElement,r=i.value;if(!t&&this._minRows===this._previousMinRows&&r===this._previousValue)return;const s=this._measureScrollHeight(),l=Math.max(s,this._cachedPlaceholderHeight||0);i.style.height=`${l}px`,this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame<"u"?requestAnimationFrame(()=>this._scrollToCaretPosition(i)):setTimeout(()=>this._scrollToCaretPosition(i))}),this._previousValue=r,this._previousMinRows=this._minRows}reset(){void 0!==this._initialHeight&&(this._textareaElement.style.height=this._initialHeight)}_noopInputHandler(){}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_scrollToCaretPosition(t){const{selectionStart:i,selectionEnd:r}=t;!this._destroyed.isStopped&&this._hasFocus&&t.setSelectionRange(i,r)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(Wr),c.Y36(c.R0b),c.Y36(re,8))},n.\u0275dir=c.lG2({type:n,selectors:[["textarea","cdkTextareaAutosize",""]],hostAttrs:["rows","1",1,"cdk-textarea-autosize"],hostBindings:function(t,i){1&t&&c.NdJ("input",function(){return i._noopInputHandler()})},inputs:{minRows:["cdkAutosizeMinRows","minRows"],maxRows:["cdkAutosizeMaxRows","maxRows"],enabled:["cdkTextareaAutosize","enabled"],placeholder:"placeholder"},exportAs:["cdkTextareaAutosize"]}),n})(),mI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const s8e=new c.OlP("MAT_INPUT_VALUE_ACCESSOR"),o8e=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let a8e=0;const c8e=F4e(class{constructor(n,e,t,i){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=i,this.stateChanges=new Yt.x}});let ZU=(()=>{class n extends c8e{constructor(t,i,r,s,l,d,p,v,C,w){super(d,s,l,r),this._elementRef=t,this._platform=i,this._autofillMonitor=v,this._formField=w,this._uid="mat-input-"+a8e++,this.focused=!1,this.stateChanges=new Yt.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(k=>nB().has(k)),this._iOSKeyupListener=k=>{const j=k.target;!j.value&&0===j.selectionStart&&0===j.selectionEnd&&(j.setSelectionRange(1,1),j.setSelectionRange(0,0))};const A=this._elementRef.nativeElement,I=A.nodeName.toLowerCase();this._inputValueAccessor=p||A,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&C.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===I,this._isTextarea="textarea"===I,this._isInFormField=!!w,this._isNativeSelect&&(this.controlType=A.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=zr(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Io.required)??!1}set required(t){this._required=zr(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&nB().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=zr(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const t=this._formField,i=t&&"legacy"===t.appearance&&!t._hasLabel?.()?null:this.placeholder;if(i!==this._previousPlaceholder){const r=this._elementRef.nativeElement;this._previousPlaceholder=i,i?r.setAttribute("placeholder",i):r.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){o8e.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,i=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(Wr),c.Y36(Y1,10),c.Y36(To,8),c.Y36(w4,8),c.Y36(SB),c.Y36(s8e,10),c.Y36(i8e),c.Y36(c.R0b),c.Y36(FU,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(t,i){1&t&&c.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&t&&(c.Ikx("disabled",i.disabled)("required",i.required),c.uIk("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),c.ekj("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[c._Bn([{provide:fI,useExisting:n}]),c.qOj,c.TTD]}),n})(),l8e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[SB],imports:[mI,hI,as,mI,hI]}),n})();const u8e=["tooltip"],QU="tooltip-panel",XU=mf({passive:!0}),JU=new c.OlP("mat-tooltip-scroll-strategy"),p8e={provide:JU,deps:[ra],useFactory:function h8e(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},m8e=new c.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function g8e(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let v8e=(()=>{class n{constructor(t,i,r,s,l,d,p,v,C,w,A,I){this._overlay=t,this._elementRef=i,this._scrollDispatcher=r,this._viewContainerRef=s,this._ngZone=l,this._platform=d,this._ariaDescriber=p,this._focusMonitor=v,this._dir=w,this._defaultOptions=A,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new Yt.x,this._scrollStrategy=C,this._document=I,A&&(A.position&&(this.position=A.position),A.touchGestures&&(this.touchGestures=A.touchGestures)),w.change.pipe(ki(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}get position(){return this._position}set position(t){t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(t){this._disabled=zr(t),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(t){this._showDelay=Hp(t)}get hideDelay(){return this._hideDelay}set hideDelay(t){this._hideDelay=Hp(t),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(t){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=t?String(t).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(ki(this._destroyed)).subscribe(t=>{t?"keyboard"===t&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const t=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,r])=>{t.removeEventListener(i,r,XU)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(t,this.message,"tooltip"),this._focusMonitor.stopMonitoring(t)}show(t=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const i=this._createOverlay();this._detach(),this._portal=this._portal||new ZC(this._tooltipComponent,this._viewContainerRef);const r=this._tooltipInstance=i.attach(this._portal).instance;r._triggerElement=this._elementRef.nativeElement,r._mouseLeaveHideDelay=this._hideDelay,r.afterHidden().pipe(ki(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),r.show(t)}hide(t=this.hideDelay){const i=this._tooltipInstance;i&&(i.isVisible()?i.hide(t):(i._cancelPendingAnimations(),this._detach()))}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){if(this._overlayRef)return this._overlayRef;const t=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),i=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(t);return i.positionChanges.pipe(ki(this._destroyed)).subscribe(r=>{this._updateCurrentPositionClass(r.connectionPair),this._tooltipInstance&&r.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:i,panelClass:`${this._cssClassPrefix}-${QU}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(ki(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(ki(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(ki(this._destroyed)).subscribe(r=>{this._isTooltipVisible()&&27===r.keyCode&&!Vp(r)&&(r.preventDefault(),r.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(t){const i=t.getConfig().positionStrategy,r=this._getOrigin(),s=this._getOverlayPosition();i.withPositions([this._addOffset({...r.main,...s.main}),this._addOffset({...r.fallback,...s.fallback})])}_addOffset(t){return t}_getOrigin(){const t=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i||"below"==i?r={originX:"center",originY:"above"==i?"top":"bottom"}:"before"==i||"left"==i&&t||"right"==i&&!t?r={originX:"start",originY:"center"}:("after"==i||"right"==i&&t||"left"==i&&!t)&&(r={originX:"end",originY:"center"});const{x:s,y:l}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:s,originY:l}}}_getOverlayPosition(){const t=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i?r={overlayX:"center",overlayY:"bottom"}:"below"==i?r={overlayX:"center",overlayY:"top"}:"before"==i||"left"==i&&t||"right"==i&&!t?r={overlayX:"end",overlayY:"center"}:("after"==i||"right"==i&&t||"left"==i&&!t)&&(r={overlayX:"start",overlayY:"center"});const{x:s,y:l}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:s,overlayY:l}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(yr(1),ki(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t,this._tooltipInstance._markForCheck())}_invertPosition(t,i){return"above"===this.position||"below"===this.position?"top"===i?i="bottom":"bottom"===i&&(i="top"):"end"===t?t="start":"start"===t&&(t="end"),{x:t,y:i}}_updateCurrentPositionClass(t){const{overlayY:i,originX:r,originY:s}=t;let l;if(l="center"===i?this._dir&&"rtl"===this._dir.value?"end"===r?"left":"right":"start"===r?"left":"right":"bottom"===i&&"top"===s?"above":"below",l!==this._currentPosition){const d=this._overlayRef;if(d){const p=`${this._cssClassPrefix}-${QU}-`;d.removePanelClass(p+this._currentPosition),d.addPanelClass(p+l)}this._currentPosition=l}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const t=[];if(this._platformSupportsMouseEvents())t.push(["mouseleave",i=>{const r=i.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const i=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};t.push(["touchend",i],["touchcancel",i])}this._addListeners(t),this._passiveListeners.push(...t)}_addListeners(t){t.forEach(([i,r])=>{this._elementRef.nativeElement.addEventListener(i,r,XU)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(t){if(this._isTooltipVisible()){const i=this._document.elementFromPoint(t.clientX,t.clientY),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const t=this.touchGestures;if("off"!==t){const i=this._elementRef.nativeElement,r=i.style;("on"===t||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName)&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),("on"===t||!i.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}}return n.\u0275fac=function(t){c.$Z()},n.\u0275dir=c.lG2({type:n,inputs:{position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),n})(),gI=(()=>{class n extends v8e{constructor(t,i,r,s,l,d,p,v,C,w,A,I){super(t,i,r,s,l,d,p,v,C,w,A,I),this._tooltipComponent=y8e}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ra),c.Y36(c.SBq),c.Y36(kB),c.Y36(c.s_b),c.Y36(c.R0b),c.Y36(Wr),c.Y36(p4e),c.Y36(R0),c.Y36(JU),c.Y36(O3,8),c.Y36(m8e,8),c.Y36(re))},n.\u0275dir=c.lG2({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],exportAs:["matTooltip"],features:[c.qOj]}),n})(),_8e=(()=>{class n{constructor(t,i){this._changeDetectorRef=t,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new Yt.x,this._animationsDisabled="NoopAnimations"===i}show(t){clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},t)}hide(t){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},t)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:t}){(!t||!this._triggerElement.contains(t))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:t}){(t===this._showAnimation||t===this._hideAnimation)&&this._finalizeAnimation(t===this._showAnimation)}_cancelPendingAnimations(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(t){t?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(t){const i=this._tooltip.nativeElement,r=this._showAnimation,s=this._hideAnimation;if(i.classList.remove(t?s:r),i.classList.add(t?r:s),this._isVisible=t,t&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const l=getComputedStyle(i);("0s"===l.getPropertyValue("animation-duration")||"none"===l.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}t&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(t))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.sBO),c.Y36(c.QbO,8))},n.\u0275dir=c.lG2({type:n}),n})(),y8e=(()=>{class n extends _8e{constructor(t,i,r){super(t,r),this._breakpointObserver=i,this._isHandset=this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)"),this._showAnimation="mat-tooltip-show",this._hideAnimation="mat-tooltip-hide"}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.sBO),c.Y36(lB),c.Y36(c.QbO,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(t,i){if(1&t&&c.Gf(u8e,7),2&t){let r;c.iGM(r=c.CRH())&&(i._tooltip=r.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(t,i){1&t&&c.NdJ("mouseleave",function(s){return i._handleMouseLeave(s)}),2&t&&c.Udp("zoom",i.isVisible()?1:null)},features:[c.qOj],decls:4,vars:6,consts:[[1,"mat-tooltip",3,"ngClass","animationend"],["tooltip",""]],template:function(t,i){if(1&t&&(c.TgZ(0,"div",0,1),c.NdJ("animationend",function(s){return i._handleAnimationEnd(s)}),c.ALo(2,"async"),c._uU(3),c.qZA()),2&t){let r;c.ekj("mat-tooltip-handset",null==(r=c.lcZ(2,4,i._isHandset))?null:r.matches),c.Q6J("ngClass",i.tooltipClass),c.xp6(3),c.Oqu(i.message)}},dependencies:[_n,j3],styles:[".mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis;transform:scale(0)}.mat-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}.mat-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-tooltip-show{0%{opacity:0;transform:scale(0)}50%{opacity:.5;transform:scale(0.99)}100%{opacity:1;transform:scale(1)}}@keyframes mat-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(1)}}.mat-tooltip-show{animation:mat-tooltip-show 200ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-tooltip-hide{animation:mat-tooltip-hide 100ms cubic-bezier(0, 0, 0.2, 1) forwards}"],encapsulation:2,changeDetection:0}),n})(),C8e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[p8e],imports:[CB,Y2,JC,as,as,KC]}),n})();var eG=R(8247);let xf=(()=>{class n{constructor(t,i){this.afAuth=t,this.afs=i,this.loginError=new ts(null),this.actualError=this.loginError.asObservable(),this.user=new ts(null),this.activeUser=this.user.asObservable(),this.afAuth.authState.subscribe(r=>{r&&(this.userData=r,console.log("user:",r.displayName),this.user.next(r))})}switchErr(t){switch(t.code){case"auth/user-not-found":return"User not found";case"auth/wrong-password":return"Wrong password";default:return"Login Error"}}login(t,i){return this.afAuth.signInWithEmailAndPassword(t,i).then(()=>this.loginError.next(null)).catch(r=>{let s=new Error(this.switchErr(r));this.loginError.next(s)})}get isLoggedIn(){return this.afAuth.authState}logout(){var t=this;return(0,Se.Z)(function*(){t.afAuth.signOut().then(()=>{t.user.next(null),console.log("logged-out"),window.location.reload()})})()}updateUser(t){this.afAuth.authState.subscribe(i=>{i&&(0,eG.af)(i,{displayName:t})})}signUp(t,i,r){this.afAuth.createUserWithEmailAndPassword(t,i).then(s=>{this.login(t,i).then(()=>{if(this.updateUser(r),null!=s){let l=this.afs.createId();const d={user:s.user?.uid||"",content:"Welcome "+r+"! Grab your sticky notes! Double click to edit text and color",timestampCreated:(new Date).getTime().toString(),timestampUpdated:(new Date).getTime().toString(),title:"Welcome!",color:"rgb(255, 255, 161)",zIndex:100,id:l};this.afs.collection("notes").doc(l).set(d)}})})}SetUserData(t){return this.afs.doc(`users/${t.uid}`).set(t,{merge:!0})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(o2),c.LFG(F9))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const M8e=["loginform"];function b8e(n,e){if(1&n&&(c.TgZ(0,"mat-error"),c._uU(1),c.qZA()),2&n){const t=c.oxw(2);c.xp6(1),c.Oqu(t.formErrors.email)}}function w8e(n,e){if(1&n&&(c.TgZ(0,"mat-error"),c._uU(1),c.qZA()),2&n){const t=c.oxw(2);c.xp6(1),c.Oqu(t.formErrors.password)}}function x8e(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"form",10,11),c.NdJ("ngSubmit",function(){c.CHM(t);const r=c.oxw();return c.KtG(r.login(r.email,r.password))}),c.TgZ(2,"mat-form-field",12)(3,"input",13),c.NdJ("ngModelChange",function(r){c.CHM(t);const s=c.oxw();return c.KtG(s.email=r)}),c.qZA(),c.YNc(4,b8e,2,1,"mat-error",9),c.qZA(),c.TgZ(5,"mat-form-field",14)(6,"input",15),c.NdJ("ngModelChange",function(r){c.CHM(t);const s=c.oxw();return c.KtG(s.password=r)}),c.qZA(),c.YNc(7,w8e,2,1,"mat-error",9),c.qZA()()}if(2&n){const t=c.oxw();c.Q6J("formGroup",t.loginForm),c.xp6(3),c.Q6J("ngModel",t.email),c.xp6(1),c.Q6J("ngIf",t.formErrors.email),c.xp6(2),c.Q6J("ngModel",t.password),c.xp6(1),c.Q6J("ngIf",t.formErrors.password)}}function S8e(n,e){if(1&n&&(c.TgZ(0,"mat-error"),c._uU(1),c.qZA()),2&n){const t=c.oxw(2);c.xp6(1),c.Oqu(t.formErrors.email)}}function E8e(n,e){if(1&n&&(c.TgZ(0,"mat-error"),c._uU(1),c.qZA()),2&n){const t=c.oxw(2);c.xp6(1),c.Oqu(t.formErrors.password)}}function A8e(n,e){if(1&n&&(c.TgZ(0,"mat-error"),c._uU(1),c.qZA()),2&n){const t=c.oxw(2);c.xp6(1),c.Oqu(t.formErrors.name)}}function D8e(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"form",16,11),c.NdJ("ngSubmit",function(){c.CHM(t);const r=c.oxw();return c.KtG(r.login(r.email,r.password))}),c.TgZ(2,"mat-form-field",14)(3,"input",13),c.NdJ("ngModelChange",function(r){c.CHM(t);const s=c.oxw();return c.KtG(s.email=r)}),c.qZA(),c.YNc(4,S8e,2,1,"mat-error",9),c.qZA(),c.TgZ(5,"mat-form-field",14)(6,"input",15),c.NdJ("ngModelChange",function(r){c.CHM(t);const s=c.oxw();return c.KtG(s.password=r)}),c.qZA(),c.YNc(7,E8e,2,1,"mat-error",9),c.qZA(),c.TgZ(8,"mat-form-field",14)(9,"input",17),c.NdJ("ngModelChange",function(r){c.CHM(t);const s=c.oxw();return c.KtG(s.name=r)}),c.qZA(),c.YNc(10,A8e,2,1,"mat-error",9),c.qZA()()}if(2&n){const t=c.oxw();c.Q6J("formGroup",t.loginForm),c.xp6(3),c.Q6J("ngModel",t.email),c.xp6(1),c.Q6J("ngIf",t.formErrors.email),c.xp6(2),c.Q6J("ngModel",t.password),c.xp6(1),c.Q6J("ngIf",t.formErrors.password),c.xp6(2),c.Q6J("ngModel",t.name),c.xp6(1),c.Q6J("ngIf",t.formErrors.name)}}function L8e(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"button",18),c.NdJ("click",function(){c.CHM(t);const r=c.oxw();return c.KtG(r.login(r.email,r.password))}),c._uU(1,"Login"),c.qZA()}if(2&n){const t=c.oxw();c.Q6J("disabled",t.loginForm.invalid)}}function I8e(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"button",19),c.NdJ("click",function(){c.CHM(t);const r=c.oxw();return c.KtG(r.signup(r.email,r.password,r.name))}),c._uU(1,"Signup"),c.qZA()}}function T8e(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"button",20),c.NdJ("click",function(){c.CHM(t);const r=c.oxw();return c.KtG(r.accountCreate=!r.accountCreate)}),c._uU(1,"Cancel"),c.qZA()}}function V8e(n,e){1&n&&(c.TgZ(0,"p"),c._uU(1,"Don't have an account? Create one:"),c.qZA())}function H8e(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"button",19),c.NdJ("click",function(){c.CHM(t);const r=c.oxw();return c.KtG(r.accountCreate=!r.accountCreate)}),c._uU(1,"Signup"),c.qZA()}}let tG=(()=>{class n{constructor(t,i,r){this.auth=t,this.fb=i,this.dialogRef=r,this.formErrors={email:"",password:"",name:""},this.validationMessages={email:{required:"Email is required",email:"Email not in valid format."},password:{required:"Password is required",minlength:"Password must be at least 8 character long"},name:{required:"Name is required",minlength:"Name must be at least 2 character long"}},this.email="",this.password="",this.accountCreate=!1}ngOnInit(){this.createForm(),this.auth.activeUser.subscribe(t=>{this.user=t||null})}createForm(){this.loginForm=this.fb.group({email:["",[Io.required,Io.pattern]],password:["",[Io.required,Io.minLength(8)]],name:["",[Io.minLength(2)]]}),this.loginForm.valueChanges.subscribe(t=>this.onValueChanged(t)),this.onValueChanged()}onValueChanged(t){if(!this.loginForm)return;const i=this.loginForm;for(const r in this.formErrors)if(this.formErrors.hasOwnProperty(r)){this.formErrors[r]="";const s=i.get(r);if(s&&s.dirty&&!s.valid){const l=this.validationMessages[r];for(const d in s.errors)s.errors.hasOwnProperty(d)&&(this.formErrors[r]+=l[d]+" ")}}}signup(t,i,r){this.auth.signUp(t,i,r),this.email="",this.password="",this.loginForm.reset({email:"",password:""}),this.loginFormDirective.resetForm(),this.dialogRef.close()}login(t,i){this.auth.login(t,i),this.email="",this.password="",this.loginForm.reset({email:"",password:""}),this.loginFormDirective.resetForm(),this.dialogRef.close(),this.email="",this.password=""}logout(){this.email="",this.password="",this.auth.logout(),this.user=null}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(xf),c.Y36(E4),c.Y36(Fp))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-login"]],viewQuery:function(t,i){if(1&t&&c.Gf(M8e,5),2&t){let r;c.iGM(r=c.CRH())&&(i.loginFormDirective=r.first)}},decls:12,vars:7,consts:[[1,"login"],["fxLayout","row wrap","color","accent","novalidate","",3,"formGroup","ngSubmit",4,"ngIf"],["fxLayout","row wrap","novalidate","",3,"formGroup","ngSubmit",4,"ngIf"],["fxLayoutAlign","space-between"],["mat-button","",3,"disabled","click",4,"ngIf"],["fxFlex","100"],["mat-button","",3,"click",4,"ngIf"],["mat-button","","color","warn",3,"click",4,"ngIf"],["fxFlex","100","fxFlexAlign","center center",1,"signup"],[4,"ngIf"],["fxLayout","row wrap","color","accent","novalidate","",3,"formGroup","ngSubmit"],["loginform","ngForm"],["fxFlex","100","color","accent"],["matInput","","formControlName","email","placeholder","email","type","text","email","","required","",3,"ngModel","ngModelChange"],["color","accent","fxFlex","100"],["matInput","","formControlName","password","placeholder","password","type","password","required","",3,"ngModel","ngModelChange"],["fxLayout","row wrap","novalidate","",3,"formGroup","ngSubmit"],["matInput","","formControlName","name","placeholder","name","type","text","required","",3,"ngModel","ngModelChange"],["mat-button","",3,"disabled","click"],["mat-button","",3,"click"],["mat-button","","color","warn",3,"click"]],template:function(t,i){1&t&&(c.TgZ(0,"div",0)(1,"mat-dialog-content"),c.YNc(2,x8e,8,5,"form",1),c.YNc(3,D8e,11,7,"form",2),c.qZA(),c.TgZ(4,"mat-dialog-actions",3),c.YNc(5,L8e,2,1,"button",4),c.TgZ(6,"div",5),c.YNc(7,I8e,2,0,"button",6),c.YNc(8,T8e,2,0,"button",7),c.qZA(),c.TgZ(9,"div",8),c.YNc(10,V8e,2,0,"p",9),c.YNc(11,H8e,2,0,"button",6),c.qZA()()()),2&t&&(c.xp6(2),c.Q6J("ngIf",!i.accountCreate),c.xp6(1),c.Q6J("ngIf",i.accountCreate),c.xp6(2),c.Q6J("ngIf",!i.accountCreate),c.xp6(2),c.Q6J("ngIf",i.accountCreate),c.xp6(1),c.Q6J("ngIf",i.accountCreate),c.xp6(2),c.Q6J("ngIf",!i.accountCreate),c.xp6(1),c.Q6J("ngIf",!i.accountCreate))},dependencies:[Bn,eg,Oa,$l,ku,W5,n6,w4,sg,bf,O0,dI,wf,kp,JL,eI,Nue,OU,ZU],styles:[".login[_ngcontent-%COMP%]{padding:30px;height:100%;position:relative}.login[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:20px 0}.signup[_ngcontent-%COMP%]{position:absolute;bottom:0}.signup[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:20px 0}"]}),n})();const Kp={faStar:{prefix:"fas",iconName:"star",icon:[576,512,[11088,61446],"f005","M316.9 18C311.6 7 300.4 0 288.1 0s-23.4 7-28.8 18L195 150.3 51.4 171.5c-12 1.8-22 10.2-25.7 21.7s-.7 24.2 7.9 32.7L137.8 329 113.2 474.7c-2 12 3 24.2 12.9 31.3s23 8 33.8 2.3l128.3-68.5 128.3 68.5c10.8 5.7 23.9 4.9 33.8-2.3s14.9-19.3 12.9-31.3L438.5 329 542.7 225.9c8.6-8.5 11.7-21.2 7.9-32.7s-13.7-19.9-25.7-21.7L381.2 150.3 316.9 18z"]},regStar:{prefix:"far",iconName:"star",icon:[576,512,[11088,61446],"f005","M287.9 0C297.1 0 305.5 5.25 309.5 13.52L378.1 154.8L531.4 177.5C540.4 178.8 547.8 185.1 550.7 193.7C553.5 202.4 551.2 211.9 544.8 218.2L433.6 328.4L459.9 483.9C461.4 492.9 457.7 502.1 450.2 507.4C442.8 512.7 432.1 513.4 424.9 509.1L287.9 435.9L150.1 509.1C142.9 513.4 133.1 512.7 125.6 507.4C118.2 502.1 114.5 492.9 115.1 483.9L142.2 328.4L31.11 218.2C24.65 211.9 22.36 202.4 25.2 193.7C28.03 185.1 35.5 178.8 44.49 177.5L197.7 154.8L266.3 13.52C270.4 5.249 278.7 0 287.9 0L287.9 0zM287.9 78.95L235.4 187.2C231.9 194.3 225.1 199.3 217.3 200.5L98.98 217.9L184.9 303C190.4 308.5 192.9 316.4 191.6 324.1L171.4 443.7L276.6 387.5C283.7 383.7 292.2 383.7 299.2 387.5L404.4 443.7L384.2 324.1C382.9 316.4 385.5 308.5 391 303L476.9 217.9L358.6 200.5C350.7 199.3 343.9 194.3 340.5 187.2L287.9 78.95z"]},faEdit:{prefix:"fas",iconName:"pen-to-square",icon:[512,512,["edit"],"f044","M471.6 21.7c-21.9-21.9-57.3-21.9-79.2 0L362.3 51.7l97.9 97.9 30.1-30.1c21.9-21.9 21.9-57.3 0-79.2L471.6 21.7zm-299.2 220c-6.1 6.1-10.8 13.6-13.5 21.9l-29.6 88.8c-2.9 8.6-.6 18.1 5.8 24.6s15.9 8.7 24.6 5.8l88.8-29.6c8.2-2.8 15.7-7.4 21.9-13.5L437.7 172.3 339.7 74.3 172.4 241.7zM96 64C43 64 0 107 0 160V416c0 53 43 96 96 96H352c53 0 96-43 96-96V320c0-17.7-14.3-32-32-32s-32 14.3-32 32v96c0 17.7-14.3 32-32 32H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H96z"]},faNoteSticky:{prefix:"far",iconName:"note-sticky",icon:[448,512,[62026,"sticky-note"],"f249","M384 32H64.01C28.66 32 .0085 60.65 .0065 96L0 415.1C-.002 451.3 28.65 480 64 480h232.1c25.46 0 49.88-10.12 67.89-28.12l55.88-55.89C437.9 377.1 448 353.6 448 328.1V96C448 60.8 419.2 32 384 32zM52.69 427.3C50.94 425.6 48 421.8 48 416l.0195-319.1C48.02 87.18 55.2 80 64.02 80H384c8.674 0 16 7.328 16 16v192h-88C281.1 288 256 313.1 256 344v88H64C58.23 432 54.44 429.1 52.69 427.3zM330.1 417.9C322.9 425.1 313.8 429.6 304 431.2V344c0-4.406 3.594-8 8-8h87.23c-1.617 9.812-6.115 18.88-13.29 26.05L330.1 417.9z"]},faPlus:{prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H48c-17.7 0-32 14.3-32 32s14.3 32 32 32H192V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z"]}};let Zp=(()=>{class n{constructor(t,i){this.auth=t,this.afs=i,this.userUid=null}getNotes(){return this.auth.activeUser.subscribe(t=>{t?(this.userUid=t.uid,this.user=t):(this.userUid=null,this.user=null)}),this.userUid?(console.log("getting notes of user: ",this.userUid),this.afs.collection("notes",t=>t.where("user","==",this.userUid)).valueChanges()):Pr(new Error("No User Logged In!"))}updateNotes(t){t.timestampUpdated=(new Date).getTime().toString(),this.afs.collection("notes").doc(t.id).update({content:t.content,zIndex:t.zIndex,title:t.title,color:t.color,timestampUpdated:t.timestampUpdated})}updateZ(t){this.afs.collection("notes").doc(t.id).update({zIndex:t.zIndex})}like(t){this.afs.collection("notes").doc(t.id).update({pref:t.pref})}savePosition(t,i,r){this.afs.collection("notes").doc(t).update({top:r,left:i})}postNote(t){let i=this.afs.createId();t.timestampCreated=(new Date).getTime().toString(),t.timestampUpdated=(new Date).getTime().toString(),t.id=i,this.afs.collection("notes").doc(i).set(t)}deleteNote(t){let i=t.id;this.afs.collection("notes").doc(i).delete()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(xf),c.LFG(F9))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),JQ=(()=>{class n{constructor(t){this.el=t}ngOnInit(){this.el.nativeElement.style.color=this.setColor(this.el)}setColor(t){let i=t.nativeElement.style.backgroundColor;i=i.substr(4,i.length-5);let r=i.split(", ");return(299*parseInt(r[0])+587*parseInt(r[1])+114*parseInt(r[2]))/1e3>=128?"#222":"white"}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","appContrast",""]]}),n})();const lPe=function(){return{margin:0,height:"100%",width:"100%",padding:0}},uPe=function(n){return{position:"absolute",left:0,height:"100%",margin:0,backgroundColor:n}},dPe=function(n){return{backgroundColor:n}};function fPe(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"mat-dialog-content",5,6)(2,"mat-card",7)(3,"mat-card-header",8)(4,"div",9)(5,"form",10)(6,"mat-form-field",11)(7,"input",12),c.NdJ("ngModelChange",function(r){c.CHM(t);const s=c.oxw();return c.KtG(s.editNota.title=r)}),c.qZA()()()(),c.TgZ(8,"div",13)(9,"input",14),c.NdJ("ngModelChange",function(r){c.CHM(t);const s=c.oxw();return c.KtG(s.editNota.color=r)}),c.qZA(),c.TgZ(10,"mat-form-field")(11,"input",15),c.NdJ("ngModelChange",function(r){c.CHM(t);const s=c.oxw();return c.KtG(s.editNota.zIndex=r)}),c.qZA()()()(),c.TgZ(12,"mat-card-content",16)(13,"form",17)(14,"mat-form-field",18)(15,"textarea",19,20),c.NdJ("ngModelChange",function(r){c.CHM(t);const s=c.oxw();return c.KtG(s.editNota.content=r)}),c.qZA()()()()()()}if(2&n){const t=c.oxw();c.Q6J("ngClass.lt-md","dialog-content-sm")("ngStyle.lt-md",c.DdM(9,lPe)),c.xp6(2),c.Q6J("ngStyle.lt-md",c.VKq(10,uPe,t.editNota.color))("ngStyle",c.VKq(12,dPe,t.editNota.color)),c.xp6(5),c.Q6J("ngModel",t.editNota.title),c.xp6(2),c.Q6J("ngModel",t.editNota.color),c.xp6(2),c.Q6J("ngModel",t.editNota.zIndex),c.xp6(4),c.Q6J("ngClass.lt-md","text-sm")("ngModel",t.editNota.content)}}function hPe(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"button",21),c.NdJ("click",function(){c.CHM(t);const r=c.oxw();return c.KtG(r.update(r.editNota))}),c._uU(1,"Save"),c.qZA()}}function pPe(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"button",22),c.NdJ("click",function(){c.CHM(t);const r=c.oxw();return c.KtG(r.close())}),c._uU(1,"Cancel"),c.qZA()}}const mPe=function(){return{height:"500px",width:"500px"}},gPe=function(){return{margin:0,padding:0,backgroundColor:"green"}};let vPe=(()=>{class n{constructor(t,i,r){this.noteService=t,this.dialogRef=i,this.data=r,this.editTitle=!1,this.editNota=r}ngOnInit(){}close(){this.dialogRef.close(),this.editNota=null}update(t){this.noteService.updateNotes(t),this.dialogRef.close()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Zp),c.Y36(Fp),c.Y36(nM))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-edit-note"]],decls:6,vars:8,consts:[["fxLayoutAlign","center start",1,"mat-dialog",3,"ngClass.lt-md","ngStyle","ngStyle.lt-md"],[3,"ngClass.lt-md","ngStyle.lt-md",4,"ngIf"],["fxFlex","100"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","color","warn",3,"click",4,"ngIf"],[3,"ngClass.lt-md","ngStyle.lt-md"],["editNote",""],["fxLayoutAlign","start start","fxFlex","100","fxLayout","row wrap","color","primary","appContrast","",1,"mat-elevation-z5",3,"ngStyle.lt-md","ngStyle"],["fxFlex","100","fxLayout","row"],["fxLayoutAlign","start center","fxFlex","80",1,"card-title"],["action",""],["color","accent"],["matInput","","name","title","type","text",3,"ngModel","ngModelChange"],["fxFlex","20",1,"note-options"],["id","color-pick","type","color",1,"col-pick",3,"ngModel","ngModelChange"],["matInput","","color","accent","placeholder","Position",1,"r",3,"ngModel","ngModelChange"],["fxFlex","80",1,""],["action","","fxFlex","100"],["fxFlex","100","color","accent",1,"full-width"],["placeholder","Your note","name","content","matInput","","type","text","rows","10","cdkTextareaAutosize","","cdkAutosizeMinRows","10","cdkAutosizeMaxRows","10",3,"ngClass.lt-md","ngModel","ngModelChange"],["autosize","cdkTextareaAutosize"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","warn",3,"click"]],template:function(t,i){1&t&&(c.TgZ(0,"div",0),c.YNc(1,fPe,17,14,"mat-dialog-content",1),c.TgZ(2,"mat-dialog-actions",2)(3,"div"),c.YNc(4,hPe,2,0,"button",3),c.YNc(5,pPe,2,0,"button",4),c.qZA()()()),2&t&&(c.Q6J("ngClass.lt-md","mat-dialog-sm")("ngStyle",c.DdM(6,mPe))("ngStyle.lt-md",c.DdM(7,gPe)),c.xp6(1),c.Q6J("ngIf",i.editNota),c.xp6(3),c.Q6J("ngIf",i.editNota),c.xp6(1),c.Q6J("ngIf",i.editNota))},dependencies:[Bn,Ss,eg,Oa,$l,ku,B5,To,bf,O0,wf,aI,uI,kp,HU,zU,VU,JL,eI,OU,r8e,ZU,JQ],styles:[".mat-dialog[_ngcontent-%COMP%]{position:relative}.mat-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]{overflow:visible}.mat-dialog[_ngcontent-%COMP%]   mat-dialog-actions[_ngcontent-%COMP%]{height:50px;position:absolute;bottom:20px}.mat-dialog-sm[_ngcontent-%COMP%]{position:absolute;top:10px;left:0;width:100vw;height:100vw;background-color:green!important}.mat-dialog-sm[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]{overflow:visible}.mat-dialog-sm[_ngcontent-%COMP%]   mat-dialog-actions[_ngcontent-%COMP%]{height:50px;position:absolute;bottom:20px}.dialog-content-sm[_ngcontent-%COMP%]{position:relative;margin:0!important;width:100vw!important;height:100%!important}.col-pick[_ngcontent-%COMP%]{-webkit-appearance:none;appearance:none;border:none;background-color:transparent}.col-pick[_ngcontent-%COMP%]::-webkit-color-swatch{border-radius:5px;border:none;box-shadow:0 0 2px 2px #0004}mat-card[_ngcontent-%COMP%]{position:relative;max-height:100%;max-width:100%;background-color:#ffffa1;overflow:scroll}mat-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{display:block;height:10%}mat-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{display:block}mat-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .note-options[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{margin-top:20px;width:60%}mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{height:90%}mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{height:100%}mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{height:32px;width:80%!important;padding:0}.text-sm[_ngcontent-%COMP%]{font-size:20px}"]}),n})(),_Pe=(()=>{class n{constructor(t,i,r){this.noteService=t,this.dialogRef=i,this.data=r,this.nota=r}ngOnInit(){}delete(){this.noteService.deleteNote(this.nota),this.dialogRef.close()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Zp),c.Y36(Fp),c.Y36(nM))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-delete-note"]],decls:9,vars:0,consts:[[1,"dialog"],["fxLayoutAlign","center center"],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","",3,"click"]],template:function(t,i){1&t&&(c.TgZ(0,"div",0)(1,"mat-dialog-content",1)(2,"h4"),c._uU(3,"Are you sure you want delete this note?"),c.qZA()(),c.TgZ(4,"mat-dialog-actions")(5,"button",2),c.NdJ("click",function(){return i.delete()}),c._uU(6,"Delete"),c.qZA(),c.TgZ(7,"button",3),c.NdJ("click",function(){return i.dialogRef.close()}),c._uU(8,"Cancel"),c.qZA()()())},dependencies:[O0,kp,JL,eI],styles:["mat-dialog-content[_ngcontent-%COMP%]{background-color:transparent!important;width:300px;height:200px}body[_ngcontent-%COMP%]{background-color:#ffffa1}"]}),n})(),xM=(()=>{class n{constructor(t,i,r){this.auth=t,this.afs=i,this.afAuth=r}getPropics(){return this.afs.collection("propic").valueChanges()}updatePropic(t){this.afAuth.authState.subscribe(i=>{i&&(0,eG.af)(i,{photoURL:t})})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(xf),c.LFG(F9),c.LFG(o2))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yPe=(()=>{class n{constructor(t,i,r){this.el=t,this.renderer=i,this.noteService=r,this.move=!1,this.pos1=0,this.pos2=0,this.pos3=0,this.pos4=0,this.left=0,this.top=0}dragMouseDown(t){this.move=!0,(t=t||window.event).preventDefault(),this.pos3=t.clientX,this.pos4=t.clientY,this.elmnt=this.el.nativeElement.id}close(t){(t=t||window.event).preventDefault(),this.elmnt&&this.left&&this.top&&this.noteService.savePosition(this.elmnt,this.left,this.top),this.move=!1}drag(t){if(t=t||window.event,this.move){t.preventDefault(),this.pos1=this.pos3-t.clientX,this.pos2=this.pos4-t.clientY,this.pos3=t.clientX,this.pos4=t.clientY;let i=this.el.nativeElement;i.style.position="absolute",i.style.cursor="grabbing",this.top=i.offsetTop-this.pos2-25,this.left=100*(i.offsetLeft-this.pos1)/window.innerWidth,i.style.top=this.top+"px",i.style.left=this.left+"vw"}}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(Zp))},n.\u0275dir=c.lG2({type:n,selectors:[["","appMove",""]],hostBindings:function(t,i){1&t&&c.NdJ("mousedown",function(){return i.dragMouseDown()})("pointerup",function(){return i.close()},!1,c.evT)("pointermove",function(){return i.drag()},!1,c.evT)}}),n})();const CPe=["clickHoverMenuTrigger"];function MPe(n,e){if(1&n&&(c.TgZ(0,"div",9)(1,"div"),c._UZ(2,"img",10),c.qZA(),c.TgZ(3,"div"),c._uU(4),c.qZA()()),2&n){const t=c.oxw();c.xp6(4),c.hij(" ",t.loginError," ")}}function bPe(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"fa-icon",25),c.NdJ("click",function(){c.CHM(t);const r=c.oxw().$implicit,s=c.oxw(2);return c.KtG(s.like(r))}),c.qZA()}if(2&n){const t=c.oxw(3);c.Q6J("icon",t.regStar)}}function wPe(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"fa-icon",25),c.NdJ("click",function(){c.CHM(t);const r=c.oxw().$implicit,s=c.oxw(2);return c.KtG(s.like(r))}),c.qZA()}if(2&n){const t=c.oxw(3);c.Q6J("icon",t.faStar)}}const xPe=function(n,e,t,i,r){return{backgroundColor:n,position:"absolute",zIndex:e,top:t,left:i,boxShadow:r}};function SPe(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"mat-card",13),c.NdJ("dblclick",function(){const s=c.CHM(t).$implicit,l=c.oxw(2);return c.KtG(l.edit(s))})("contextmenu",function(r){c.CHM(t);const s=c.MAs(5),l=c.MAs(4),d=c.oxw(2);return c.KtG(d.openMenu(r,s,l))}),c.ALo(1,"date"),c.ALo(2,"date"),c._UZ(3,"button",14,15),c.TgZ(6,"mat-card-header",16)(7,"mat-card-title",17)(8,"span"),c._uU(9),c.ALo(10,"titlecase"),c.qZA(),c.TgZ(11,"button",18),c.NdJ("click",function(){const s=c.CHM(t).$implicit,l=c.oxw(2);return c.KtG(l.deleteNote(s))}),c._uU(12,"\xd7"),c.qZA()(),c.YNc(13,bPe,1,1,"fa-icon",19),c.YNc(14,wPe,1,1,"fa-icon",19),c.qZA(),c.TgZ(15,"mat-card-content",20)(16,"p"),c._uU(17),c.qZA()(),c.TgZ(18,"div",21)(19,"button",22),c.NdJ("click",function(){const s=c.CHM(t).$implicit,l=c.oxw(2);return c.KtG(l.edit(s))}),c._UZ(20,"fa-icon",8),c.qZA()(),c.TgZ(21,"mat-menu",null,23)(23,"button",24),c.NdJ("click",function(){const s=c.CHM(t).$implicit,l=c.oxw(2);return c.KtG(l.moveUp(s))}),c.TgZ(24,"span"),c._uU(25,"Move up"),c.qZA()(),c.TgZ(26,"button",24),c.NdJ("click",function(){const s=c.CHM(t).$implicit,l=c.oxw(2);return c.KtG(l.moveDown(s))}),c.TgZ(27,"span"),c._uU(28,"Move down"),c.qZA()(),c.TgZ(29,"button",24),c.NdJ("click",function(){const s=c.CHM(t).$implicit,l=c.oxw(2);return c.KtG(l.foreground(s))}),c.TgZ(30,"span"),c._uU(31,"Move to foreground"),c.qZA()(),c.TgZ(32,"button",24),c.NdJ("click",function(){const s=c.CHM(t).$implicit,l=c.oxw(2);return c.KtG(l.background(s))}),c.TgZ(33,"span"),c._uU(34,"Move to background"),c.qZA()()()()}if(2&n){const t=e.$implicit,i=c.MAs(22),r=c.oxw(2);c.s9C("id",t.id),c.hYB("matTooltip","Created: ",c.xi3(1,11,t.timestampCreated,"MMM/dd, HH:mm")," \n\rLast change: ",c.xi3(2,14,t.timestampUpdated,"MMM/dd, HH:mm"),""),c.Q6J("ngStyle",c.qbA(19,xPe,t.color,t.zIndex,t.top+"px",t.left+"vw",t.zIndex-95+"px "+(t.zIndex-95)+"px 3px #0003"))("fxHide",r.showPreferred&&!t.pref),c.xp6(3),c.Q6J("matMenuTriggerFor",i),c.xp6(6),c.hij(" ",c.lcZ(10,17,t.title)," "),c.xp6(4),c.Q6J("ngIf",!t.pref),c.xp6(1),c.Q6J("ngIf",t.pref),c.xp6(3),c.hij(" ",t.content," "),c.xp6(3),c.Q6J("icon",r.faEdit)}}function EPe(n,e){if(1&n&&(c.TgZ(0,"div",11),c.YNc(1,SPe,35,25,"mat-card",12),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.Q6J("ngForOf",t.notes)}}function APe(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"fa-icon",32),c.NdJ("click",function(){c.CHM(t);const r=c.oxw().$implicit,s=c.oxw(2);return c.KtG(s.like(r))}),c.qZA()}if(2&n){const t=c.oxw(3);c.Q6J("icon",t.regStar)}}function DPe(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"fa-icon",32),c.NdJ("click",function(){c.CHM(t);const r=c.oxw().$implicit,s=c.oxw(2);return c.KtG(s.like(r))}),c.qZA()}if(2&n){const t=c.oxw(3);c.Q6J("icon",t.faStar)}}const LPe=function(n,e){return{backgroundColor:n,zIndex:e,boxShadow:"2px 2px 3px #0004"}};function IPe(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"mat-card",28),c.ALo(1,"date"),c.ALo(2,"date"),c.TgZ(3,"mat-card-header",16)(4,"mat-card-title",17)(5,"span"),c._uU(6),c.ALo(7,"titlecase"),c.qZA(),c.TgZ(8,"button",18),c.NdJ("click",function(){const s=c.CHM(t).$implicit,l=c.oxw(2);return c.KtG(l.deleteNote(s))}),c._uU(9,"\xd7"),c.qZA()()(),c.TgZ(10,"mat-card-content",20)(11,"p"),c._uU(12),c.qZA()(),c.TgZ(13,"div",29),c.YNc(14,APe,1,1,"fa-icon",30),c.YNc(15,DPe,1,1,"fa-icon",30),c.qZA(),c.TgZ(16,"div",31)(17,"button",22),c.NdJ("click",function(){const s=c.CHM(t).$implicit,l=c.oxw(2);return c.KtG(l.edit(s))}),c._UZ(18,"fa-icon",8),c.qZA()()()}if(2&n){const t=e.$implicit,i=c.oxw(2);c.s9C("id",t.id),c.hYB("matTooltip","Created: ",c.xi3(1,10,t.timestampCreated,"MMM/dd, HH:mm")," \n\rLast change: ",c.xi3(2,13,t.timestampUpdated,"MMM/dd, HH:mm"),""),c.Q6J("ngStyle",c.WLB(18,LPe,t.color,t.zIndex))("fxHide",i.showPreferred&&!t.pref),c.xp6(6),c.hij(" ",c.lcZ(7,16,t.title)," "),c.xp6(6),c.hij(" ",t.content," "),c.xp6(2),c.Q6J("ngIf",!t.pref),c.xp6(1),c.Q6J("ngIf",t.pref),c.xp6(3),c.Q6J("icon",i.faEdit)}}function TPe(n,e){if(1&n&&(c.TgZ(0,"div",26),c.YNc(1,IPe,19,21,"mat-card",27),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.Q6J("ngForOf",t.notes)}}function VPe(n,e){if(1&n&&c._UZ(0,"fa-icon",8),2&n){const t=c.oxw();c.Q6J("icon",t.faStar)}}function HPe(n,e){if(1&n&&c._UZ(0,"fa-icon",8),2&n){const t=c.oxw();c.Q6J("icon",t.regStar)}}const zPe=[{path:"login",component:tG},{path:"home",component:(()=>{class n{constructor(t,i,r,s,l,d){this.auth=t,this.afs=i,this.noteService=r,this.el=s,this.dialog=l,this.propic=d,this.user="",this.userUid="",this.faEdit=Kp.faEdit,this.faStar=Kp.faStar,this.icons=Kp,this.showPreferred=!1,this.regStar=Kp.regStar,this.nota=""}ngOnInit(){this.propic.getPropics().subscribe(t=>{this.pics=t}),this.user=null,this.userUid=null,this.auth.actualError.subscribe(t=>{this.loginError=null!=t?t:null}),this.auth.activeUser.subscribe(t=>{null!=t?(this.notes=null,this.user=t,this.userUid=t.uid,this.noteSubscription=this.noteService.getNotes().subscribe(i=>{this.notes=i,this.notes.sort((r,s)=>r.timestampCreated<s.timestampCreated?1:s.timestampCreated<r.timestampCreated?-1:0)})):(this.user=null,this.notes=null,console.log("notes deleted"))}),this.noteSubscription&&this.noteSubscription.unsubscribe()}edit(t){this.nota=this.notes.find(i=>i.id===t.id),this.dialog.open(vPe,{panelClass:"editDialog",width:"fit-content",height:"fit-content",data:this.nota})}createNote(){let t=window.scrollY+window.innerHeight/2-150;console.log(window.innerWidth/2-150);let i=100*(window.innerWidth/2-150)/window.innerWidth;this.notes[0]&&this.userUid?this.noteService.postNote({timestampCreated:"0",content:"",top:t,left:i,title:"",color:"rgb(255, 255, 161)",user:this.userUid,zIndex:this.notes[this.notes.length-1].zIndex+1}):this.userUid&&this.noteService.postNote({timestampCreated:"0",content:"",title:"",color:"rgb(255, 255, 161)",user:this.userUid,zIndex:100})}deleteNote(t){this.dialog.open(_Pe,{panelClass:"deleteDialog",width:"300px",height:"300px",data:t})}like(t){t.pref?(t.pref=!t.pref,this.noteService.like(t)):(t.pref=!0,this.noteService.like(t))}showPref(){this.showPreferred=!this.showPreferred}openMenu(t,i,r){t.preventDefault(),i.openMenu()}foreground(t){this.notes.sort((i,r)=>i.zIndex>r.zIndex?1:r.zIndex>i.zIndex?-1:0),t.zIndex=parseInt(this.notes[this.notes.length-1].zIndex)+1,isNaN(t.zIndex)&&(t.zIndex=100),this.noteService.updateZ(t)}background(t){this.notes.sort((i,r)=>i.zIndex>r.zIndex?1:r.zIndex>i.zIndex?-1:0),t.zIndex=this.notes[0].zIndex-1,isNaN(t.zIndex)&&(t.zIndex=100),this.noteService.updateZ(t)}moveUp(t){t.zIndex=t.zIndex+1,isNaN(t.zIndex)&&(t.zIndex=100),this.noteService.updateZ(t)}moveDown(t){t.zIndex=t.zIndex-1,isNaN(t.zIndex)&&(t.zIndex=100),this.noteService.updateZ(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(xf),c.Y36(F9),c.Y36(Zp),c.Y36(c.SBq),c.Y36(XL),c.Y36(xM))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-home"]],viewQuery:function(t,i){if(1&t&&c.Gf(CPe,5),2&t){let r;c.iGM(r=c.CRH())&&(i.clickHoverMenuTrigger=r.first)}},inputs:{noteDialog:["editNote","noteDialog"],deleteDialog:["deleteNote","deleteDialog"]},decls:10,vars:9,consts:[[1,"container",3,"ngClass.lt-md"],["class","login-error",4,"ngIf"],["fxHide.lt-md","","fxFlex","100","class","card-container","fxLayout","row wrap","fxLayoutAlign","start","fxLayoutAlign.lt-sm","space-around center","fxLayoutGap","10px","fxLayoutGap.gt-md","25px",4,"ngIf"],["fxHide.gt-md","","fxFlex","100","class","card-container-sm","fxLayout","row wrap","fxLayoutAlign","space-around center","fxLayoutAlign.lt-sm","space-around start","fxLayoutGap","0px","fxLayoutGap.gt-md","25px",4,"ngIf"],[1,"actionsButtons"],["mat-fab","","matTooltip","Display only preferites","color","primary",3,"disabled","click"],[3,"icon",4,"ngIf"],["mat-fab","","color","primary",3,"disabled","click"],[3,"icon"],[1,"login-error"],["src","https://firebasestorage.googleapis.com/v0/b/note-34e9a.appspot.com/o/public%2Fpropic%2FblackCat.svg?alt=media&token=29c1d2dc-6a0c-493d-94f1-20a7f13d8e5b","alt","",1,"err-img"],["fxHide.lt-md","","fxFlex","100","fxLayout","row wrap","fxLayoutAlign","start","fxLayoutAlign.lt-sm","space-around center","fxLayoutGap","10px","fxLayoutGap.gt-md","25px",1,"card-container"],["class","","fxLayout","row wrap","color","primary","matTooltipPosition","left","matTooltipShowDelay","1000","matTooltipMousedownHide","true","appMove","","appContrast","",3,"id","ngStyle","matTooltip","fxHide","dblclick","contextmenu",4,"ngFor","ngForOf"],["fxLayout","row wrap","color","primary","matTooltipPosition","left","matTooltipShowDelay","1000","matTooltipMousedownHide","true","appMove","","appContrast","",1,"",3,"id","ngStyle","matTooltip","fxHide","dblclick","contextmenu"],["disabled","",1,"menuTrigger",3,"matMenuTriggerFor"],["trigger","","clickHoverMenuTrigger","matMenuTrigger"],["fxLayoutAlign","space-between start","fxFlex","100"],["fxFlex",""],["mat-icon-button","",1,"deleteButton",3,"click"],["class","pref","fxFlexAlign","start",3,"icon","click",4,"ngIf"],["fxFlex","100"],["fxHide.gt-md","","fxFlex","100","fxLayoutAlign","end end"],["mat-mini-fab","","mat-raised-button","",3,"click"],["menu","matMenu"],["mat-menu-item","",3,"click"],["fxFlexAlign","start",1,"pref",3,"icon","click"],["fxHide.gt-md","","fxFlex","100","fxLayout","row wrap","fxLayoutAlign","space-around center","fxLayoutAlign.lt-sm","space-around start","fxLayoutGap","0px","fxLayoutGap.gt-md","25px",1,"card-container-sm"],["class","card-sm","fxLayout","row wrap","color","primary","matTooltipPosition","left","matTooltipShowDelay","1000","matTooltipMousedownHide","true","appContrast","",3,"id","ngStyle","matTooltip","fxHide",4,"ngFor","ngForOf"],["fxLayout","row wrap","color","primary","matTooltipPosition","left","matTooltipShowDelay","1000","matTooltipMousedownHide","true","appContrast","",1,"card-sm",3,"id","ngStyle","matTooltip","fxHide"],["fxFlex","10","fxLayoutAlign","start center",1,"pref-container"],["class","pref",3,"icon","click",4,"ngIf"],["fxFlex","90","fxLayoutAlign","end end"],[1,"pref",3,"icon","click"]],template:function(t,i){1&t&&(c.TgZ(0,"div",0),c.YNc(1,MPe,5,1,"div",1),c.YNc(2,EPe,2,1,"div",2),c.YNc(3,TPe,2,1,"div",3),c.TgZ(4,"div",4)(5,"button",5),c.NdJ("click",function(){return i.showPref()}),c.YNc(6,VPe,1,1,"fa-icon",6),c.YNc(7,HPe,1,1,"fa-icon",6),c.qZA(),c.TgZ(8,"button",7),c.NdJ("click",function(){return i.createNote()}),c._UZ(9,"fa-icon",8),c.qZA()()()),2&t&&(c.Q6J("ngClass.lt-md","container-sm"),c.xp6(1),c.Q6J("ngIf",i.loginError),c.xp6(1),c.Q6J("ngIf",i.user),c.xp6(1),c.Q6J("ngIf",i.user),c.xp6(2),c.Q6J("disabled",!i.user),c.xp6(1),c.Q6J("ngIf",i.showPreferred),c.xp6(1),c.Q6J("ngIf",!i.showPreferred),c.xp6(1),c.Q6J("disabled",!i.user||i.showPreferred),c.xp6(1),c.Q6J("icon",i.icons.faPlus))},dependencies:[cs,Bn,Ss,bf,MU,O0,dI,wf,lI,aI,uI,eB,kp,HU,zU,VU,vue,$U,Up,YU,gI,yPe,JQ,Ic,Vc],styles:[".login-error[_ngcontent-%COMP%]{height:100px;text-align:center;line-height:100px;width:100vw;color:red;position:absolute;top:100px;margin:0;left:0}.login-error[_ngcontent-%COMP%]   .err-img[_ngcontent-%COMP%]{height:200px}.card-container-sm[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;padding-top:20px}.card-container-sm[_ngcontent-%COMP%]   .deleteButton[_ngcontent-%COMP%]{position:absolute;right:0;top:0}.card-container-sm[_ngcontent-%COMP%]   .card-sm[_ngcontent-%COMP%]{touch-action:none;width:100%!important;border-radius:15px}.card-container-sm[_ngcontent-%COMP%]   .card-sm[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{overflow:hidden;font-size:20px}.card-container-sm[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{cursor:pointer;height:90vw!important;transition:none!important;width:90vw;margin:10px 0;background-color:#ffffa1}.card-container-sm[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{min-height:40px!important;padding-bottom:10px!important}.card-container-sm[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .pref[_ngcontent-%COMP%]{padding-right:20px;color:#fff;filter:drop-shadow(1px 1px 1px rgba(0,0,0,.5333333333))!important}.card-container-sm[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{height:180px!important;overflow:scroll}.card-container-sm[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{word-wrap:break-word}.card-container[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;padding-top:20px}.card-container[_ngcontent-%COMP%]   .deleteButton[_ngcontent-%COMP%]{position:absolute;right:0;top:0}.card-container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{cursor:pointer;height:300px!important;transition:none!important;width:300px;margin:25px 0;background-color:#ffffa1}.card-container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{min-height:40px!important;padding-bottom:10px!important}.card-container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .pref[_ngcontent-%COMP%]{padding-right:20px;color:#fff;filter:drop-shadow(1px 1px 1px rgba(0,0,0,.5333333333))!important}.card-container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{height:180px!important;overflow:scroll}.card-container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{word-wrap:break-word}.actionsButtons[_ngcontent-%COMP%]{position:fixed;z-index:999;right:30px;bottom:50px}.actionsButtons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:5px}.menuTrigger[_ngcontent-%COMP%]{height:0;width:0;opacity:0}"]}),n})()},{path:"",redirectTo:"home",pathMatch:"full"}];let kPe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[a_.forRoot(zPe),a_]}),n})(),NPe=(()=>{class n{constructor(t,i){this.el=t,this.renderer=i}onmouseenter(){this.renderer.addClass(this.el.nativeElement,"highlight")}onmouseleave(){this.renderer.removeClass(this.el.nativeElement,"highlight")}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.Qsj))},n.\u0275dir=c.lG2({type:n,selectors:[["","appHighlight",""]],hostBindings:function(t,i){1&t&&c.NdJ("mouseenter",function(){return i.onmouseenter()})("mouseleave",function(){return i.onmouseleave()})}}),n})();function RPe(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",5)(1,"img",6),c.NdJ("click",function(){const s=c.CHM(t).$implicit,l=c.oxw(2);return c.KtG(l.updatePropic(s.src))}),c.qZA()()}if(2&n){const t=e.$implicit;c.xp6(1),c.s9C("matTooltip",t.name),c.s9C("src",t.src,c.LSH)}}function PPe(n,e){if(1&n&&(c.TgZ(0,"div",3),c.YNc(1,RPe,2,2,"div",4),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.Q6J("ngForOf",t.pics)}}let FPe=(()=>{class n{constructor(t,i,r){this.pics=t,this.dialogRef=i,this.propic=r}ngOnInit(){}updatePropic(t){this.propic.updatePropic(t),this.dialogRef.close()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(nM),c.Y36(Fp),c.Y36(xM))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-propic"]],decls:5,vars:1,consts:[["fxLayout","row wrap"],["fxFlex","100","fxLayoutAlign","center",1,"title"],["class","pics-container","fxLayout","row wrap","fxLayoutAlign","center end",4,"ngIf"],["fxLayout","row wrap","fxLayoutAlign","center end",1,"pics-container"],["class","pic","fxFlex","33","fxFlex.lt-md","100","appHighlight","",4,"ngFor","ngForOf"],["fxFlex","33","fxFlex.lt-md","100","appHighlight","",1,"pic"],["alt","",2,"height","100px","width","100px",3,"matTooltip","src","click"]],template:function(t,i){1&t&&(c.TgZ(0,"div",0)(1,"div",1)(2,"h1"),c._uU(3,"Choose your avatar"),c.qZA()(),c.YNc(4,PPe,2,1,"div",2),c.qZA()),2&t&&(c.xp6(4),c.Q6J("ngIf",i.pics))},dependencies:[cs,Bn,bf,O0,wf,gI,NPe],styles:[".pic[_ngcontent-%COMP%]{text-align:center;transition:all .5s;transform-origin:50% 0%}.highlight[_ngcontent-%COMP%]{background-color:#0003;transform:scale(1.1);border-radius:3px;box-shadow:2px 2px 2px #0004}.pics-container[_ngcontent-%COMP%]{padding-top:30px}.title[_ngcontent-%COMP%]{text-align:center}"]}),n})();function OPe(n,e){if(1&n&&(c.TgZ(0,"span",17),c._uU(1),c.qZA()),2&n){const t=c.oxw(2);c.s9C("matTooltip",t.user.displayName),c.xp6(1),c.Oqu(t.initials)}}function BPe(n,e){if(1&n&&c._UZ(0,"img",18),2&n){const t=c.oxw(2);c.s9C("src",t.user.photoURL,c.LSH)}}function UPe(n,e){if(1&n&&(c.TgZ(0,"button",14),c.YNc(1,OPe,2,2,"span",15),c.YNc(2,BPe,1,1,"img",16),c.qZA()),2&n){const t=c.oxw(),i=c.MAs(11);c.Q6J("matMenuTriggerFor",i),c.xp6(1),c.Q6J("ngIf",!t.user.photoURL),c.xp6(1),c.Q6J("ngIf",t.user.photoURL)}}function GPe(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"button",19),c.NdJ("click",function(){c.CHM(t);const r=c.oxw();return c.KtG(r.logout())}),c._uU(1,"Logout"),c.qZA()}}function jPe(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"button",20),c.NdJ("click",function(){c.CHM(t);const r=c.oxw();return c.KtG(r.openLoginForm())}),c._uU(1,"Login"),c.qZA()}}let $Pe=(()=>{class n{constructor(t,i,r){this.auth=t,this.dialog=i,this.propric=r,this.initials="",this.icons=Kp}ngOnInit(){this.propric.getPropics().subscribe(t=>this.pics=t),this.auth.activeUser.subscribe(t=>{if(t?this.user=t:(this.user="",this.initials=""),this.user.displayName){let i=this.user.displayName.split(" ");if(!this.initials)for(let r=0;r<i.length;r++)this.initials+=i[r][0]}})}logout(){this.auth.logout(),this.user=null,console.log(this.user)}openPropic(){this.dialog.open(FPe,{panelClass:"propicDialog",width:"500px",height:"400px",data:this.pics})}openLoginForm(){this.dialog.open(tG,{panelClass:"loginDialog",width:"500px",height:"450px"})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(xf),c.Y36(XL),c.Y36(xM))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-root"]],decls:22,vars:5,consts:[["fxLayout","row","color","primary"],["fxFlex","100","fxLayout","row","fxLayoutAlign","space-between center"],[1,"logo-icon",3,"icon"],["fxHide.lt-md","",1,"logo"],["fxFlex","30",1,"navButtons"],["fxFlex","","fxLayoutAlign","end center",1,"displayName"],["mat-mini-fab","","color","accent","class","mat-elevation-z7 userBtn",3,"matMenuTriggerFor",4,"ngIf"],["profileMenu",""],["mat-menu-item","",3,"click"],["mat-menu-item",""],["mat-menu-item","","color","warn"],["mat-menu-item","","color","primary",3,"click",4,"ngIf"],[1,"login"],["mat-flat-button","","color","accent",3,"click",4,"ngIf"],["mat-mini-fab","","color","accent",1,"mat-elevation-z7","userBtn",3,"matMenuTriggerFor"],["color","accent",3,"matTooltip",4,"ngIf"],["height","100%","width","100%","alt","",3,"src",4,"ngIf"],["color","accent",3,"matTooltip"],["height","100%","width","100%","alt","",3,"src"],["mat-menu-item","","color","primary",3,"click"],["mat-flat-button","","color","accent",3,"click"]],template:function(t,i){1&t&&(c.TgZ(0,"mat-toolbar",0)(1,"div",1),c._UZ(2,"fa-icon",2),c.TgZ(3,"div",3),c._uU(4,"StickyNotes"),c.qZA(),c._UZ(5,"div",4),c.TgZ(6,"div",5)(7,"span"),c._uU(8),c.qZA(),c.YNc(9,UPe,3,3,"button",6),c.TgZ(10,"mat-menu",null,7)(12,"button",8),c.NdJ("click",function(){return i.openPropic()}),c._uU(13,"User Image"),c.qZA(),c.TgZ(14,"button",9),c._uU(15,"Change Username "),c.qZA(),c.TgZ(16,"button",10),c._uU(17,"Delete Account"),c.qZA(),c.YNc(18,GPe,2,0,"button",11),c.qZA()(),c.TgZ(19,"div",12),c.YNc(20,jPe,2,0,"button",13),c.qZA()()(),c._UZ(21,"router-outlet")),2&t&&(c.xp6(2),c.Q6J("icon",i.icons.faNoteSticky),c.xp6(6),c.hij("Hello ",i.user.displayName,"!"),c.xp6(1),c.Q6J("ngIf",i.user),c.xp6(9),c.Q6J("ngIf",i.user),c.xp6(2),c.Q6J("ngIf",!i.user))},dependencies:[Bn,M6,bf,O0,wf,lI,eB,kp,$U,Up,YU,rle,gI],styles:["mat-toolbar[_ngcontent-%COMP%]{position:fixed;width:100%;height:50px;z-index:999;box-shadow:5px 5px 2px #0004}mat-toolbar[_ngcontent-%COMP%]   .logo-icon[_ngcontent-%COMP%]{margin-right:10px}mat-toolbar[_ngcontent-%COMP%]   .displayName[_ngcontent-%COMP%]{height:100%;display:block;padding:0 30px}mat-toolbar[_ngcontent-%COMP%]   .displayName[_ngcontent-%COMP%]   .userBtn[_ngcontent-%COMP%]{margin-left:20px}mat-toolbar[_ngcontent-%COMP%]   .displayName[_ngcontent-%COMP%]   .userBtn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;margin:0;top:0;left:0}"]}),n})(),qPe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n,bootstrap:[$Pe]}),n.\u0275inj=c.cJS({providers:[xf,Zp,xM],imports:[V1,es,dg,fg,kPe,pi.hO.initializeApp(tO_firebase),w7,Qne,hw,Yoe,Fre,fue,Oce,Q4e,_ue,J3e,hI,l8e,n8e,mI,sle,C8e]}),n})();(0,c.G48)(),ga().bootstrapModule(qPe).catch(n=>console.error(n))},7982:(pt,He,R)=>{R.d(He,{Gb:()=>c.Gb});var c=R(579)},5867:(pt,He,R)=>{R.d(He,{C6:()=>c.getApps,Mq:()=>c.getApp});var c=R(9681);(0,c.registerVersion)("firebase","9.13.0","app")},127:(pt,He,R)=>{R.d(He,{Z:()=>c.Z});var c=R(3942);c.Z.registerVersion("firebase","9.13.0","app-compat")},5881:(pt,He,R)=>{R.r(He);var c=R(5861),G=R(3942),P=R(8247),se=R(2090),re=(R(9681),R(1877),R(4859));function me(){return window}function Y(){return(Y=(0,c.Z)(function*(V,D,H){var q;const{BuildInfo:ue}=me();(0,P.ap)(D.sessionId,"AuthEvent did not contain a session ID");const Oe=yield de(D.sessionId),We={};return(0,P.aq)()?We.ibi=ue.packageName:(0,P.ar)()?We.apn=ue.packageName:(0,P.as)(V,"operation-not-supported-in-this-environment"),ue.displayName&&(We.appDisplayName=ue.displayName),We.sessionId=Oe,(0,P.at)(V,H,D.type,void 0,null!==(q=D.eventId)&&void 0!==q?q:void 0,We)})).apply(this,arguments)}function Re(){return(Re=(0,c.Z)(function*(V){const{BuildInfo:D}=me(),H={};(0,P.aq)()?H.iosBundleId=D.packageName:(0,P.ar)()?H.androidPackageName=D.packageName:(0,P.as)(V,"operation-not-supported-in-this-environment"),yield(0,P.au)(V,H)})).apply(this,arguments)}function tt(){return(tt=(0,c.Z)(function*(V,D,H){const{cordova:q}=me();let ue=()=>{};try{yield new Promise((Oe,We)=>{let ve=null;function Te(){var Ht;Oe();const qt=null===(Ht=q.plugins.browsertab)||void 0===Ht?void 0:Ht.close;"function"==typeof qt&&qt(),"function"==typeof H?.close&&H.close()}function ft(){ve||(ve=window.setTimeout(()=>{We((0,P.aw)(V,"redirect-cancelled-by-user"))},2e3))}function tn(){"visible"===document?.visibilityState&&ft()}D.addPassiveListener(Te),document.addEventListener("resume",ft,!1),(0,P.ar)()&&document.addEventListener("visibilitychange",tn,!1),ue=()=>{D.removePassiveListener(Te),document.removeEventListener("resume",ft,!1),document.removeEventListener("visibilitychange",tn,!1),ve&&window.clearTimeout(ve)}})}finally{ue()}})).apply(this,arguments)}function de(V){return lt.apply(this,arguments)}function lt(){return(lt=(0,c.Z)(function*(V){const D=et(V),H=yield crypto.subtle.digest("SHA-256",D);return Array.from(new Uint8Array(H)).map(ue=>ue.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function et(V){if((0,P.ap)(/[0-9a-zA-Z]+/.test(V),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(V);const D=new ArrayBuffer(V.length),H=new Uint8Array(D);for(let q=0;q<V.length;q++)H[q]=V.charCodeAt(q);return H}class Ne extends P.ay{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(D=>{this.resolveInialized=D})}addPassiveListener(D){this.passiveListeners.add(D)}removePassiveListener(D){this.passiveListeners.delete(D)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(D){return this.resolveInialized(),this.passiveListeners.forEach(H=>H(D)),super.onEvent(D)}initialized(){var D=this;return(0,c.Z)(function*(){yield D.initPromise})()}}function ie(V){return le.apply(this,arguments)}function le(){return(le=(0,c.Z)(function*(V){const D=yield te()._get(he(V));return D&&(yield te()._remove(he(V))),D})).apply(this,arguments)}function ee(){const V=[],D="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let H=0;H<20;H++){const q=Math.floor(Math.random()*D.length);V.push(D.charAt(q))}return V.join("")}function te(){return(0,P.az)(P.b)}function he(V){return(0,P.aA)("authEvent",V.config.apiKey,V.name)}function Be(V){if(!V?.includes("?"))return{};const[D,...H]=V.split("?");return(0,se.zd)(H.join("?"))}function Qe(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,P.aw)("no-auth-event")}}function Gt(){var V;return(null===(V=self?.location)||void 0===V?void 0:V.protocol)||null}function In(V=(0,se.z$)()){return!("file:"!==Gt()&&"ionic:"!==Gt()&&"capacitor:"!==Gt()||!V.toLowerCase().match(/iphone|ipad|ipod|android/))}function $i(){try{const V=self.localStorage,D=P.aI();if(V)return V.setItem(D,"1"),V.removeItem(D),!function ri(V=(0,se.z$)()){return function gr(){return(0,se.w1)()&&11===document?.documentMode}()||function On(V=(0,se.z$)()){return/Edge\/\d+/.test(V)}(V)}()||(0,se.hl)()}catch{return Zn()&&(0,se.hl)()}return!1}function Zn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Wn(){return(function At(){return"http:"===Gt()||"https:"===Gt()}()||(0,se.ru)()||In())&&!function rr(){return(0,se.b$)()||(0,se.UG)()}()&&$i()&&!Zn()}function Ei(){return In()&&typeof document<"u"}function it(){return(it=(0,c.Z)(function*(){return!!Ei()&&new Promise(V=>{const D=setTimeout(()=>{V(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(D),V(!0)})})})).apply(this,arguments)}const jn={LOCAL:"local",NONE:"none",SESSION:"session"},wn=P.ax,di="persistence";function En(V){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,c.Z)(function*(V){yield V._initializationPromise;const D=mt(),H=P.aA(di,V.config.apiKey,V.name);D&&D.setItem(H,V._getPersistence())})).apply(this,arguments)}function mt(){var V;try{return(null===(V=function Sn(){return typeof window<"u"?window:null}())||void 0===V?void 0:V.sessionStorage)||null}catch{return null}}const ht=P.ax;class gt{constructor(){this.browserResolver=P.az(P.k),this.cordovaResolver=P.az(class an{constructor(){this._redirectPersistence=P.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=P.aB,this._overrideRedirectResult=P.aC}_initialize(D){var H=this;return(0,c.Z)(function*(){const q=D._key();let ue=H.eventManagers.get(q);return ue||(ue=new Ne(D),H.eventManagers.set(q,ue),H.attachCallbackListeners(D,ue)),ue})()}_openPopup(D){(0,P.as)(D,"operation-not-supported-in-this-environment")}_openRedirect(D,H,q,ue){var Oe=this;return(0,c.Z)(function*(){!function Me(V){var D,H,q,ue,Oe,We,ve,Te,ft,tn;const Ht=me();(0,P.ax)("function"==typeof(null===(D=Ht?.universalLinks)||void 0===D?void 0:D.subscribe),V,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,P.ax)(typeof(null===(H=Ht?.BuildInfo)||void 0===H?void 0:H.packageName)<"u",V,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,P.ax)("function"==typeof(null===(Oe=null===(ue=null===(q=Ht?.cordova)||void 0===q?void 0:q.plugins)||void 0===ue?void 0:ue.browsertab)||void 0===Oe?void 0:Oe.openUrl),V,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,P.ax)("function"==typeof(null===(Te=null===(ve=null===(We=Ht?.cordova)||void 0===We?void 0:We.plugins)||void 0===ve?void 0:ve.browsertab)||void 0===Te?void 0:Te.isAvailable),V,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,P.ax)("function"==typeof(null===(tn=null===(ft=Ht?.cordova)||void 0===ft?void 0:ft.InAppBrowser)||void 0===tn?void 0:tn.open),V,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(D);const We=yield Oe._initialize(D);yield We.initialized(),We.resetRedirect(),(0,P.aD)(),yield Oe._originValidation(D);const ve=function Ee(V,D,H=null){return{type:D,eventId:H,urlResponse:null,sessionId:ee(),postBody:null,tenantId:V.tenantId,error:(0,P.aw)(V,"no-auth-event")}}(D,q,ue);yield function Xe(V,D){return te()._set(he(V),D)}(D,ve);const Te=yield function K(V,D,H){return Y.apply(this,arguments)}(D,ve,H),ft=yield function Ae(V){const{cordova:D}=me();return new Promise(H=>{D.plugins.browsertab.isAvailable(q=>{let ue=null;q?D.plugins.browsertab.openUrl(V):ue=D.InAppBrowser.open(V,(0,P.av)()?"_blank":"_system","location=yes"),H(ue)})})}(Te);return function De(V,D,H){return tt.apply(this,arguments)}(D,We,ft)})()}_isIframeWebStorageSupported(D,H){throw new Error("Method not implemented.")}_originValidation(D){const H=D._key();return this.originValidationPromises[H]||(this.originValidationPromises[H]=function J(V){return Re.apply(this,arguments)}(D)),this.originValidationPromises[H]}attachCallbackListeners(D,H){const{universalLinks:q,handleOpenURL:ue,BuildInfo:Oe}=me(),We=setTimeout((0,c.Z)(function*(){yield ie(D),H.onEvent(Qe())}),500),ve=function(){var tn=(0,c.Z)(function*(Ht){clearTimeout(We);const qt=yield ie(D);let Er=null;qt&&Ht?.url&&(Er=function be(V,D){var H,q;const ue=function Ge(V){const D=Be(V),H=D.link?decodeURIComponent(D.link):void 0,q=Be(H).link,ue=D.deep_link_id?decodeURIComponent(D.deep_link_id):void 0;return Be(ue).link||ue||q||H||V}(D);if(ue.includes("/__/auth/callback")){const Oe=Be(ue),We=Oe.firebaseError?function ce(V){try{return JSON.parse(V)}catch{return null}}(decodeURIComponent(Oe.firebaseError)):null,ve=null===(q=null===(H=We?.code)||void 0===H?void 0:H.split("auth/"))||void 0===q?void 0:q[1],Te=ve?(0,P.aw)(ve):null;return Te?{type:V.type,eventId:V.eventId,tenantId:V.tenantId,error:Te,urlResponse:null,sessionId:null,postBody:null}:{type:V.type,eventId:V.eventId,tenantId:V.tenantId,sessionId:V.sessionId,urlResponse:ue,postBody:null}}return null}(qt,Ht.url)),H.onEvent(Er||Qe())});return function(qt){return tn.apply(this,arguments)}}();typeof q<"u"&&"function"==typeof q.subscribe&&q.subscribe(null,ve);const Te=ue,ft=`${Oe.packageName.toLowerCase()}://`;me().handleOpenURL=function(){var tn=(0,c.Z)(function*(Ht){if(Ht.toLowerCase().startsWith(ft)&&ve({url:Ht}),"function"==typeof Te)try{Te(Ht)}catch(qt){console.error(qt)}});return function(Ht){return tn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=P.a,this._completeRedirectFn=P.aB,this._overrideRedirectResult=P.aC}_initialize(D){var H=this;return(0,c.Z)(function*(){return yield H.selectUnderlyingResolver(),H.assertedUnderlyingResolver._initialize(D)})()}_openPopup(D,H,q,ue){var Oe=this;return(0,c.Z)(function*(){return yield Oe.selectUnderlyingResolver(),Oe.assertedUnderlyingResolver._openPopup(D,H,q,ue)})()}_openRedirect(D,H,q,ue){var Oe=this;return(0,c.Z)(function*(){return yield Oe.selectUnderlyingResolver(),Oe.assertedUnderlyingResolver._openRedirect(D,H,q,ue)})()}_isIframeWebStorageSupported(D,H){this.assertedUnderlyingResolver._isIframeWebStorageSupported(D,H)}_originValidation(D){return this.assertedUnderlyingResolver._originValidation(D)}get _shouldInitProactively(){return Ei()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ht(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var D=this;return(0,c.Z)(function*(){if(D.underlyingResolver)return;const H=yield function sr(){return it.apply(this,arguments)}();D.underlyingResolver=H?D.cordovaResolver:D.browserResolver})()}}function Dn(V){return V.unwrap()}function fi(V){return _i(V)}function _i(V){const{_tokenResponse:D}=V instanceof se.ZR?V.customData:V;if(!D)return null;if(!(V instanceof se.ZR)&&"temporaryProof"in D&&"phoneNumber"in D)return P.P.credentialFromResult(V);const H=D.providerId;if(!H||H===P.o.PASSWORD)return null;let q;switch(H){case P.o.GOOGLE:q=P.Q;break;case P.o.FACEBOOK:q=P.N;break;case P.o.GITHUB:q=P.T;break;case P.o.TWITTER:q=P.W;break;default:const{oauthIdToken:ue,oauthAccessToken:Oe,oauthTokenSecret:We,pendingToken:ve,nonce:Te}=D;return Oe||We||ue||ve?ve?H.startsWith("saml.")?P.aL._create(H,ve):P.J._fromParams({providerId:H,signInMethod:H,pendingToken:ve,idToken:ue,accessToken:Oe}):new P.U(H).credential({idToken:ue,accessToken:Oe,rawNonce:Te}):null}return V instanceof se.ZR?q.credentialFromError(V):q.credentialFromResult(V)}function Rt(V,D){return D.catch(H=>{throw H instanceof se.ZR&&function Vt(V,D){var H,q;const ue=null===(H=D.customData)||void 0===H?void 0:H._tokenResponse;if("auth/multi-factor-auth-required"===(null===(q=D)||void 0===q?void 0:q.code))D.resolver=new Xn(V,P.an(V,D));else if(ue){const Oe=_i(D),We=D;Oe&&(We.credential=Oe,We.tenantId=ue.tenantId||void 0,We.email=ue.email||void 0,We.phoneNumber=ue.phoneNumber||void 0)}}(V,H),H}).then(H=>{const ue=H.user;return{operationType:H.operationType,credential:fi(H),additionalUserInfo:P.al(H),user:zn.getOrCreate(ue)}})}function yi(V,D){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,c.Z)(function*(V,D){const H=yield D;return{verificationId:H.verificationId,confirm:q=>Rt(V,H.confirm(q))}})).apply(this,arguments)}class Xn{constructor(D,H){this.resolver=H,this.auth=function Qn(V){return V.wrapped()}(D)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(D){return Rt(Dn(this.auth),this.resolver.resolveSignIn(D))}}class zn{constructor(D){this._delegate=D,this.multiFactor=P.ao(D)}static getOrCreate(D){return zn.USER_MAP.has(D)||zn.USER_MAP.set(D,new zn(D)),zn.USER_MAP.get(D)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(D){return this._delegate.getIdTokenResult(D)}getIdToken(D){return this._delegate.getIdToken(D)}linkAndRetrieveDataWithCredential(D){return this.linkWithCredential(D)}linkWithCredential(D){var H=this;return(0,c.Z)(function*(){return Rt(H.auth,P.Z(H._delegate,D))})()}linkWithPhoneNumber(D,H){var q=this;return(0,c.Z)(function*(){return yi(q.auth,P.l(q._delegate,D,H))})()}linkWithPopup(D){var H=this;return(0,c.Z)(function*(){return Rt(H.auth,P.d(H._delegate,D,gt))})()}linkWithRedirect(D){var H=this;return(0,c.Z)(function*(){return yield En(P.aE(H.auth)),P.g(H._delegate,D,gt)})()}reauthenticateAndRetrieveDataWithCredential(D){return this.reauthenticateWithCredential(D)}reauthenticateWithCredential(D){var H=this;return(0,c.Z)(function*(){return Rt(H.auth,P._(H._delegate,D))})()}reauthenticateWithPhoneNumber(D,H){return yi(this.auth,P.r(this._delegate,D,H))}reauthenticateWithPopup(D){return Rt(this.auth,P.e(this._delegate,D,gt))}reauthenticateWithRedirect(D){var H=this;return(0,c.Z)(function*(){return yield En(P.aE(H.auth)),P.h(H._delegate,D,gt)})()}sendEmailVerification(D){return P.ab(this._delegate,D)}unlink(D){var H=this;return(0,c.Z)(function*(){return yield P.ak(H._delegate,D),H})()}updateEmail(D){return P.ag(this._delegate,D)}updatePassword(D){return P.ah(this._delegate,D)}updatePhoneNumber(D){return P.u(this._delegate,D)}updateProfile(D){return P.af(this._delegate,D)}verifyBeforeUpdateEmail(D,H){return P.ac(this._delegate,D,H)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}zn.USER_MAP=new WeakMap;const nt=P.ax;let Ie=(()=>{class V{constructor(H,q){if(this.app=H,q.isInitialized())return this._delegate=q.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:ue}=H.options;nt(ue,"invalid-api-key",{appName:H.name}),nt(ue,"invalid-api-key",{appName:H.name});const Oe=typeof window<"u"?gt:void 0;this._delegate=q.initialize({options:{persistence:wt(ue,H.name),popupRedirectResolver:Oe}}),this._delegate._updateErrorMap(P.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?zn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(H){this._delegate.languageCode=H}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(H){this._delegate.tenantId=H}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(H,q){P.G(this._delegate,H,q)}applyActionCode(H){return P.a2(this._delegate,H)}checkActionCode(H){return P.a3(this._delegate,H)}confirmPasswordReset(H,q){return P.a1(this._delegate,H,q)}createUserWithEmailAndPassword(H,q){var ue=this;return(0,c.Z)(function*(){return Rt(ue._delegate,P.a5(ue._delegate,H,q))})()}fetchProvidersForEmail(H){return this.fetchSignInMethodsForEmail(H)}fetchSignInMethodsForEmail(H){return P.aa(this._delegate,H)}isSignInWithEmailLink(H){return P.a8(this._delegate,H)}getRedirectResult(){var H=this;return(0,c.Z)(function*(){nt(Wn(),H._delegate,"operation-not-supported-in-this-environment");const q=yield P.j(H._delegate,gt);return q?Rt(H._delegate,Promise.resolve(q)):{credential:null,user:null}})()}addFrameworkForLogging(H){!function Cn(V,D){(0,P.aE)(V)._logFramework(D)}(this._delegate,H)}onAuthStateChanged(H,q,ue){const{next:Oe,error:We,complete:ve}=st(H,q,ue);return this._delegate.onAuthStateChanged(Oe,We,ve)}onIdTokenChanged(H,q,ue){const{next:Oe,error:We,complete:ve}=st(H,q,ue);return this._delegate.onIdTokenChanged(Oe,We,ve)}sendSignInLinkToEmail(H,q){return P.a7(this._delegate,H,q)}sendPasswordResetEmail(H,q){return P.a0(this._delegate,H,q||void 0)}setPersistence(H){var q=this;return(0,c.Z)(function*(){let ue;switch(function Ri(V,D){wn(Object.values(jn).includes(D),V,"invalid-persistence-type"),(0,se.b$)()?wn(D!==jn.SESSION,V,"unsupported-persistence-type"):(0,se.UG)()?wn(D===jn.NONE,V,"unsupported-persistence-type"):Zn()?wn(D===jn.NONE||D===jn.LOCAL&&(0,se.hl)(),V,"unsupported-persistence-type"):wn(D===jn.NONE||$i(),V,"unsupported-persistence-type")}(q._delegate,H),H){case jn.SESSION:ue=P.a;break;case jn.LOCAL:ue=(yield P.az(P.i)._isAvailable())?P.i:P.b;break;case jn.NONE:ue=P.L;break;default:return P.as("argument-error",{appName:q._delegate.name})}return q._delegate.setPersistence(ue)})()}signInAndRetrieveDataWithCredential(H){return this.signInWithCredential(H)}signInAnonymously(){return Rt(this._delegate,P.X(this._delegate))}signInWithCredential(H){return Rt(this._delegate,P.Y(this._delegate,H))}signInWithCustomToken(H){return Rt(this._delegate,P.$(this._delegate,H))}signInWithEmailAndPassword(H,q){return Rt(this._delegate,P.a6(this._delegate,H,q))}signInWithEmailLink(H,q){return Rt(this._delegate,P.a9(this._delegate,H,q))}signInWithPhoneNumber(H,q){return yi(this._delegate,P.s(this._delegate,H,q))}signInWithPopup(H){var q=this;return(0,c.Z)(function*(){return nt(Wn(),q._delegate,"operation-not-supported-in-this-environment"),Rt(q._delegate,P.c(q._delegate,H,gt))})()}signInWithRedirect(H){var q=this;return(0,c.Z)(function*(){return nt(Wn(),q._delegate,"operation-not-supported-in-this-environment"),yield En(q._delegate),P.f(q._delegate,H,gt)})()}updateCurrentUser(H){return this._delegate.updateCurrentUser(H)}verifyPasswordResetCode(H){return P.a4(this._delegate,H)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return V.Persistence=jn,V})();function st(V,D,H){let q=V;"function"!=typeof V&&({next:q,error:D,complete:H}=V);const ue=q;return{next:We=>ue(We&&zn.getOrCreate(We)),error:D,complete:H}}function wt(V,D){const H=function un(V,D){const H=mt();if(!H)return[];const q=P.aA(di,V,D);switch(H.getItem(q)){case jn.NONE:return[P.L];case jn.LOCAL:return[P.i,P.a];case jn.SESSION:return[P.a];default:return[]}}(V,D);if(typeof self<"u"&&!H.includes(P.i)&&H.push(P.i),typeof window<"u")for(const q of[P.b,P.a])H.includes(q)||H.push(q);return H.includes(P.L)||H.push(P.L),H}class It{constructor(){this.providerId="phone",this._delegate=new P.P(Dn(G.Z.auth()))}static credential(D,H){return P.P.credential(D,H)}verifyPhoneNumber(D,H){return this._delegate.verifyPhoneNumber(D,H)}unwrap(){return this._delegate}}It.PHONE_SIGN_IN_METHOD=P.P.PHONE_SIGN_IN_METHOD,It.PROVIDER_ID=P.P.PROVIDER_ID;const Qt=P.ax;class W{constructor(D,H,q=G.Z.app()){var ue;Qt(null===(ue=q.options)||void 0===ue?void 0:ue.apiKey,"invalid-api-key",{appName:q.name}),this._delegate=new P.R(D,H,q.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function N(V){V.INTERNAL.registerComponent(new re.wA("auth-compat",D=>{const H=D.getProvider("app-compat").getImmediate(),q=D.getProvider("auth");return new Ie(H,q)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:P.A.EMAIL_SIGNIN,PASSWORD_RESET:P.A.PASSWORD_RESET,RECOVER_EMAIL:P.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:P.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:P.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:P.A.VERIFY_EMAIL}},EmailAuthProvider:P.M,FacebookAuthProvider:P.N,GithubAuthProvider:P.T,GoogleAuthProvider:P.Q,OAuthProvider:P.U,SAMLAuthProvider:P.V,PhoneAuthProvider:It,PhoneMultiFactorGenerator:P.m,RecaptchaVerifier:W,TwitterAuthProvider:P.W,Auth:Ie,AuthCredential:P.H,Error:se.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),V.registerVersion("@firebase/auth-compat","0.2.24")}(G.Z)},9751:(pt,He,R)=>{R.d(He,{y:()=>me});var c=R(930),G=R(727),P=R(8822),se=R(9635),ge=R(2416),ye=R(576),re=R(2806);let me=(()=>{class J{constructor(Ae){Ae&&(this._subscribe=Ae)}lift(Ae){const De=new J;return De.source=this,De.operator=Ae,De}subscribe(Ae,De,tt){const Me=function Y(J){return J&&J instanceof c.Lv||function K(J){return J&&(0,ye.m)(J.next)&&(0,ye.m)(J.error)&&(0,ye.m)(J.complete)}(J)&&(0,G.Nn)(J)}(Ae)?Ae:new c.Hp(Ae,De,tt);return(0,re.x)(()=>{const{operator:de,source:lt}=this;Me.add(de?de.call(Me,lt):lt?this._subscribe(Me):this._trySubscribe(Me))}),Me}_trySubscribe(Ae){try{return this._subscribe(Ae)}catch(De){Ae.error(De)}}forEach(Ae,De){return new(De=_e(De))((tt,Me)=>{const de=new c.Hp({next:lt=>{try{Ae(lt)}catch(et){Me(et),de.unsubscribe()}},error:Me,complete:tt});this.subscribe(de)})}_subscribe(Ae){var De;return null===(De=this.source)||void 0===De?void 0:De.subscribe(Ae)}[P.L](){return this}pipe(...Ae){return(0,se.U)(Ae)(this)}toPromise(Ae){return new(Ae=_e(Ae))((De,tt)=>{let Me;this.subscribe(de=>Me=de,de=>tt(de),()=>De(Me))})}}return J.create=Re=>new J(Re),J})();function _e(J){var Re;return null!==(Re=J??ge.v.Promise)&&void 0!==Re?Re:Promise}},7579:(pt,He,R)=>{R.d(He,{x:()=>re});var c=R(9751),G=R(727);const se=(0,R(3888).d)(_e=>function(){_e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ge=R(8737),ye=R(2806);let re=(()=>{class _e extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Y){const J=new me(this,this);return J.operator=Y,J}_throwIfClosed(){if(this.closed)throw new se}next(Y){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const J of this.currentObservers)J.next(Y)}})}error(Y){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Y;const{observers:J}=this;for(;J.length;)J.shift().error(Y)}})}complete(){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Y}=this;for(;Y.length;)Y.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Y;return(null===(Y=this.observers)||void 0===Y?void 0:Y.length)>0}_trySubscribe(Y){return this._throwIfClosed(),super._trySubscribe(Y)}_subscribe(Y){return this._throwIfClosed(),this._checkFinalizedStatuses(Y),this._innerSubscribe(Y)}_innerSubscribe(Y){const{hasError:J,isStopped:Re,observers:Ae}=this;return J||Re?G.Lc:(this.currentObservers=null,Ae.push(Y),new G.w0(()=>{this.currentObservers=null,(0,ge.P)(Ae,Y)}))}_checkFinalizedStatuses(Y){const{hasError:J,thrownError:Re,isStopped:Ae}=this;J?Y.error(Re):Ae&&Y.complete()}asObservable(){const Y=new c.y;return Y.source=this,Y}}return _e.create=(K,Y)=>new me(K,Y),_e})();class me extends re{constructor(K,Y){super(),this.destination=K,this.source=Y}next(K){var Y,J;null===(J=null===(Y=this.destination)||void 0===Y?void 0:Y.next)||void 0===J||J.call(Y,K)}error(K){var Y,J;null===(J=null===(Y=this.destination)||void 0===Y?void 0:Y.error)||void 0===J||J.call(Y,K)}complete(){var K,Y;null===(Y=null===(K=this.destination)||void 0===K?void 0:K.complete)||void 0===Y||Y.call(K)}_subscribe(K){var Y,J;return null!==(J=null===(Y=this.source)||void 0===Y?void 0:Y.subscribe(K))&&void 0!==J?J:G.Lc}}},930:(pt,He,R)=>{R.d(He,{Hp:()=>tt,Lv:()=>J});var c=R(576),G=R(727),P=R(2416),se=R(7849),ge=R(5032);const ye=_e("C",void 0,void 0);function _e(Pe,Ne,Ee){return{kind:Pe,value:Ne,error:Ee}}var K=R(3410),Y=R(2806);class J extends G.w0{constructor(Ne){super(),this.isStopped=!1,Ne?(this.destination=Ne,(0,G.Nn)(Ne)&&Ne.add(this)):this.destination=et}static create(Ne,Ee,Xe){return new tt(Ne,Ee,Xe)}next(Ne){this.isStopped?lt(function me(Pe){return _e("N",Pe,void 0)}(Ne),this):this._next(Ne)}error(Ne){this.isStopped?lt(function re(Pe){return _e("E",void 0,Pe)}(Ne),this):(this.isStopped=!0,this._error(Ne))}complete(){this.isStopped?lt(ye,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ne){this.destination.next(Ne)}_error(Ne){try{this.destination.error(Ne)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Re=Function.prototype.bind;function Ae(Pe,Ne){return Re.call(Pe,Ne)}class De{constructor(Ne){this.partialObserver=Ne}next(Ne){const{partialObserver:Ee}=this;if(Ee.next)try{Ee.next(Ne)}catch(Xe){Me(Xe)}}error(Ne){const{partialObserver:Ee}=this;if(Ee.error)try{Ee.error(Ne)}catch(Xe){Me(Xe)}else Me(Ne)}complete(){const{partialObserver:Ne}=this;if(Ne.complete)try{Ne.complete()}catch(Ee){Me(Ee)}}}class tt extends J{constructor(Ne,Ee,Xe){let ie;if(super(),(0,c.m)(Ne)||!Ne)ie={next:Ne??void 0,error:Ee??void 0,complete:Xe??void 0};else{let le;this&&P.v.useDeprecatedNextContext?(le=Object.create(Ne),le.unsubscribe=()=>this.unsubscribe(),ie={next:Ne.next&&Ae(Ne.next,le),error:Ne.error&&Ae(Ne.error,le),complete:Ne.complete&&Ae(Ne.complete,le)}):ie=Ne}this.destination=new De(ie)}}function Me(Pe){P.v.useDeprecatedSynchronousErrorHandling?(0,Y.O)(Pe):(0,se.h)(Pe)}function lt(Pe,Ne){const{onStoppedNotification:Ee}=P.v;Ee&&K.z.setTimeout(()=>Ee(Pe,Ne))}const et={closed:!0,next:ge.Z,error:function de(Pe){throw Pe},complete:ge.Z}},727:(pt,He,R)=>{R.d(He,{Lc:()=>ye,w0:()=>ge,Nn:()=>re});var c=R(576);const P=(0,R(3888).d)(_e=>function(Y){_e(this),this.message=Y?`${Y.length} errors occurred during unsubscription:\n${Y.map((J,Re)=>`${Re+1}) ${J.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Y});var se=R(8737);class ge{constructor(K){this.initialTeardown=K,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let K;if(!this.closed){this.closed=!0;const{_parentage:Y}=this;if(Y)if(this._parentage=null,Array.isArray(Y))for(const Ae of Y)Ae.remove(this);else Y.remove(this);const{initialTeardown:J}=this;if((0,c.m)(J))try{J()}catch(Ae){K=Ae instanceof P?Ae.errors:[Ae]}const{_finalizers:Re}=this;if(Re){this._finalizers=null;for(const Ae of Re)try{me(Ae)}catch(De){K=K??[],De instanceof P?K=[...K,...De.errors]:K.push(De)}}if(K)throw new P(K)}}add(K){var Y;if(K&&K!==this)if(this.closed)me(K);else{if(K instanceof ge){if(K.closed||K._hasParent(this))return;K._addParent(this)}(this._finalizers=null!==(Y=this._finalizers)&&void 0!==Y?Y:[]).push(K)}}_hasParent(K){const{_parentage:Y}=this;return Y===K||Array.isArray(Y)&&Y.includes(K)}_addParent(K){const{_parentage:Y}=this;this._parentage=Array.isArray(Y)?(Y.push(K),Y):Y?[Y,K]:K}_removeParent(K){const{_parentage:Y}=this;Y===K?this._parentage=null:Array.isArray(Y)&&(0,se.P)(Y,K)}remove(K){const{_finalizers:Y}=this;Y&&(0,se.P)(Y,K),K instanceof ge&&K._removeParent(this)}}ge.EMPTY=(()=>{const _e=new ge;return _e.closed=!0,_e})();const ye=ge.EMPTY;function re(_e){return _e instanceof ge||_e&&"closed"in _e&&(0,c.m)(_e.remove)&&(0,c.m)(_e.add)&&(0,c.m)(_e.unsubscribe)}function me(_e){(0,c.m)(_e)?_e():_e.unsubscribe()}},2416:(pt,He,R)=>{R.d(He,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(pt,He,R)=>{R.d(He,{E:()=>G});const G=new(R(9751).y)(ge=>ge.complete())},8996:(pt,He,R)=>{R.d(He,{D:()=>Ne});var c=R(8421),G=R(5363),P=R(9468),ye=R(9751),me=R(2202),_e=R(576),K=R(9672);function J(Ee,Xe){if(!Ee)throw new Error("Iterable cannot be null");return new ye.y(ie=>{(0,K.f)(ie,Xe,()=>{const le=Ee[Symbol.asyncIterator]();(0,K.f)(ie,Xe,()=>{le.next().then(be=>{be.done?ie.complete():ie.next(be.value)})},0,!0)})})}var Re=R(3670),Ae=R(8239),De=R(1144),tt=R(6495),Me=R(2206),de=R(4532),lt=R(3260);function Ne(Ee,Xe){return Xe?function Pe(Ee,Xe){if(null!=Ee){if((0,Re.c)(Ee))return function se(Ee,Xe){return(0,c.Xf)(Ee).pipe((0,P.R)(Xe),(0,G.Q)(Xe))}(Ee,Xe);if((0,De.z)(Ee))return function re(Ee,Xe){return new ye.y(ie=>{let le=0;return Xe.schedule(function(){le===Ee.length?ie.complete():(ie.next(Ee[le++]),ie.closed||this.schedule())})})}(Ee,Xe);if((0,Ae.t)(Ee))return function ge(Ee,Xe){return(0,c.Xf)(Ee).pipe((0,P.R)(Xe),(0,G.Q)(Xe))}(Ee,Xe);if((0,Me.D)(Ee))return J(Ee,Xe);if((0,tt.T)(Ee))return function Y(Ee,Xe){return new ye.y(ie=>{let le;return(0,K.f)(ie,Xe,()=>{le=Ee[me.h](),(0,K.f)(ie,Xe,()=>{let be,ee;try{({value:be,done:ee}=le.next())}catch(te){return void ie.error(te)}ee?ie.complete():ie.next(be)},0,!0)}),()=>(0,_e.m)(le?.return)&&le.return()})}(Ee,Xe);if((0,lt.L)(Ee))return function et(Ee,Xe){return J((0,lt.Q)(Ee),Xe)}(Ee,Xe)}throw(0,de.z)(Ee)}(Ee,Xe):(0,c.Xf)(Ee)}},8421:(pt,He,R)=>{R.d(He,{Xf:()=>Re});var c=R(655),G=R(1144),P=R(8239),se=R(9751),ge=R(3670),ye=R(2206),re=R(4532),me=R(6495),_e=R(3260),K=R(576),Y=R(7849),J=R(8822);function Re(Pe){if(Pe instanceof se.y)return Pe;if(null!=Pe){if((0,ge.c)(Pe))return function Ae(Pe){return new se.y(Ne=>{const Ee=Pe[J.L]();if((0,K.m)(Ee.subscribe))return Ee.subscribe(Ne);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Pe);if((0,G.z)(Pe))return function De(Pe){return new se.y(Ne=>{for(let Ee=0;Ee<Pe.length&&!Ne.closed;Ee++)Ne.next(Pe[Ee]);Ne.complete()})}(Pe);if((0,P.t)(Pe))return function tt(Pe){return new se.y(Ne=>{Pe.then(Ee=>{Ne.closed||(Ne.next(Ee),Ne.complete())},Ee=>Ne.error(Ee)).then(null,Y.h)})}(Pe);if((0,ye.D)(Pe))return de(Pe);if((0,me.T)(Pe))return function Me(Pe){return new se.y(Ne=>{for(const Ee of Pe)if(Ne.next(Ee),Ne.closed)return;Ne.complete()})}(Pe);if((0,_e.L)(Pe))return function lt(Pe){return de((0,_e.Q)(Pe))}(Pe)}throw(0,re.z)(Pe)}function de(Pe){return new se.y(Ne=>{(function et(Pe,Ne){var Ee,Xe,ie,le;return(0,c.mG)(this,void 0,void 0,function*(){try{for(Ee=(0,c.KL)(Pe);!(Xe=yield Ee.next()).done;)if(Ne.next(Xe.value),Ne.closed)return}catch(be){ie={error:be}}finally{try{Xe&&!Xe.done&&(le=Ee.return)&&(yield le.call(Ee))}finally{if(ie)throw ie.error}}Ne.complete()})})(Pe,Ne).catch(Ee=>Ne.error(Ee))})}},6451:(pt,He,R)=>{R.d(He,{T:()=>ye});var c=R(8189),G=R(8421),P=R(515),se=R(3269),ge=R(8996);function ye(...re){const me=(0,se.yG)(re),_e=(0,se._6)(re,1/0),K=re;return K.length?1===K.length?(0,G.Xf)(K[0]):(0,c.J)(_e)((0,ge.D)(K,me)):P.E}},5403:(pt,He,R)=>{R.d(He,{Q:()=>P,x:()=>G});var c=R(930);function G(se,ge,ye,re,me){return new P(se,ge,ye,re,me)}class P extends c.Lv{constructor(ge,ye,re,me,_e,K){super(ge),this.onFinalize=_e,this.shouldUnsubscribe=K,this._next=ye?function(Y){try{ye(Y)}catch(J){ge.error(J)}}:super._next,this._error=me?function(Y){try{me(Y)}catch(J){ge.error(J)}finally{this.unsubscribe()}}:super._error,this._complete=re?function(){try{re()}catch(Y){ge.error(Y)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ge;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ye}=this;super.unsubscribe(),!ye&&(null===(ge=this.onFinalize)||void 0===ge||ge.call(this))}}}},4004:(pt,He,R)=>{R.d(He,{U:()=>P});var c=R(4482),G=R(5403);function P(se,ge){return(0,c.e)((ye,re)=>{let me=0;ye.subscribe((0,G.x)(re,_e=>{re.next(se.call(ge,_e,me++))}))})}},8189:(pt,He,R)=>{R.d(He,{J:()=>P});var c=R(5577),G=R(4671);function P(se=1/0){return(0,c.z)(G.y,se)}},5577:(pt,He,R)=>{R.d(He,{z:()=>me});var c=R(4004),G=R(8421),P=R(4482),se=R(9672),ge=R(5403),re=R(576);function me(_e,K,Y=1/0){return(0,re.m)(K)?me((J,Re)=>(0,c.U)((Ae,De)=>K(J,Ae,Re,De))((0,G.Xf)(_e(J,Re))),Y):("number"==typeof K&&(Y=K),(0,P.e)((J,Re)=>function ye(_e,K,Y,J,Re,Ae,De,tt){const Me=[];let de=0,lt=0,et=!1;const Pe=()=>{et&&!Me.length&&!de&&K.complete()},Ne=Xe=>de<J?Ee(Xe):Me.push(Xe),Ee=Xe=>{Ae&&K.next(Xe),de++;let ie=!1;(0,G.Xf)(Y(Xe,lt++)).subscribe((0,ge.x)(K,le=>{Re?.(le),Ae?Ne(le):K.next(le)},()=>{ie=!0},void 0,()=>{if(ie)try{for(de--;Me.length&&de<J;){const le=Me.shift();De?(0,se.f)(K,De,()=>Ee(le)):Ee(le)}Pe()}catch(le){K.error(le)}}))};return _e.subscribe((0,ge.x)(K,Ne,()=>{et=!0,Pe()})),()=>{tt?.()}}(J,Re,_e,Y)))}},5363:(pt,He,R)=>{R.d(He,{Q:()=>se});var c=R(9672),G=R(4482),P=R(5403);function se(ge,ye=0){return(0,G.e)((re,me)=>{re.subscribe((0,P.x)(me,_e=>(0,c.f)(me,ge,()=>me.next(_e),ye),()=>(0,c.f)(me,ge,()=>me.complete(),ye),_e=>(0,c.f)(me,ge,()=>me.error(_e),ye)))})}},3099:(pt,He,R)=>{R.d(He,{B:()=>ge});var c=R(8421),G=R(7579),P=R(930),se=R(4482);function ge(re={}){const{connector:me=(()=>new G.x),resetOnError:_e=!0,resetOnComplete:K=!0,resetOnRefCountZero:Y=!0}=re;return J=>{let Re,Ae,De,tt=0,Me=!1,de=!1;const lt=()=>{Ae?.unsubscribe(),Ae=void 0},et=()=>{lt(),Re=De=void 0,Me=de=!1},Pe=()=>{const Ne=Re;et(),Ne?.unsubscribe()};return(0,se.e)((Ne,Ee)=>{tt++,!de&&!Me&&lt();const Xe=De=De??me();Ee.add(()=>{tt--,0===tt&&!de&&!Me&&(Ae=ye(Pe,Y))}),Xe.subscribe(Ee),!Re&&tt>0&&(Re=new P.Hp({next:ie=>Xe.next(ie),error:ie=>{de=!0,lt(),Ae=ye(et,_e,ie),Xe.error(ie)},complete:()=>{Me=!0,lt(),Ae=ye(et,K),Xe.complete()}}),(0,c.Xf)(Ne).subscribe(Re))})(J)}}function ye(re,me,..._e){if(!0===me)return void re();if(!1===me)return;const K=new P.Hp({next:()=>{K.unsubscribe(),re()}});return me(..._e).subscribe(K)}},9468:(pt,He,R)=>{R.d(He,{R:()=>G});var c=R(4482);function G(P,se=0){return(0,c.e)((ge,ye)=>{ye.add(P.schedule(()=>ge.subscribe(ye),se))})}},8505:(pt,He,R)=>{R.d(He,{b:()=>ge});var c=R(576),G=R(4482),P=R(5403),se=R(4671);function ge(ye,re,me){const _e=(0,c.m)(ye)||re||me?{next:ye,error:re,complete:me}:ye;return _e?(0,G.e)((K,Y)=>{var J;null===(J=_e.subscribe)||void 0===J||J.call(_e);let Re=!0;K.subscribe((0,P.x)(Y,Ae=>{var De;null===(De=_e.next)||void 0===De||De.call(_e,Ae),Y.next(Ae)},()=>{var Ae;Re=!1,null===(Ae=_e.complete)||void 0===Ae||Ae.call(_e),Y.complete()},Ae=>{var De;Re=!1,null===(De=_e.error)||void 0===De||De.call(_e,Ae),Y.error(Ae)},()=>{var Ae,De;Re&&(null===(Ae=_e.unsubscribe)||void 0===Ae||Ae.call(_e)),null===(De=_e.finalize)||void 0===De||De.call(_e)}))}):se.y}},4408:(pt,He,R)=>{R.d(He,{o:()=>ge});var c=R(727);class G extends c.w0{constructor(re,me){super()}schedule(re,me=0){return this}}const P={setInterval(ye,re,...me){const{delegate:_e}=P;return _e?.setInterval?_e.setInterval(ye,re,...me):setInterval(ye,re,...me)},clearInterval(ye){const{delegate:re}=P;return(re?.clearInterval||clearInterval)(ye)},delegate:void 0};var se=R(8737);class ge extends G{constructor(re,me){super(re,me),this.scheduler=re,this.work=me,this.pending=!1}schedule(re,me=0){var _e;if(this.closed)return this;this.state=re;const K=this.id,Y=this.scheduler;return null!=K&&(this.id=this.recycleAsyncId(Y,K,me)),this.pending=!0,this.delay=me,this.id=null!==(_e=this.id)&&void 0!==_e?_e:this.requestAsyncId(Y,this.id,me),this}requestAsyncId(re,me,_e=0){return P.setInterval(re.flush.bind(re,this),_e)}recycleAsyncId(re,me,_e=0){if(null!=_e&&this.delay===_e&&!1===this.pending)return me;null!=me&&P.clearInterval(me)}execute(re,me){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const _e=this._execute(re,me);if(_e)return _e;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(re,me){let K,_e=!1;try{this.work(re)}catch(Y){_e=!0,K=Y||new Error("Scheduled action threw falsy error")}if(_e)return this.unsubscribe(),K}unsubscribe(){if(!this.closed){const{id:re,scheduler:me}=this,{actions:_e}=me;this.work=this.state=this.scheduler=null,this.pending=!1,(0,se.P)(_e,this),null!=re&&(this.id=this.recycleAsyncId(me,re,null)),this.delay=null,super.unsubscribe()}}}},7565:(pt,He,R)=>{R.d(He,{v:()=>P});var c=R(6063);class G{constructor(ge,ye=G.now){this.schedulerActionCtor=ge,this.now=ye}schedule(ge,ye=0,re){return new this.schedulerActionCtor(this,ge).schedule(re,ye)}}G.now=c.l.now;class P extends G{constructor(ge,ye=G.now){super(ge,ye),this.actions=[],this._active=!1}flush(ge){const{actions:ye}=this;if(this._active)return void ye.push(ge);let re;this._active=!0;do{if(re=ge.execute(ge.state,ge.delay))break}while(ge=ye.shift());if(this._active=!1,re){for(;ge=ye.shift();)ge.unsubscribe();throw re}}}},4986:(pt,He,R)=>{R.d(He,{P:()=>se,z:()=>P});var c=R(4408);const P=new(R(7565).v)(c.o),se=P},6063:(pt,He,R)=>{R.d(He,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},3410:(pt,He,R)=>{R.d(He,{z:()=>c});const c={setTimeout(G,P,...se){const{delegate:ge}=c;return ge?.setTimeout?ge.setTimeout(G,P,...se):setTimeout(G,P,...se)},clearTimeout(G){const{delegate:P}=c;return(P?.clearTimeout||clearTimeout)(G)},delegate:void 0}},2202:(pt,He,R)=>{R.d(He,{h:()=>G});const G=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(pt,He,R)=>{R.d(He,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(pt,He,R)=>{R.d(He,{_6:()=>ye,jO:()=>se,yG:()=>ge});var c=R(576),G=R(3532);function P(re){return re[re.length-1]}function se(re){return(0,c.m)(P(re))?re.pop():void 0}function ge(re){return(0,G.K)(P(re))?re.pop():void 0}function ye(re,me){return"number"==typeof P(re)?re.pop():me}},8737:(pt,He,R)=>{function c(G,P){if(G){const se=G.indexOf(P);0<=se&&G.splice(se,1)}}R.d(He,{P:()=>c})},3888:(pt,He,R)=>{function c(G){const se=G(ge=>{Error.call(ge),ge.stack=(new Error).stack});return se.prototype=Object.create(Error.prototype),se.prototype.constructor=se,se}R.d(He,{d:()=>c})},2806:(pt,He,R)=>{R.d(He,{O:()=>se,x:()=>P});var c=R(2416);let G=null;function P(ge){if(c.v.useDeprecatedSynchronousErrorHandling){const ye=!G;if(ye&&(G={errorThrown:!1,error:null}),ge(),ye){const{errorThrown:re,error:me}=G;if(G=null,re)throw me}}else ge()}function se(ge){c.v.useDeprecatedSynchronousErrorHandling&&G&&(G.errorThrown=!0,G.error=ge)}},9672:(pt,He,R)=>{function c(G,P,se,ge=0,ye=!1){const re=P.schedule(function(){se(),ye?G.add(this.schedule(null,ge)):this.unsubscribe()},ge);if(G.add(re),!ye)return re}R.d(He,{f:()=>c})},4671:(pt,He,R)=>{function c(G){return G}R.d(He,{y:()=>c})},1144:(pt,He,R)=>{R.d(He,{z:()=>c});const c=G=>G&&"number"==typeof G.length&&"function"!=typeof G},2206:(pt,He,R)=>{R.d(He,{D:()=>G});var c=R(576);function G(P){return Symbol.asyncIterator&&(0,c.m)(P?.[Symbol.asyncIterator])}},576:(pt,He,R)=>{function c(G){return"function"==typeof G}R.d(He,{m:()=>c})},3670:(pt,He,R)=>{R.d(He,{c:()=>P});var c=R(8822),G=R(576);function P(se){return(0,G.m)(se[c.L])}},6495:(pt,He,R)=>{R.d(He,{T:()=>P});var c=R(2202),G=R(576);function P(se){return(0,G.m)(se?.[c.h])}},8239:(pt,He,R)=>{R.d(He,{t:()=>G});var c=R(576);function G(P){return(0,c.m)(P?.then)}},3260:(pt,He,R)=>{R.d(He,{L:()=>se,Q:()=>P});var c=R(655),G=R(576);function P(ge){return(0,c.FC)(this,arguments,function*(){const re=ge.getReader();try{for(;;){const{value:me,done:_e}=yield(0,c.qq)(re.read());if(_e)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(me)}}finally{re.releaseLock()}})}function se(ge){return(0,G.m)(ge?.getReader)}},3532:(pt,He,R)=>{R.d(He,{K:()=>G});var c=R(576);function G(P){return P&&(0,c.m)(P.schedule)}},4482:(pt,He,R)=>{R.d(He,{A:()=>G,e:()=>P});var c=R(576);function G(se){return(0,c.m)(se?.lift)}function P(se){return ge=>{if(G(ge))return ge.lift(function(ye){try{return se(ye,this)}catch(re){this.error(re)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(pt,He,R)=>{function c(){}R.d(He,{Z:()=>c})},9635:(pt,He,R)=>{R.d(He,{U:()=>P,z:()=>G});var c=R(4671);function G(...se){return P(se)}function P(se){return 0===se.length?c.y:1===se.length?se[0]:function(ye){return se.reduce((re,me)=>me(re),ye)}}},7849:(pt,He,R)=>{R.d(He,{h:()=>P});var c=R(2416),G=R(3410);function P(se){G.z.setTimeout(()=>{const{onUnhandledError:ge}=c.v;if(!ge)throw se;ge(se)})}},4532:(pt,He,R)=>{function c(G){return new TypeError(`You provided ${null!==G&&"object"==typeof G?"an invalid object":`'${G}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}R.d(He,{z:()=>c})},655:(pt,He,R)=>{function se(ee,te){var he={};for(var ce in ee)Object.prototype.hasOwnProperty.call(ee,ce)&&te.indexOf(ce)<0&&(he[ce]=ee[ce]);if(null!=ee&&"function"==typeof Object.getOwnPropertySymbols){var Ge=0;for(ce=Object.getOwnPropertySymbols(ee);Ge<ce.length;Ge++)te.indexOf(ce[Ge])<0&&Object.prototype.propertyIsEnumerable.call(ee,ce[Ge])&&(he[ce[Ge]]=ee[ce[Ge]])}return he}function me(ee,te,he,ce){return new(he||(he=Promise))(function(Be,_t){function an(Cn){try{Qe(ce.next(Cn))}catch(Gn){_t(Gn)}}function Ft(Cn){try{Qe(ce.throw(Cn))}catch(Gn){_t(Gn)}}function Qe(Cn){Cn.done?Be(Cn.value):function Ge(Be){return Be instanceof he?Be:new he(function(_t){_t(Be)})}(Cn.value).then(an,Ft)}Qe((ce=ce.apply(ee,te||[])).next())})}function Me(ee){return this instanceof Me?(this.v=ee,this):new Me(ee)}function de(ee,te,he){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ge,ce=he.apply(ee,te||[]),Be=[];return Ge={},_t("next"),_t("throw"),_t("return"),Ge[Symbol.asyncIterator]=function(){return this},Ge;function _t(gn){ce[gn]&&(Ge[gn]=function(cn){return new Promise(function(Gt,At){Be.push([gn,cn,Gt,At])>1||an(gn,cn)})})}function an(gn,cn){try{!function Ft(gn){gn.value instanceof Me?Promise.resolve(gn.value.v).then(Qe,Cn):Gn(Be[0][2],gn)}(ce[gn](cn))}catch(Gt){Gn(Be[0][3],Gt)}}function Qe(gn){an("next",gn)}function Cn(gn){an("throw",gn)}function Gn(gn,cn){gn(cn),Be.shift(),Be.length&&an(Be[0][0],Be[0][1])}}function et(ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var he,te=ee[Symbol.asyncIterator];return te?te.call(ee):(ee=function J(ee){var te="function"==typeof Symbol&&Symbol.iterator,he=te&&ee[te],ce=0;if(he)return he.call(ee);if(ee&&"number"==typeof ee.length)return{next:function(){return ee&&ce>=ee.length&&(ee=void 0),{value:ee&&ee[ce++],done:!ee}}};throw new TypeError(te?"Object is not iterable.":"Symbol.iterator is not defined.")}(ee),he={},ce("next"),ce("throw"),ce("return"),he[Symbol.asyncIterator]=function(){return this},he);function ce(Be){he[Be]=ee[Be]&&function(_t){return new Promise(function(an,Ft){!function Ge(Be,_t,an,Ft){Promise.resolve(Ft).then(function(Qe){Be({value:Qe,done:an})},_t)}(an,Ft,(_t=ee[Be](_t)).done,_t.value)})}}}R.d(He,{FC:()=>de,KL:()=>et,_T:()=>se,mG:()=>me,qq:()=>Me})},4650:(pt,He,R)=>{R.d(He,{$8M:()=>Jc,$Z:()=>U5,AFp:()=>y7,ALo:()=>S6,AaK:()=>me,BQk:()=>u6,CHM:()=>Wt,CRH:()=>hr,CZH:()=>Uo,CqO:()=>ow,D6c:()=>E_,DdM:()=>Rv,EJc:()=>TV,EiD:()=>p4,EpF:()=>vh,F$t:()=>V4,F4k:()=>Og,FYo:()=>y4,FiY:()=>R1,G48:()=>Wx,Gf:()=>Jv,GfV:()=>bu,Gpc:()=>Y,Hsn:()=>aw,Ikx:()=>k4,JOm:()=>a1,JVY:()=>s5,KtG:()=>Qr,L6k:()=>pu,LAX:()=>mu,LFG:()=>Ai,LSH:()=>Hl,Lbi:()=>M7,Lck:()=>qw,MAs:()=>c6,MMx:()=>Tv,NdJ:()=>Bg,O4$:()=>K0,OlP:()=>$n,Oqu:()=>Lh,PXZ:()=>Or,Q6J:()=>l8,QGY:()=>Fg,QP$:()=>ue,QbO:()=>IV,Qsj:()=>f5,R0b:()=>l2,RDi:()=>sm,Rgc:()=>Y4,SBq:()=>Ol,Sil:()=>Px,Suo:()=>u7,TTD:()=>v2,TgZ:()=>d8,Udp:()=>Sh,VKq:()=>Pv,WFA:()=>d6,WLB:()=>Fv,X6Q:()=>y_,XFs:()=>it,Xpm:()=>Ie,Xts:()=>zl,Y36:()=>b4,YKP:()=>Lv,YNc:()=>Rg,Yjl:()=>V,Yz7:()=>cn,Z0I:()=>rr,ZZ4:()=>B6,_Bn:()=>j4,_UZ:()=>mh,_Vd:()=>Fl,_c5:()=>oS,_uU:()=>H4,aQg:()=>ud,c2e:()=>b7,cJS:()=>At,cg1:()=>Rh,d8E:()=>b8,dDg:()=>Dt,dqk:()=>gt,eBb:()=>o1,eFA:()=>E7,ekj:()=>v8,eoX:()=>Q8,evT:()=>Dm,f3M:()=>cu,g9A:()=>h_,h0i:()=>h1,hGG:()=>P7,hYB:()=>Mh,hij:()=>X1,iGM:()=>Xv,ifc:()=>ht,ip1:()=>f_,jDz:()=>H8,kL8:()=>lv,lG2:()=>N,lcZ:()=>Wv,lqb:()=>Ao,lri:()=>v_,mCW:()=>_,n5z:()=>e1,n_E:()=>E6,oAB:()=>Qt,oJD:()=>Vl,oxw:()=>yh,pB0:()=>gu,q3G:()=>ei,q4F:()=>mm,qLn:()=>Gl,qOj:()=>lh,qZA:()=>f8,qbA:()=>s7,qzn:()=>Ts,rWj:()=>p1,s9C:()=>f6,sBO:()=>H7,sIi:()=>Ya,s_b:()=>O8,soG:()=>W8,tb:()=>p_,tp0:()=>P1,uIk:()=>c8,vHH:()=>De,vpe:()=>V2,wAp:()=>Pt,xi3:()=>Yv,xp6:()=>Mb,ynx:()=>l6,z2F:()=>n3,z3N:()=>E2,zSh:()=>dm,zs3:()=>Ga});var c=R(7579),G=R(727),P=R(9751),se=R(6451),ge=R(3099);function ye(o){for(let a in o)if(o[a]===ye)return a;throw Error("Could not find renamed property on target object.")}function re(o,a){for(const u in a)a.hasOwnProperty(u)&&!o.hasOwnProperty(u)&&(o[u]=a[u])}function me(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(me).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const a=o.toString();if(null==a)return""+a;const u=a.indexOf("\n");return-1===u?a:a.substring(0,u)}function _e(o,a){return null==o||""===o?null===a?"":a:null==a||""===a?o:o+" "+a}const K=ye({__forward_ref__:ye});function Y(o){return o.__forward_ref__=Y,o.toString=function(){return me(this())},o}function J(o){return Re(o)?o():o}function Re(o){return"function"==typeof o&&o.hasOwnProperty(K)&&o.__forward_ref__===Y}class De extends Error{constructor(a,u){super(function tt(o,a){return`NG0${Math.abs(o)}${a?": "+a.trim():""}`}(a,u)),this.code=a}}function Me(o){return"string"==typeof o?o:null==o?"":String(o)}function Ne(o,a){throw new De(-201,!1)}function Ft(o,a){null==o&&function Qe(o,a,u,f){throw new Error(`ASSERTION ERROR: ${o}`+(null==f?"":` [Expected=> ${u} ${f} ${a} <=Actual]`))}(a,o,null,"!=")}function cn(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function At(o){return{providers:o.providers||[],imports:o.imports||[]}}function In(o){return gr(o,Zn)||gr(o,Ei)}function rr(o){return null!==In(o)}function gr(o,a){return o.hasOwnProperty(a)?o[a]:null}function $i(o){return o&&(o.hasOwnProperty(Wn)||o.hasOwnProperty(sr))?o[Wn]:null}const Zn=ye({\u0275prov:ye}),Wn=ye({\u0275inj:ye}),Ei=ye({ngInjectableDef:ye}),sr=ye({ngInjectorDef:ye});var it=(()=>((it=it||{})[it.Default=0]="Default",it[it.Host=1]="Host",it[it.Self=2]="Self",it[it.SkipSelf=4]="SkipSelf",it[it.Optional=8]="Optional",it))();let Sn;function wn(o){const a=Sn;return Sn=o,a}function di(o,a,u){const f=In(o);return f&&"root"==f.providedIn?void 0===f.value?f.value=f.factory():f.value:u&it.Optional?null:void 0!==a?a:void Ne(me(o))}function En(o){return{toString:o}.toString()}var Tn=(()=>((Tn=Tn||{})[Tn.OnPush=0]="OnPush",Tn[Tn.Default=1]="Default",Tn))(),ht=(()=>{return(o=ht||(ht={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",ht;var o})();const gt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),fi={},Vt=[],_i=ye({\u0275cmp:ye}),Rt=ye({\u0275dir:ye}),yi=ye({\u0275pipe:ye}),Zt=ye({\u0275mod:ye}),Xn=ye({\u0275fac:ye}),zn=ye({__NG_ELEMENT_ID__:ye});let nt=0;function Ie(o){return En(()=>{const u=!0===o.standalone,f={},h={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:f,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===Tn.OnPush,directiveDefs:null,pipeDefs:null,standalone:u,dependencies:u&&o.dependencies||null,getStandaloneInjector:null,selectors:o.selectors||Vt,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||ht.Emulated,id:"c"+nt++,styles:o.styles||Vt,_:null,setInput:null,schemas:o.schemas||null,tView:null},m=o.dependencies,y=o.features;return h.inputs=$(o.inputs,f),h.outputs=$(o.outputs),y&&y.forEach(b=>b(h)),h.directiveDefs=m?()=>("function"==typeof m?m():m).map(wt).filter(It):null,h.pipeDefs=m?()=>("function"==typeof m?m():m).map(q).filter(It):null,h})}function wt(o){return D(o)||H(o)}function It(o){return null!==o}function Qt(o){return En(()=>({type:o.type,bootstrap:o.bootstrap||Vt,declarations:o.declarations||Vt,imports:o.imports||Vt,exports:o.exports||Vt,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function $(o,a){if(null==o)return fi;const u={};for(const f in o)if(o.hasOwnProperty(f)){let h=o[f],m=h;Array.isArray(h)&&(m=h[1],h=h[0]),u[h]=f,a&&(a[h]=m)}return u}const N=Ie;function V(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function D(o){return o[_i]||null}function H(o){return o[Rt]||null}function q(o){return o[yi]||null}function ue(o){const a=D(o)||H(o)||q(o);return null!==a&&a.standalone}function Oe(o,a){const u=o[Zt]||null;if(!u&&!0===a)throw new Error(`Type ${me(o)} does not have '\u0275mod' property.`);return u}function Pi(o){return Array.isArray(o)&&"object"==typeof o[1]}function cr(o){return Array.isArray(o)&&!0===o[1]}function xs(o){return 0!=(8&o.flags)}function g2(o){return 2==(2&o.flags)}function q2(o){return 1==(1&o.flags)}function kr(o){return null!==o.template}function fo(o){return 0!=(256&o[2])}function qi(o,a){return o.hasOwnProperty(Xn)?o[Xn]:null}class x1{constructor(a,u,f){this.previousValue=a,this.currentValue=u,this.firstChange=f}isFirstChange(){return this.firstChange}}function v2(){return kc}function kc(o){return o.type.prototype.ngOnChanges&&(o.setInput=ca),go}function go(){const o=qs(this),a=o?.current;if(a){const u=o.previous;if(u===fi)o.previous=a;else for(let f in a)u[f]=a[f];o.current=null,this.ngOnChanges(a)}}function ca(o,a,u,f){const h=qs(o)||function Y2(o,a){return o[Nc]=a}(o,{previous:fi,current:null}),m=h.current||(h.current={}),y=h.previous,b=this.declaredInputs[u],S=y[b];m[b]=new x1(S&&S.currentValue,a,y===fi),o[f]=a}v2.ngInherit=!0;const Nc="__ngSimpleChanges__";function qs(o){return o[Nc]||null}function Jn(o){for(;Array.isArray(o);)o=o[0];return o}function Z2(o,a){return Jn(a[o])}function vr(o,a){return Jn(a[o.index])}function Zr(o,a){return o.data[a]}function Ws(o,a){return o[a]}function dn(o,a){const u=a[o];return Pi(u)?u:u[0]}function y2(o){return 64==(64&o[2])}function ls(o,a){return null==a?null:o[a]}function S1(o){o[18]=0}function vo(o,a){o[5]+=a;let u=o,f=o[3];for(;null!==f&&(1===a&&1===u[5]||-1===a&&0===u[5]);)f[5]+=a,u=f,f=f[3]}const z={lFrame:Q3(null),bindingsEnabled:!0};function Mt(){return z.bindingsEnabled}function Ve(){return z.lFrame.lView}function Et(){return z.lFrame.tView}function Wt(o){return z.lFrame.contextLView=o,o[8]}function Qr(o){return z.lFrame.contextLView=null,o}function ai(){let o=C2();for(;null!==o&&64===o.type;)o=o.parent;return o}function C2(){return z.lFrame.currentTNode}function Fi(o,a){const u=z.lFrame;u.currentTNode=o,u.isParent=a}function ua(){return z.lFrame.isParent}function Q2(){z.lFrame.isParent=!1}function Oi(){const o=z.lFrame;let a=o.bindingRootIndex;return-1===a&&(a=o.bindingRootIndex=o.tView.bindingStartIndex),a}function fa(){return z.lFrame.bindingIndex++}function X2(o){const a=z.lFrame,u=a.bindingIndex;return a.bindingIndex=a.bindingIndex+o,u}function W0(o,a){const u=z.lFrame;u.bindingIndex=u.bindingRootIndex=o,Oc(a)}function Oc(o){z.lFrame.currentDirectiveIndex=o}function W3(o){const a=z.lFrame.currentDirectiveIndex;return-1===a?null:o[a]}function Y3(){return z.lFrame.currentQueryIndex}function K3(o){z.lFrame.currentQueryIndex=o}function Z3(o){const a=o[1];return 2===a.type?a.declTNode:1===a.type?o[6]:null}function Lf(o,a,u){if(u&it.SkipSelf){let h=a,m=o;for(;!(h=h.parent,null!==h||u&it.Host||(h=Z3(m),null===h||(m=m[15],10&h.type))););if(null===h)return!1;a=h,o=m}const f=z.lFrame=If();return f.currentTNode=a,f.lView=o,!0}function Bc(o){const a=If(),u=o[1];z.lFrame=a,a.currentTNode=u.firstChild,a.lView=o,a.tView=u,a.contextLView=o,a.bindingIndex=u.bindingStartIndex,a.inI18n=!1}function If(){const o=z.lFrame,a=null===o?null:o.child;return null===a?Q3(o):a}function Q3(o){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=a),a}function Tf(){const o=z.lFrame;return z.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const Y0=Tf;function _o(){const o=Tf();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function ci(){return z.lFrame.selectedIndex}function b2(o){z.lFrame.selectedIndex=o}function li(){const o=z.lFrame;return Zr(o.tView,o.selectedIndex)}function K0(){z.lFrame.currentNamespace="svg"}function ha(o,a){for(let u=a.directiveStart,f=a.directiveEnd;u<f;u++){const m=o.data[u].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:b,ngAfterViewInit:S,ngAfterViewChecked:E,ngOnDestroy:T}=m;y&&(o.contentHooks||(o.contentHooks=[])).push(-u,y),b&&((o.contentHooks||(o.contentHooks=[])).push(u,b),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(u,b)),S&&(o.viewHooks||(o.viewHooks=[])).push(-u,S),E&&((o.viewHooks||(o.viewHooks=[])).push(u,E),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(u,E)),null!=T&&(o.destroyHooks||(o.destroyHooks=[])).push(u,T)}}function Gc(o,a,u){el(o,a,3,u)}function L1(o,a,u,f){(3&o[2])===u&&el(o,a,u,f)}function J3(o,a){let u=o[2];(3&u)===a&&(u&=2047,u+=1,o[2]=u)}function el(o,a,u,f){const m=f??-1,y=a.length-1;let b=0;for(let S=void 0!==f?65535&o[18]:0;S<y;S++)if("number"==typeof a[S+1]){if(b=a[S],null!=f&&b>=f)break}else a[S]<0&&(o[18]+=65536),(b<m||-1==m)&&(Z0(o,u,a,S),o[18]=(4294901760&o[18])+S+2),S++}function Z0(o,a,u,f){const h=u[f]<0,m=u[f+1],b=o[h?-u[f]:u[f]];if(h){if(o[2]>>11<o[18]>>16&&(3&o[2])===a){o[2]+=2048;try{m.call(b)}finally{}}}else try{m.call(b)}finally{}}class us{constructor(a,u,f){this.factory=a,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=f}}function w2(o,a,u){let f=0;for(;f<u.length;){const h=u[f];if("number"==typeof h){if(0!==h)break;f++;const m=u[f++],y=u[f++],b=u[f++];o.setAttribute(a,y,b,m)}else{const m=h,y=u[++f];sl(m)?o.setProperty(a,m,y):o.setAttribute(a,m,y),f++}}return f}function rl(o){return 3===o||4===o||6===o}function sl(o){return 64===o.charCodeAt(0)}function ma(o,a){if(null!==a&&0!==a.length)if(null===o||0===o.length)o=a.slice();else{let u=-1;for(let f=0;f<a.length;f++){const h=a[f];"number"==typeof h?u=h:0===u||Q0(o,u,h,null,-1===u||2===u?a[++f]:null)}}return o}function Q0(o,a,u,f,h){let m=0,y=o.length;if(-1===a)y=-1;else for(;m<o.length;){const b=o[m++];if("number"==typeof b){if(b===a){y=-1;break}if(b>a){y=m-1;break}}}for(;m<o.length;){const b=o[m];if("number"==typeof b)break;if(b===u){if(null===f)return void(null!==h&&(o[m+1]=h));if(f===o[m+1])return void(o[m+2]=h)}m++,null!==f&&m++,null!==h&&m++}-1!==y&&(o.splice(y,0,a),m=y+1),o.splice(m++,0,u),null!==f&&o.splice(m++,0,f),null!==h&&o.splice(m++,0,h)}function Pf(o){return-1!==o}function I1(o){return 32767&o}function J2(o,a){let u=function Ff(o){return o>>16}(o),f=a;for(;u>0;)f=f[15],u--;return f}let ol=!0;function qc(o){const a=ol;return ol=o,a}let X0=0;const Is={};function T1(o,a){const u=Wc(o,a);if(-1!==u)return u;const f=a[1];f.firstCreatePass&&(o.injectorIndex=a.length,al(f.data,o),al(a,null),al(f.blueprint,null));const h=ga(o,a),m=o.injectorIndex;if(Pf(h)){const y=I1(h),b=J2(h,a),S=b[1].data;for(let E=0;E<8;E++)a[m+E]=b[y+E]|S[y+E]}return a[m+8]=h,m}function al(o,a){o.push(0,0,0,0,0,0,0,0,a)}function Wc(o,a){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===a[o.injectorIndex+8]?-1:o.injectorIndex}function ga(o,a){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let u=0,f=null,h=a;for(;null!==h;){if(f=Xc(h),null===f)return-1;if(u++,h=h[15],-1!==f.injectorIndex)return f.injectorIndex|u<<16}return-1}function va(o,a,u){!function Bf(o,a,u){let f;"string"==typeof u?f=u.charCodeAt(0)||0:u.hasOwnProperty(zn)&&(f=u[zn]),null==f&&(f=u[zn]=X0++);const h=255&f;a.data[o+(h>>5)]|=1<<h}(o,a,u)}function Yc(o,a,u){if(u&it.Optional||void 0!==o)return o;Ne()}function V1(o,a,u,f){if(u&it.Optional&&void 0===f&&(f=null),0==(u&(it.Self|it.Host))){const h=o[9],m=wn(void 0);try{return h?h.get(a,f,u&it.Optional):di(a,f,u&it.Optional)}finally{wn(m)}}return Yc(f,0,u)}function Kc(o,a,u,f=it.Default,h){if(null!==o){if(1024&a[2]){const y=function Gf(o,a,u,f,h){let m=o,y=a;for(;null!==m&&null!==y&&1024&y[2]&&!(256&y[2]);){const b=J0(m,y,u,f|it.Self,Is);if(b!==Is)return b;let S=m.parent;if(!S){const E=y[21];if(E){const T=E.get(u,Is,f);if(T!==Is)return T}S=Xc(y),y=y[15]}m=S}return h}(o,a,u,f,Is);if(y!==Is)return y}const m=J0(o,a,u,f,Is);if(m!==Is)return m}return V1(a,u,f,h)}function J0(o,a,u,f,h){const m=function Uf(o){if("string"==typeof o)return o.charCodeAt(0)||0;const a=o.hasOwnProperty(zn)?o[zn]:void 0;return"number"==typeof a?a>=0?255&a:nu:a}(u);if("function"==typeof m){if(!Lf(a,o,f))return f&it.Host?Yc(h,0,f):V1(a,u,f,h);try{const y=m(f);if(null!=y||f&it.Optional)return y;Ne()}finally{Y0()}}else if("number"==typeof m){let y=null,b=Wc(o,a),S=-1,E=f&it.Host?a[16][6]:null;for((-1===b||f&it.SkipSelf)&&(S=-1===b?ga(o,a):a[b+8],-1!==S&&tu(f,!1)?(y=a[1],b=I1(S),a=J2(S,a)):b=-1);-1!==b;){const T=a[1];if(Zc(m,b,T.data)){const U=eu(b,a,u,y,f,E);if(U!==Is)return U}S=a[b+8],-1!==S&&tu(f,a[1].data[b+8]===E)&&Zc(m,b,a)?(y=T,b=I1(S),a=J2(S,a)):b=-1}}return h}function eu(o,a,u,f,h,m){const y=a[1],b=y.data[o+8],T=ya(b,y,u,null==f?g2(b)&&ol:f!=y&&0!=(3&b.type),h&it.Host&&m===b);return null!==T?x2(a,y,T,b):Is}function ya(o,a,u,f,h){const m=o.providerIndexes,y=a.data,b=1048575&m,S=o.directiveStart,T=m>>20,Z=h?b+T:o.directiveEnd;for(let ae=f?b:b+T;ae<Z;ae++){const Le=y[ae];if(ae<S&&u===Le||ae>=S&&Le.type===u)return ae}if(h){const ae=y[S];if(ae&&kr(ae)&&ae.type===u)return S}return null}function x2(o,a,u,f){let h=o[u];const m=a.data;if(function tl(o){return o instanceof us}(h)){const y=h;y.resolving&&function lt(o,a){const u=a?`. Dependency path: ${a.join(" > ")} > ${o}`:"";throw new De(-200,`Circular dependency in DI detected for ${o}${u}`)}(function de(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():Me(o)}(m[u]));const b=qc(y.canSeeViewProviders);y.resolving=!0;const S=y.injectImpl?wn(y.injectImpl):null;Lf(o,f,it.Default);try{h=o[u]=y.factory(void 0,m,o,f),a.firstCreatePass&&u>=f.directiveStart&&function Uc(o,a,u){const{ngOnChanges:f,ngOnInit:h,ngDoCheck:m}=a.type.prototype;if(f){const y=kc(a);(u.preOrderHooks||(u.preOrderHooks=[])).push(o,y),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(o,y)}h&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-o,h),m&&((u.preOrderHooks||(u.preOrderHooks=[])).push(o,m),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(o,m))}(u,m[u],a)}finally{null!==S&&wn(S),qc(b),y.resolving=!1,Y0()}}return h}function Zc(o,a,u){return!!(u[a+(o>>5)]&1<<o)}function tu(o,a){return!(o&it.Self||o&it.Host&&a)}class Ca{constructor(a,u){this._tNode=a,this._lView=u}get(a,u,f){return Kc(this._tNode,this._lView,a,f,u)}}function nu(){return new Ca(ai(),Ve())}function e1(o){return En(()=>{const a=o.prototype.constructor,u=a[Xn]||Qc(a),f=Object.prototype;let h=Object.getPrototypeOf(o.prototype).constructor;for(;h&&h!==f;){const m=h[Xn]||Qc(h);if(m&&m!==u)return m;h=Object.getPrototypeOf(h)}return m=>new m})}function Qc(o){return Re(o)?()=>{const a=Qc(J(o));return a&&a()}:qi(o)}function Xc(o){const a=o[1],u=a.type;return 2===u?a.declTNode:1===u?o[6]:null}function Jc(o){return function _a(o,a){if("class"===a)return o.classes;if("style"===a)return o.styles;const u=o.attrs;if(u){const f=u.length;let h=0;for(;h<f;){const m=u[h];if(rl(m))break;if(0===m)h+=2;else if("number"==typeof m)for(h++;h<f&&"string"==typeof u[h];)h++;else{if(m===a)return u[h+1];h+=2}}}return null}(ai(),o)}const Ma="__parameters__";function ba(o,a,u){return En(()=>{const f=function iu(o){return function(...u){if(o){const f=o(...u);for(const h in f)this[h]=f[h]}}}(a);function h(...m){if(this instanceof h)return f.apply(this,m),this;const y=new h(...m);return b.annotation=y,b;function b(S,E,T){const U=S.hasOwnProperty(Ma)?S[Ma]:Object.defineProperty(S,Ma,{value:[]})[Ma];for(;U.length<=T;)U.push(null);return(U[T]=U[T]||[]).push(y),S}}return u&&(h.prototype=Object.create(u.prototype)),h.prototype.ngMetadataName=o,h.annotationCls=h,h})}class $n{constructor(a,u){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=cn({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function hi(o,a){void 0===a&&(a=o);for(let u=0;u<o.length;u++){let f=o[u];Array.isArray(f)?(a===o&&(a=o.slice(0,u)),hi(f,a)):a!==o&&a.push(f)}return a}function Qs(o,a){o.forEach(u=>Array.isArray(u)?Qs(u,a):a(u))}function Sa(o,a,u){a>=o.length?o.push(u):o.splice(a,0,u)}function Yn(o,a){return a>=o.length-1?o.pop():o.splice(a,1)[0]}function Xr(o,a){const u=[];for(let f=0;f<o;f++)u.push(a);return u}function ds(o,a,u){let f=fs(o,a);return f>=0?o[1|f]=u:(f=~f,function nm(o,a,u,f){let h=o.length;if(h==a)o.push(u,f);else if(1===h)o.push(f,o[0]),o[0]=u;else{for(h--,o.push(o[h-1],o[h]);h>a;)o[h]=o[h-2],h--;o[a]=u,o[a+1]=f}}(o,f,a,u)),f}function e4(o,a){const u=fs(o,a);if(u>=0)return o[1|u]}function fs(o,a){return function t4(o,a,u){let f=0,h=o.length>>u;for(;h!==f;){const m=f+(h-f>>1),y=o[m<<u];if(a===y)return m<<u;y>a?h=m:f=m+1}return~(h<<u)}(o,a,1)}const Aa={},fl="__NG_DI_FLAG__",bo="ngTempTokenPath",hl=/\n/gm,pl="__source";let wo;function k1(o){const a=wo;return wo=o,a}function Zf(o,a=it.Default){if(void 0===wo)throw new De(-203,!1);return null===wo?di(o,void 0,a):wo.get(o,a&it.Optional?null:void 0,a)}function Ai(o,a=it.Default){return(function jn(){return Sn}()||Zf)(J(o),a)}function cu(o,a=it.Default){return"number"!=typeof a&&(a=0|(a.optional&&8)|(a.host&&1)|(a.self&&2)|(a.skipSelf&&4)),Ai(o,a)}function ml(o){const a=[];for(let u=0;u<o.length;u++){const f=J(o[u]);if(Array.isArray(f)){if(0===f.length)throw new De(900,!1);let h,m=it.Default;for(let y=0;y<f.length;y++){const b=f[y],S=Qf(b);"number"==typeof S?-1===S?h=b.token:m|=S:h=b}a.push(Ai(h,m))}else a.push(Ai(f))}return a}function N1(o,a){return o[fl]=a,o.prototype[fl]=a,o}function Qf(o){return o[fl]}const R1=N1(ba("Optional"),8),P1=N1(ba("SkipSelf"),4);let bl,Ta,Ha;function sm(o){bl=o}function Va(o){return function u4(){if(void 0===Ta&&(Ta=null,gt.trustedTypes))try{Ta=gt.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return Ta}()?.createHTML(o)||o}function d4(o){return function xl(){if(void 0===Ha&&(Ha=null,gt.trustedTypes))try{Ha=gt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return Ha}()?.createHTML(o)||o}class Js{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class f4 extends Js{getTypeName(){return"HTML"}}class Sl extends Js{getTypeName(){return"Style"}}class e2 extends Js{getTypeName(){return"Script"}}class El extends Js{getTypeName(){return"URL"}}class xo extends Js{getTypeName(){return"ResourceURL"}}function E2(o){return o instanceof Js?o.changingThisBreaksApplicationSecurity:o}function Ts(o,a){const u=function Al(o){return o instanceof Js&&o.getTypeName()||null}(o);if(null!=u&&u!==a){if("ResourceURL"===u&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===a}function s5(o){return new f4(o)}function pu(o){return new Sl(o)}function o1(o){return new e2(o)}function mu(o){return new El(o)}function gu(o){return new xo(o)}class B1{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const u=(new window.DOMParser).parseFromString(Va(a),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(a):(u.removeChild(u.firstChild),u)}catch{return null}}}class h4{constructor(a){if(this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const f=this.inertDocument.createElement("body");u.appendChild(f)}}getInertBodyElement(a){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=Va(a),u;const f=this.inertDocument.createElement("body");return f.innerHTML=Va(a),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(f),f}stripCustomNsAttrs(a){const u=a.attributes;for(let h=u.length-1;0<h;h--){const y=u.item(h).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&a.removeAttribute(y)}let f=a.firstChild;for(;f;)f.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(f),f=f.nextSibling}}const g=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function _(o){return(o=String(o)).match(g)?o:"unsafe:"+o}function x(o){const a={};for(const u of o.split(","))a[u]=!0;return a}function L(...o){const a={};for(const u of o)for(const f in u)u.hasOwnProperty(f)&&(a[f]=!0);return a}const F=x("area,br,col,hr,img,wbr"),oe=x("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ze=x("rp,rt"),Un=L(F,L(oe,x("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),L(ze,x("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),L(ze,oe)),Ar=x("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ll=L(Ar,x("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),x("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Il=x("script,style,template");class o5{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let u=a.firstChild,f=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?f=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,f&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let h=this.checkClobberedElement(u,u.nextSibling);if(h){u=h;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(a){const u=a.nodeName.toLowerCase();if(!Un.hasOwnProperty(u))return this.sanitizedSomething=!0,!Il.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const f=a.attributes;for(let h=0;h<f.length;h++){const m=f.item(h),y=m.name,b=y.toLowerCase();if(!Ll.hasOwnProperty(b)){this.sanitizedSomething=!0;continue}let S=m.value;Ar[b]&&(S=_(S)),this.buf.push(" ",y,'="',Tl(S),'"')}return this.buf.push(">"),!0}endElement(a){const u=a.nodeName.toLowerCase();Un.hasOwnProperty(u)&&!F.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(a){this.buf.push(Tl(a))}checkClobberedElement(a,u){if(u&&(a.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return u}}const a5=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,So=/([^\#-~ |!])/g;function Tl(o){return o.replace(/&/g,"&amp;").replace(a5,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(So,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ka;function p4(o,a){let u=null;try{ka=ka||function hs(o){const a=new h4(o);return function M(){try{return!!(new window.DOMParser).parseFromString(Va(""),"text/html")}catch{return!1}}()?new B1(a):a}(o);let f=a?String(a):"";u=ka.getInertBodyElement(f);let h=5,m=f;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,f=m,m=u.innerHTML,u=ka.getInertBodyElement(f)}while(f!==m);return Va((new o5).sanitizeChildren(U1(u)||u))}finally{if(u){const f=U1(u)||u;for(;f.firstChild;)f.removeChild(f.firstChild)}}}function U1(o){return"content"in o&&function m4(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var ei=(()=>((ei=ei||{})[ei.NONE=0]="NONE",ei[ei.HTML=1]="HTML",ei[ei.STYLE=2]="STYLE",ei[ei.SCRIPT=3]="SCRIPT",ei[ei.URL=4]="URL",ei[ei.RESOURCE_URL=5]="RESOURCE_URL",ei))();function Vl(o){const a=Na();return a?d4(a.sanitize(ei.HTML,o)||""):Ts(o,"HTML")?d4(E2(o)):p4(function l4(){return void 0!==bl?bl:typeof document<"u"?document:void 0}(),Me(o))}function Hl(o){const a=Na();return a?a.sanitize(ei.URL,o)||"":Ts(o,"URL")?E2(o):_(Me(o))}function Na(){const o=Ve();return o&&o[12]}const zl=new $n("ENVIRONMENT_INITIALIZER"),kl=new $n("INJECTOR",-1),om=new $n("INJECTOR_DEF_TYPES");class am{get(a,u=Aa){if(u===Aa){const f=new Error(`NullInjectorError: No provider for ${me(a)}!`);throw f.name="NullInjectorError",f}return u}}function RM(...o){return{\u0275providers:cm(0,o)}}function cm(o,...a){const u=[],f=new Set;let h;return Qs(a,m=>{const y=m;Nl(y,u,[],f)&&(h||(h=[]),h.push(y))}),void 0!==h&&lm(h,u),u}function lm(o,a){for(let u=0;u<o.length;u++){const{providers:h}=o[u];Qs(h,m=>{a.push(m)})}}function Nl(o,a,u,f){if(!(o=J(o)))return!1;let h=null,m=$i(o);const y=!m&&D(o);if(m||y){if(y&&!y.standalone)return!1;h=o}else{const S=o.ngModule;if(m=$i(S),!m)return!1;h=S}const b=f.has(h);if(y){if(b)return!1;if(f.add(h),y.dependencies){const S="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const E of S)Nl(E,a,u,f)}}else{if(!m)return!1;{if(null!=m.imports&&!b){let E;f.add(h);try{Qs(m.imports,T=>{Nl(T,a,u,f)&&(E||(E=[]),E.push(T))})}finally{}void 0!==E&&lm(E,a)}if(!b){const E=qi(h)||(()=>new h);a.push({provide:h,useFactory:E,deps:Vt},{provide:om,useValue:h,multi:!0},{provide:zl,useValue:()=>Ai(h),multi:!0})}const S=m.providers;null==S||b||Qs(S,T=>{a.push(T)})}}return h!==o&&void 0!==o.providers}const vu=ye({provide:String,useValue:ye});function Rl(o){return null!==o&&"object"==typeof o&&vu in o}function Eo(o){return"function"==typeof o}const dm=new $n("Set Injector scope."),v4={},CT={};let l5;function _u(){return void 0===l5&&(l5=new am),l5}class Ao{}class yu extends Ao{constructor(a,u,f,h){super(),this.parent=u,this.source=f,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,u5(a,y=>this.processProvider(y)),this.records.set(kl,_4(void 0,this)),h.has("environment")&&this.records.set(Ao,_4(void 0,this));const m=this.records.get(dm);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(om.multi,Vt,it.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();for(const a of this._onDestroyHooks)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(a){this._onDestroyHooks.push(a)}runInContext(a){this.assertNotDestroyed();const u=k1(this),f=wn(void 0);try{return a()}finally{k1(u),wn(f)}}get(a,u=Aa,f=it.Default){this.assertNotDestroyed();const h=k1(this),m=wn(void 0);try{if(!(f&it.SkipSelf)){let b=this.records.get(a);if(void 0===b){const S=function UM(o){return"function"==typeof o||"object"==typeof o&&o instanceof $n}(a)&&In(a);b=S&&this.injectableDefInScope(S)?_4(Cu(a),v4):null,this.records.set(a,b)}if(null!=b)return this.hydrate(a,b)}return(f&it.Self?_u():this.parent).get(a,u=f&it.Optional&&u===Aa?null:u)}catch(y){if("NullInjectorError"===y.name){if((y[bo]=y[bo]||[]).unshift(me(a)),h)throw y;return function Xf(o,a,u,f){const h=o[bo];throw a[pl]&&h.unshift(a[pl]),o.message=function gl(o,a,u,f=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.slice(2):o;let h=me(a);if(Array.isArray(a))h=a.map(me).join(" -> ");else if("object"==typeof a){let m=[];for(let y in a)if(a.hasOwnProperty(y)){let b=a[y];m.push(y+":"+("string"==typeof b?JSON.stringify(b):me(b)))}h=`{${m.join(", ")}}`}return`${u}${f?"("+f+")":""}[${h}]: ${o.replace(hl,"\n  ")}`}("\n"+o.message,h,u,f),o.ngTokenPath=h,o[bo]=null,o}(y,a,"R3InjectorError",this.source)}throw y}finally{wn(m),k1(h)}}resolveInjectorInitializers(){const a=k1(this),u=wn(void 0);try{const f=this.get(zl.multi,Vt,it.Self);for(const h of f)h()}finally{k1(a),wn(u)}}toString(){const a=[],u=this.records;for(const f of u.keys())a.push(me(f));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new De(205,!1)}processProvider(a){let u=Eo(a=J(a))?a:J(a&&a.provide);const f=function FM(o){return Rl(o)?_4(void 0,o.useValue):_4(fm(o),v4)}(a);if(Eo(a)||!0!==a.multi)this.records.get(u);else{let h=this.records.get(u);h||(h=_4(void 0,v4,!0),h.factory=()=>ml(h.multi),this.records.set(u,h)),u=a,h.multi.push(a)}this.records.set(u,f)}hydrate(a,u){return u.value===v4&&(u.value=CT,u.value=u.factory()),"object"==typeof u.value&&u.value&&function BM(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(a){if(!a.providedIn)return!1;const u=J(a.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}}function Cu(o){const a=In(o),u=null!==a?a.factory:qi(o);if(null!==u)return u;if(o instanceof $n)throw new De(204,!1);if(o instanceof Function)return function MT(o){const a=o.length;if(a>0)throw Xr(a,"?"),new De(204,!1);const u=function On(o){const a=o&&(o[Zn]||o[Ei]);if(a){const u=function ri(o){if(o.hasOwnProperty("name"))return o.name;const a=(""+o).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),a}return null}(o);return null!==u?()=>u.factory(o):()=>new o}(o);throw new De(204,!1)}function fm(o,a,u){let f;if(Eo(o)){const h=J(o);return qi(h)||Cu(h)}if(Rl(o))f=()=>J(o.useValue);else if(function um(o){return!(!o||!o.useFactory)}(o))f=()=>o.useFactory(...ml(o.deps||[]));else if(function Pl(o){return!(!o||!o.useExisting)}(o))f=()=>Ai(J(o.useExisting));else{const h=J(o&&(o.useClass||o.provide));if(!function OM(o){return!!o.deps}(o))return qi(h)||Cu(h);f=()=>new h(...ml(o.deps))}return f}function _4(o,a,u=!1){return{factory:o,value:a,multi:u?[]:void 0}}function hm(o){return!!o.\u0275providers}function u5(o,a){for(const u of o)Array.isArray(u)?u5(u,a):hm(u)?u5(u.\u0275providers,a):a(u)}class d5{}class $M{resolveComponentFactory(a){throw function jM(o){const a=Error(`No component factory found for ${me(o)}. Did you add it to @NgModule.entryComponents?`);return a.ngComponent=o,a}(a)}}let Fl=(()=>{class o{}return o.NULL=new $M,o})();function qM(){return Ra(ai(),Ve())}function Ra(o,a){return new Ol(vr(o,a))}let Ol=(()=>{class o{constructor(u){this.nativeElement=u}}return o.__NG_ELEMENT_ID__=qM,o})();function n2(o){return o instanceof Ol?o.nativeElement:o}class y4{}let f5=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function WM(){const o=Ve(),u=dn(ai().index,o);return(Pi(u)?u:o)[11]}(),o})(),YM=(()=>{class o{}return o.\u0275prov=cn({token:o,providedIn:"root",factory:()=>null}),o})();class bu{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const mm=new bu("14.2.8"),h5={};function m5(o){return o.ngOriginalError}class Gl{constructor(){this._console=console}handleError(a){const u=this._findOriginalError(a);this._console.error("ERROR",a),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(a){let u=a&&m5(a);for(;u&&m5(u);)u=m5(u);return u||null}}const v5=new Map;let rb=0;const wm="__ngContext__";function nn(o,a){Pi(a)?(o[wm]=a[20],function ob(o){v5.set(o[20],o)}(a)):o[wm]=a}function Dm(o){return o.ownerDocument}function j1(o){return o instanceof Function?o():o}var a1=(()=>((a1=a1||{})[a1.Important=1]="Important",a1[a1.DashCase=2]="DashCase",a1))();function Oa(o,a){return undefined(o,a)}function Yi(o){const a=o[3];return cr(a)?a[3]:a}function Io(o){return w5(o[13])}function Du(o){return w5(o[4])}function w5(o){for(;null!==o&&!cr(o);)o=o[4];return o}function Ba(o,a,u,f,h){if(null!=f){let m,y=!1;cr(f)?m=f:Pi(f)&&(y=!0,f=f[0]);const b=Jn(f);0===o&&null!==u?null==h?jl(a,u,b):W1(a,u,b,h||null,!0):1===o&&null!==u?W1(a,u,b,h||null,!0):2===o?function Fm(o,a,u){const f=_r(o,a);f&&function Rm(o,a,u,f){o.removeChild(a,u,f)}(o,f,a,u)}(a,b,y):3===o&&a.destroyNode(b),null!=m&&function LT(o,a,u,f,h){const m=u[7];m!==Jn(u)&&Ba(a,o,f,m,h);for(let b=10;b<u.length;b++){const S=u[b];Nu(S[1],S,o,a,f,m)}}(a,o,m,u,h)}}function Iu(o,a,u){return o.createElement(a,u)}function S5(o,a){const u=o[9],f=u.indexOf(a),h=a[3];512&a[2]&&(a[2]&=-513,vo(h,-1)),u.splice(f,1)}function Vu(o,a){if(o.length<=10)return;const u=10+a,f=o[u];if(f){const h=f[17];null!==h&&h!==o&&S5(h,f),a>0&&(o[u-1][4]=f[4]);const m=Yn(o,10+a);!function Tu(o,a){Nu(o,a,a[11],2,null,null),a[0]=null,a[6]=null}(f[1],f);const y=m[19];null!==y&&y.detachView(m[1]),f[3]=null,f[4]=null,f[2]&=-65}return f}function Hu(o,a){if(!(128&a[2])){const u=a[11];u.destroyNode&&Nu(o,a,u,3,null,null),function zm(o){let a=o[13];if(!a)return zu(o[1],o);for(;a;){let u=null;if(Pi(a))u=a[13];else{const f=a[10];f&&(u=f)}if(!u){for(;a&&!a[4]&&a!==o;)Pi(a)&&zu(a[1],a),a=a[3];null===a&&(a=o),Pi(a)&&zu(a[1],a),u=a&&a[4]}a=u}}(a)}}function zu(o,a){if(!(128&a[2])){a[2]&=-65,a[2]|=128,function Nm(o,a){let u;if(null!=o&&null!=(u=o.destroyHooks))for(let f=0;f<u.length;f+=2){const h=a[u[f]];if(!(h instanceof us)){const m=u[f+1];if(Array.isArray(m))for(let y=0;y<m.length;y+=2){const b=h[m[y]],S=m[y+1];try{S.call(b)}finally{}}else try{m.call(h)}finally{}}}}(o,a),function E5(o,a){const u=o.cleanup,f=a[7];let h=-1;if(null!==u)for(let m=0;m<u.length-1;m+=2)if("string"==typeof u[m]){const y=u[m+1],b="function"==typeof y?y(a):Jn(a[y]),S=f[h=u[m+2]],E=u[m+3];"boolean"==typeof E?b.removeEventListener(u[m],S,E):E>=0?f[h=E]():f[h=-E].unsubscribe(),m+=2}else{const y=f[h=u[m+1]];u[m].call(y)}if(null!==f){for(let m=h+1;m<f.length;m++)(0,f[m])();a[7]=null}}(o,a),1===a[1].type&&a[11].destroy();const u=a[17];if(null!==u&&cr(a[3])){u!==a[3]&&S5(u,a);const f=a[19];null!==f&&f.detachView(o)}!function y5(o){v5.delete(o[20])}(a)}}function A5(o,a,u){return function D5(o,a,u){let f=a;for(;null!==f&&40&f.type;)f=(a=f).parent;if(null===f)return u[0];if(2&f.flags){const h=o.data[f.directiveStart].encapsulation;if(h===ht.None||h===ht.Emulated)return null}return vr(f,u)}(o,a.parent,u)}function W1(o,a,u,f,h){o.insertBefore(a,u,f,h)}function jl(o,a,u){o.appendChild(a,u)}function L5(o,a,u,f,h){null!==f?W1(o,a,u,f,h):jl(o,a,u)}function _r(o,a){return o.parentNode(a)}function I5(o,a,u){return vb(o,a,u)}let vb=function gb(o,a,u){return 40&o.type?vr(o,u):null};function C4(o,a,u,f){const h=A5(o,f,a),m=a[11],b=I5(f.parent||a[6],f,a);if(null!=h)if(Array.isArray(u))for(let S=0;S<u.length;S++)L5(m,h,u[S],b,!1);else L5(m,h,u,b,!1)}function Ua(o,a){if(null!==a){const u=a.type;if(3&u)return vr(a,o);if(4&u)return ql(-1,o[a.index]);if(8&u){const f=a.child;if(null!==f)return Ua(o,f);{const h=o[a.index];return cr(h)?ql(-1,h):Jn(h)}}if(32&u)return Oa(a,o)()||Jn(o[a.index]);{const f=Pm(o,a);return null!==f?Array.isArray(f)?f[0]:Ua(Yi(o[16]),f):Ua(o,a.next)}}return null}function Pm(o,a){return null!==a?o[16][6].projection[a.projection]:null}function ql(o,a){const u=10+o+1;if(u<a.length){const f=a[u],h=f[1].firstChild;if(null!==h)return Ua(f,h)}return a[7]}function Om(o,a,u,f,h,m,y){for(;null!=u;){const b=f[u.index],S=u.type;if(y&&0===a&&(b&&nn(Jn(b),f),u.flags|=4),64!=(64&u.flags))if(8&S)Om(o,a,u.child,f,h,m,!1),Ba(a,o,h,b,m);else if(32&S){const E=Oa(u,f);let T;for(;T=E();)Ba(a,o,h,T,m);Ba(a,o,h,b,m)}else 16&S?_b(o,a,f,u,h,m):Ba(a,o,h,b,m);u=y?u.projectionNext:u.next}}function Nu(o,a,u,f,h,m){Om(u,f,o.firstChild,a,h,m,!1)}function _b(o,a,u,f,h,m){const y=u[16],S=y[6].projection[f.projection];if(Array.isArray(S))for(let E=0;E<S.length;E++)Ba(a,o,h,S[E],m);else Om(o,a,S,y[3],h,m,!0)}function yb(o,a,u){o.setAttribute(a,"style",u)}function T5(o,a,u){""===u?o.removeAttribute(a,"class"):o.setAttribute(a,"class",u)}function V5(o,a,u){let f=o.length;for(;;){const h=o.indexOf(a,u);if(-1===h)return h;if(0===h||o.charCodeAt(h-1)<=32){const m=a.length;if(h+m===f||o.charCodeAt(h+m)<=32)return h}u=h+1}}const Bm="ng-template";function Cb(o,a,u){let f=0;for(;f<o.length;){let h=o[f++];if(u&&"class"===h){if(h=o[f],-1!==V5(h.toLowerCase(),a,0))return!0}else if(1===h){for(;f<o.length&&"string"==typeof(h=o[f++]);)if(h.toLowerCase()===a)return!0;return!1}}return!1}function Ru(o){return 4===o.type&&o.value!==Bm}function Wl(o,a,u){return a===(4!==o.type||u?o.value:Bm)}function Pu(o,a,u){let f=4;const h=o.attrs||[],m=function H5(o){for(let a=0;a<o.length;a++)if(rl(o[a]))return a;return o.length}(h);let y=!1;for(let b=0;b<a.length;b++){const S=a[b];if("number"!=typeof S){if(!y)if(4&f){if(f=2|1&f,""!==S&&!Wl(o,S,u)||""===S&&1===a.length){if(Rr(f))return!1;y=!0}}else{const E=8&f?S:a[++b];if(8&f&&null!==o.attrs){if(!Cb(o.attrs,E,u)){if(Rr(f))return!1;y=!0}continue}const U=Yl(8&f?"class":S,h,Ru(o),u);if(-1===U){if(Rr(f))return!1;y=!0;continue}if(""!==E){let Z;Z=U>m?"":h[U+1].toLowerCase();const ae=8&f?Z:null;if(ae&&-1!==V5(ae,E,0)||2&f&&E!==Z){if(Rr(f))return!1;y=!0}}}}else{if(!y&&!Rr(f)&&!Rr(S))return!1;if(y&&Rr(S))continue;y=!1,f=S|1&f}}return Rr(f)||y}function Rr(o){return 0==(1&o)}function Yl(o,a,u,f){if(null===a)return-1;let h=0;if(f||!u){let m=!1;for(;h<a.length;){const y=a[h];if(y===o)return h;if(3===y||6===y)m=!0;else{if(1===y||2===y){let b=a[++h];for(;"string"==typeof b;)b=a[++h];continue}if(4===y)break;if(0===y){h+=4;continue}}h+=m?1:2}return-1}return function Gm(o,a){let u=o.indexOf(4);if(u>-1)for(u++;u<o.length;){const f=o[u];if("number"==typeof f)return-1;if(f===a)return u;u++}return-1}(a,o)}function Fu(o,a,u=!1){for(let f=0;f<a.length;f++)if(Pu(o,a[f],u))return!0;return!1}function Ou(o,a){e:for(let u=0;u<a.length;u++){const f=a[u];if(o.length===f.length){for(let h=0;h<o.length;h++)if(o[h]!==f[h])continue e;return!0}}return!1}function z5(o,a){return o?":not("+a.trim()+")":a}function jm(o){let a=o[0],u=1,f=2,h="",m=!1;for(;u<o.length;){let y=o[u];if("string"==typeof y)if(2&f){const b=o[++u];h+="["+y+(b.length>0?'="'+b+'"':"")+"]"}else 8&f?h+="."+y:4&f&&(h+=" "+y);else""!==h&&!Rr(y)&&(a+=z5(m,h),h=""),f=y,m=m||!Rr(f);u++}return""!==h&&(a+=z5(m,h)),a}const rn={};function Mb(o){k5(Et(),Ve(),ci()+o,!1)}function k5(o,a,u,f){if(!f)if(3==(3&a[2])){const m=o.preOrderCheckHooks;null!==m&&Gc(a,m,u)}else{const m=o.preOrderHooks;null!==m&&L1(a,m,0,u)}b2(u)}function qm(o,a=null,u=null,f){const h=R5(o,a,u,f);return h.resolveInjectorInitializers(),h}function R5(o,a=null,u=null,f,h=new Set){const m=[u||Vt,RM(o)];return f=f||("object"==typeof o?void 0:me(o)),new yu(m,a||_u(),f||null,h)}let Ga=(()=>{class o{static create(u,f){if(Array.isArray(u))return qm({name:""},f,u,"");{const h=u.name??"";return qm({name:h},u.parent,u.providers,h)}}}return o.THROW_IF_NOT_FOUND=Aa,o.NULL=new am,o.\u0275prov=cn({token:o,providedIn:"any",factory:()=>Ai(kl)}),o.__NG_ELEMENT_ID__=-1,o})();function b4(o,a=it.Default){const u=Ve();return null===u?Ai(o,a):Kc(ai(),u,J(o),a)}function U5(){throw new Error("invalid")}function G5(o,a){return o<<17|a<<2}function r2(o){return o>>17&32767}function j5(o){return 2|o}function c1(o){return(131068&o)>>2}function e6(o,a){return-131069&o|a<<2}function Wu(o){return 1|o}function dg(o,a){const u=o.contentQueries;if(null!==u)for(let f=0;f<u.length;f+=2){const h=u[f],m=u[f+1];if(-1!==m){const y=o.data[m];K3(h),y.contentQueries(2,a[m],m)}}}function X5(o,a,u,f,h,m,y,b,S,E,T){const U=a.blueprint.slice();return U[0]=h,U[2]=76|f,(null!==T||o&&1024&o[2])&&(U[2]|=1024),S1(U),U[3]=U[15]=o,U[8]=u,U[10]=y||o&&o[10],U[11]=b||o&&o[11],U[12]=S||o&&o[12]||null,U[9]=E||o&&o[9]||null,U[6]=m,U[20]=function sb(){return rb++}(),U[21]=T,U[16]=2==a.type?o[16]:U,U}function i6(o,a,u,f,h){let m=o.data[a];if(null===m)m=function Xu(o,a,u,f,h){const m=C2(),y=ua(),S=o.data[a]=function gg(o,a,u,f,h,m){return{type:u,index:f,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?m:m&&m.parent,u,a,f,h);return null===o.firstChild&&(o.firstChild=S),null!==m&&(y?null==m.child&&null!==S.parent&&(m.child=S):null===m.next&&(m.next=S)),S}(o,a,u,f,h),function q0(){return z.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=u,m.value=f,m.attrs=h;const y=function Ys(){const o=z.lFrame,a=o.currentTNode;return o.isParent?a:a.parent}();m.injectorIndex=null===y?-1:y.injectorIndex}return Fi(m,!0),m}function E4(o,a,u,f){if(0===u)return-1;const h=a.length;for(let m=0;m<u;m++)a.push(f),o.blueprint.push(f),o.data.push(null);return h}function pg(o,a,u){Bc(a);try{const f=o.viewQuery;null!==f&&Vs(1,f,u);const h=o.template;null!==h&&Bb(o,a,h,1,u),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&dg(o,a),o.staticViewQueries&&Vs(2,o.viewQuery,u);const m=o.components;null!==m&&function hg(o,a){for(let u=0;u<a.length;u++)KT(o,a[u])}(a,m)}catch(f){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),f}finally{a[2]&=-5,_o()}}function J5(o,a,u,f){const h=a[2];if(128!=(128&h)){Bc(a);try{S1(a),function da(o){return z.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==u&&Bb(o,a,u,2,f);const y=3==(3&h);if(y){const E=o.preOrderCheckHooks;null!==E&&Gc(a,E,null)}else{const E=o.preOrderHooks;null!==E&&L1(a,E,0,null),J3(a,0)}if(function WT(o){for(let a=Io(o);null!==a;a=Du(a)){if(!a[2])continue;const u=a[9];for(let f=0;f<u.length;f++){const h=u[f],m=h[3];0==(512&h[2])&&vo(m,1),h[2]|=512}}}(a),function qT(o){for(let a=Io(o);null!==a;a=Du(a))for(let u=10;u<a.length;u++){const f=a[u],h=f[1];y2(f)&&J5(h,f,h.template,f[8])}}(a),null!==o.contentQueries&&dg(o,a),y){const E=o.contentCheckHooks;null!==E&&Gc(a,E)}else{const E=o.contentHooks;null!==E&&L1(a,E,1),J3(a,1)}!function ug(o,a){const u=o.hostBindingOpCodes;if(null!==u)try{for(let f=0;f<u.length;f++){const h=u[f];if(h<0)b2(~h);else{const m=h,y=u[++f],b=u[++f];W0(y,m),b(2,a[m])}}}finally{b2(-1)}}(o,a);const b=o.components;null!==b&&function fg(o,a){for(let u=0;u<a.length;u++)YT(o,a[u])}(a,b);const S=o.viewQuery;if(null!==S&&Vs(2,S,f),y){const E=o.viewCheckHooks;null!==E&&Gc(a,E)}else{const E=o.viewHooks;null!==E&&L1(a,E,2),J3(a,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),a[2]&=-41,512&a[2]&&(a[2]&=-513,vo(a[3],-1))}finally{_o()}}}function Bb(o,a,u,f,h){const m=ci(),y=2&f;try{b2(-1),y&&a.length>22&&k5(o,a,22,!1),u(f,h)}finally{b2(m)}}function pi(o,a,u){if(xs(a)){const h=a.directiveEnd;for(let m=a.directiveStart;m<h;m++){const y=o.data[m];y.contentQueries&&y.contentQueries(1,u[m],m)}}}function Yt(o,a,u){!Mt()||(function u1(o,a,u,f){const h=u.directiveStart,m=u.directiveEnd;o.firstCreatePass||T1(u,a),nn(f,a);const y=u.initialInputs;for(let b=h;b<m;b++){const S=o.data[b],E=kr(S);E&&ih(a,u,S);const T=x2(a,o,b,u);nn(T,a),null!==y&&$b(0,b-h,T,S,0,y),E&&(dn(u.index,a)[8]=T)}}(o,a,u,vr(u,a)),128==(128&u.flags)&&function yg(o,a,u){const f=u.directiveStart,h=u.directiveEnd,m=u.index,y=function Xp(){return z.lFrame.currentDirectiveIndex}();try{b2(m);for(let b=f;b<h;b++){const S=o.data[b],E=a[b];Oc(b),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&t8(S,E)}}finally{b2(-1),Oc(y)}}(o,a,u))}function ct(o,a,u=vr){const f=a.localNames;if(null!==f){let h=a.index+1;for(let m=0;m<f.length;m+=2){const y=f[m+1],b=-1===y?u(a,o):o[y];o[h++]=b}}}function s2(o){const a=o.tView;return null===a||a.incompleteFirstPass?o.tView=$a(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):a}function $a(o,a,u,f,h,m,y,b,S,E){const T=22+f,U=T+h,Z=function Li(o,a){const u=[];for(let f=0;f<a;f++)u.push(f<o?null:rn);return u}(T,U),ae="function"==typeof E?E():E;return Z[1]={type:o,blueprint:Z,template:u,queries:null,viewQuery:b,declTNode:a,data:Z.slice().fill(null,T),bindingStartIndex:T,expandoStartIndex:U,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:S,consts:ae,incompleteFirstPass:!1}}function mg(o,a,u,f){const h=wg(a);null===u?h.push(f):(h.push(u),o.firstCreatePass&&xg(o).push(f,h.length-1))}function Ju(o,a,u){for(let f in o)if(o.hasOwnProperty(f)){const h=o[f];(u=null===u?{}:u).hasOwnProperty(f)?u[f].push(a,h):u[f]=[a,h]}return u}function vg(o,a){const f=a.directiveEnd,h=o.data,m=a.attrs,y=[];let b=null,S=null;for(let E=a.directiveStart;E<f;E++){const T=h[E],U=T.inputs,Z=null===m||Ru(a)?null:qb(U,m);y.push(Z),b=Ju(U,E,b),S=Ju(T.outputs,E,S)}null!==b&&(b.hasOwnProperty("class")&&(a.flags|=16),b.hasOwnProperty("style")&&(a.flags|=32)),a.initialInputs=y,a.inputs=b,a.outputs=S}function mn(o,a,u,f,h,m,y,b){const S=vr(a,u);let T,E=a.inputs;!b&&null!=E&&(T=E[f])?(A4(o,u,T,f,h),g2(a)&&l1(u,a.index)):3&a.type&&(f=function e8(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(f),h=null!=y?y(h,a.value||"",f):h,m.setProperty(S,f,h))}function l1(o,a){const u=dn(a,o);16&u[2]||(u[2]|=32)}function th(o,a,u,f){let h=!1;if(Mt()){const m=function fn(o,a,u){const f=o.directiveRegistry;let h=null;if(f)for(let m=0;m<f.length;m++){const y=f[m];Fu(u,y.selectors,!1)&&(h||(h=[]),va(T1(u,a),o,y.type),kr(y)?(nh(o,u),h.unshift(y)):h.push(y))}return h}(o,a,u),y=null===f?null:{"":-1};if(null!==m){h=!0,jb(u,o.data.length,m.length);for(let T=0;T<m.length;T++){const U=m[T];U.providersResolver&&U.providersResolver(U)}let b=!1,S=!1,E=E4(o,a,m.length,null);for(let T=0;T<m.length;T++){const U=m[T];u.mergedAttrs=ma(u.mergedAttrs,U.hostAttrs),Cg(o,u,a,E,U),Gb(E,U,y),null!==U.contentQueries&&(u.flags|=8),(null!==U.hostBindings||null!==U.hostAttrs||0!==U.hostVars)&&(u.flags|=128);const Z=U.type.prototype;!b&&(Z.ngOnChanges||Z.ngOnInit||Z.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(u.index),b=!0),!S&&(Z.ngOnChanges||Z.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(u.index),S=!0),E++}vg(o,u)}y&&function r6(o,a,u){if(a){const f=o.localNames=[];for(let h=0;h<a.length;h+=2){const m=u[a[h+1]];if(null==m)throw new De(-301,!1);f.push(a[h],m)}}}(u,f,y)}return u.mergedAttrs=ma(u.mergedAttrs,u.attrs),h}function qa(o,a,u,f,h,m){const y=m.hostBindings;if(y){let b=o.hostBindingOpCodes;null===b&&(b=o.hostBindingOpCodes=[]);const S=~a.index;(function K1(o){let a=o.length;for(;a>0;){const u=o[--a];if("number"==typeof u&&u<0)return u}return 0})(b)!=S&&b.push(S),b.push(f,h,y)}}function t8(o,a){null!==o.hostBindings&&o.hostBindings(1,a)}function nh(o,a){a.flags|=2,(o.components||(o.components=[])).push(a.index)}function Gb(o,a,u){if(u){if(a.exportAs)for(let f=0;f<a.exportAs.length;f++)u[a.exportAs[f]]=o;kr(a)&&(u[""]=o)}}function jb(o,a,u){o.flags|=1,o.directiveStart=a,o.directiveEnd=a+u,o.providerIndexes=a}function Cg(o,a,u,f,h){o.data[f]=h;const m=h.factory||(h.factory=qi(h.type)),y=new us(m,kr(h),b4);o.blueprint[f]=y,u[f]=y,qa(o,a,0,f,E4(o,u,h.hostVars,rn),h)}function ih(o,a,u){const f=vr(a,o),h=s2(u),m=o[10],y=Se(o,X5(o,h,null,u.onPush?32:16,f,a,m,m.createRenderer(f,u),null,null,null));o[a.index]=y}function Z1(o,a,u,f,h,m){const y=vr(o,a);!function Mg(o,a,u,f,h,m,y){if(null==m)o.removeAttribute(a,h,u);else{const b=null==y?Me(m):y(m,f||"",h);o.setAttribute(a,h,b,u)}}(a[11],y,m,o.value,u,f,h)}function $b(o,a,u,f,h,m){const y=m[a];if(null!==y){const b=f.setInput;for(let S=0;S<y.length;){const E=y[S++],T=y[S++],U=y[S++];null!==b?f.setInput(u,U,E,T):u[T]=U}}}function qb(o,a){let u=null,f=0;for(;f<a.length;){const h=a[f];if(0!==h)if(5!==h){if("number"==typeof h)break;o.hasOwnProperty(h)&&(null===u&&(u=[]),u.push(h,o[h],a[f+1])),f+=2}else f+=2;else f+=4}return u}function Wb(o,a,u,f){return new Array(o,!0,!1,a,null,0,f,u,null,null)}function YT(o,a){const u=dn(a,o);if(y2(u)){const f=u[1];48&u[2]?J5(f,u,f.template,u[8]):u[5]>0&&bg(u)}}function bg(o){for(let f=Io(o);null!==f;f=Du(f))for(let h=10;h<f.length;h++){const m=f[h];if(y2(m))if(512&m[2]){const y=m[1];J5(y,m,y.template,m[8])}else m[5]>0&&bg(m)}const u=o[1].components;if(null!==u)for(let f=0;f<u.length;f++){const h=dn(u[f],o);y2(h)&&h[5]>0&&bg(h)}}function KT(o,a){const u=dn(a,o),f=u[1];(function ZT(o,a){for(let u=a.length;u<o.blueprint.length;u++)a.push(o.blueprint[u])})(f,u),pg(f,u,u[8])}function Se(o,a){return o[13]?o[14][4]=a:o[13]=a,o[14]=a,a}function Dr(o){for(;o;){o[2]|=32;const a=Yi(o);if(fo(o)&&!a)return o;o=a}return null}function ms(o,a,u,f=!0){const h=a[10];h.begin&&h.begin();try{J5(o,a,o.template,u)}catch(y){throw f&&Hs(a,y),y}finally{h.end&&h.end()}}function Vs(o,a,u){K3(0),a(o,u)}function wg(o){return o[7]||(o[7]=[])}function xg(o){return o.cleanup||(o.cleanup=[])}function ur(o,a,u){return(null===o||kr(o))&&(u=function Rc(o){for(;Array.isArray(o);){if("object"==typeof o[1])return o;o=o[0]}return null}(u[a.index])),u[11]}function Hs(o,a){const u=o[9],f=u?u.get(Gl,null):null;f&&f.handleError(a)}function A4(o,a,u,f,h){for(let m=0;m<u.length;){const y=u[m++],b=u[m++],S=a[y],E=o.data[y];null!==E.setInput?E.setInput(S,h,f,b):S[b]=h}}function n8(o,a,u){let f=u?o.styles:null,h=u?o.classes:null,m=0;if(null!==a)for(let y=0;y<a.length;y++){const b=a[y];"number"==typeof b?m=b:1==m?h=_e(h,b):2==m&&(f=_e(f,b+": "+a[++y]+";"))}u?o.styles=f:o.stylesWithoutHost=f,u?o.classes=h:o.classesWithoutHost=h}function i8(o,a,u,f,h=!1){for(;null!==u;){const m=a[u.index];if(null!==m&&f.push(Jn(m)),cr(m))for(let b=10;b<m.length;b++){const S=m[b],E=S[1].firstChild;null!==E&&i8(S[1],S,E,f)}const y=u.type;if(8&y)i8(o,a,u.child,f);else if(32&y){const b=Oa(u,a);let S;for(;S=b();)f.push(S)}else if(16&y){const b=Pm(a,u);if(Array.isArray(b))f.push(...b);else{const S=Yi(a[16]);i8(S[1],S,b,f,!0)}}u=h?u.projectionNext:u.next}return f}class s6{constructor(a,u){this._lView=a,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const a=this._lView,u=a[1];return i8(u,a,u.firstChild,[])}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(cr(a)){const u=a[8],f=u?u.indexOf(this):-1;f>-1&&(Vu(a,f),Yn(u,f))}this._attachedToViewContainer=!1}Hu(this._lView[1],this._lView)}onDestroy(a){mg(this._lView[1],this._lView,null,a)}markForCheck(){Dr(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){ms(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new De(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Hm(o,a){Nu(o,a,a[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new De(902,!1);this._appRef=a}}class Sg extends s6{constructor(a){super(a),this._view=a}detectChanges(){const a=this._view;ms(a[1],a,a[8],!1)}checkNoChanges(){}get context(){return null}}class rh extends Fl{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const u=D(a);return new dr(u,this.ngModule)}}function Eg(o){const a=[];for(let u in o)o.hasOwnProperty(u)&&a.push({propName:o[u],templateName:u});return a}class Zb{constructor(a,u){this.injector=a,this.parentInjector=u}get(a,u,f){const h=this.injector.get(a,h5,f);return h!==h5||u===h5?h:this.parentInjector.get(a,u,f)}}class dr extends d5{constructor(a,u){super(),this.componentDef=a,this.ngModule=u,this.componentType=a.type,this.selector=function Bu(o){return o.map(jm).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return Eg(this.componentDef.inputs)}get outputs(){return Eg(this.componentDef.outputs)}create(a,u,f,h){let m=(h=h||this.ngModule)instanceof Ao?h:h?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const y=m?new Zb(a,m):a,b=y.get(y4,null);if(null===b)throw new De(407,!1);const S=y.get(YM,null),E=b.createRenderer(null,this.componentDef),T=this.componentDef.selectors[0][0]||"div",U=f?function Ub(o,a,u){return o.selectRootElement(a,u===ht.ShadowDom)}(E,f,this.componentDef.encapsulation):Iu(b.createRenderer(null,this.componentDef),T,function Kb(o){const a=o.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(T)),Z=this.componentDef.onPush?288:272,ae=$a(0,null,null,1,0,null,null,null,null,null),Le=X5(null,ae,null,Z,null,null,b,E,S,y,null);let Ye,rt;Bc(Le);try{const yt=function ah(o,a,u,f,h,m){const y=u[1];u[22]=o;const S=i6(y,22,2,"#host",null),E=S.mergedAttrs=a.hostAttrs;null!==E&&(n8(S,E,!0),null!==o&&(w2(h,o,E),null!==S.classes&&T5(h,o,S.classes),null!==S.styles&&yb(h,o,S.styles)));const T=f.createRenderer(o,a),U=X5(u,s2(a),null,a.onPush?32:16,u[22],S,f,T,m||null,null,null);return y.firstCreatePass&&(va(T1(S,u),y,a.type),nh(y,S),jb(S,u.length,1)),Se(u,U),u[22]=U}(U,this.componentDef,Le,b,E);if(U)if(f)w2(E,U,["ng-version",mm.full]);else{const{attrs:zt,classes:Fe}=function Kl(o){const a=[],u=[];let f=1,h=2;for(;f<o.length;){let m=o[f];if("string"==typeof m)2===h?""!==m&&a.push(m,o[++f]):8===h&&u.push(m);else{if(!Rr(h))break;h=m}f++}return{attrs:a,classes:u}}(this.componentDef.selectors[0]);zt&&w2(E,U,zt),Fe&&Fe.length>0&&T5(E,U,Fe.join(" "))}if(rt=Zr(ae,22),void 0!==u){const zt=rt.projection=[];for(let Fe=0;Fe<this.ngContentSelectors.length;Fe++){const Bt=u[Fe];zt.push(null!=Bt?Array.from(Bt):null)}}Ye=function ch(o,a,u,f){const h=u[1],m=function _g(o,a,u){const f=ai();o.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),Cg(o,f,a,E4(o,a,1,null),u),vg(o,f));const h=x2(a,o,f.directiveStart,f);nn(h,a);const m=vr(f,a);return m&&nn(m,a),h}(h,u,a);if(o[8]=u[8]=m,null!==f)for(const b of f)b(m,a);if(a.contentQueries){const b=ai();a.contentQueries(1,m,b.directiveStart)}const y=ai();return!h.firstCreatePass||null===a.hostBindings&&null===a.hostAttrs||(b2(y.index),qa(u[1],y,0,y.directiveStart,y.directiveEnd,a),t8(a,m)),m}(yt,this.componentDef,Le,[Xb]),pg(ae,Le,null)}finally{_o()}return new sh(this.componentType,Ye,Ra(rt,Le),Le,rt)}}class sh extends class GM{}{constructor(a,u,f,h,m){super(),this.location=f,this._rootLView=h,this._tNode=m,this.instance=u,this.hostView=this.changeDetectorRef=new Sg(h),this.componentType=a}setInput(a,u){const f=this._tNode.inputs;let h;if(null!==f&&(h=f[a])){const m=this._rootLView;A4(m[1],m,h,a,u),l1(m,this._tNode.index)}}get injector(){return new Ca(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function Xb(){const o=ai();ha(Ve()[1],o)}function lh(o){let a=function Ag(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),u=!0;const f=[o];for(;a;){let h;if(kr(o))h=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new De(903,!1);h=a.\u0275dir}if(h){if(u){f.push(h);const y=o;y.inputs=uh(o.inputs),y.declaredInputs=uh(o.declaredInputs),y.outputs=uh(o.outputs);const b=h.hostBindings;b&&s8(o,b);const S=h.viewQuery,E=h.contentQueries;if(S&&o6(o,S),E&&Dg(o,E),re(o.inputs,h.inputs),re(o.declaredInputs,h.declaredInputs),re(o.outputs,h.outputs),kr(h)&&h.data.animation){const T=o.data;T.animation=(T.animation||[]).concat(h.data.animation)}}const m=h.features;if(m)for(let y=0;y<m.length;y++){const b=m[y];b&&b.ngInherit&&b(o),b===lh&&(u=!1)}}a=Object.getPrototypeOf(a)}!function Jb(o){let a=0,u=null;for(let f=o.length-1;f>=0;f--){const h=o[f];h.hostVars=a+=h.hostVars,h.hostAttrs=ma(h.hostAttrs,u=ma(u,h.hostAttrs))}}(f)}function uh(o){return o===fi?{}:o===Vt?[]:o}function o6(o,a){const u=o.viewQuery;o.viewQuery=u?(f,h)=>{a(f,h),u(f,h)}:a}function Dg(o,a){const u=o.contentQueries;o.contentQueries=u?(f,h,m)=>{a(f,h,m),u(f,h,m)}:a}function s8(o,a){const u=o.hostBindings;o.hostBindings=u?(f,h)=>{a(f,h),u(f,h)}:a}let o8=null;function Wa(){if(!o8){const o=gt.Symbol;if(o&&o.iterator)o8=o.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<a.length;++u){const f=a[u];"entries"!==f&&"size"!==f&&Map.prototype[f]===Map.prototype.entries&&(o8=f)}}}return o8}function Ya(o){return!!a8(o)&&(Array.isArray(o)||!(o instanceof Map)&&Wa()in o)}function a8(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function d1(o,a,u){return o[a]=u}function Ka(o,a){return o[a]}function Cr(o,a,u){return!Object.is(o[a],u)&&(o[a]=u,!0)}function Za(o,a,u,f){const h=Cr(o,a,u);return Cr(o,a+1,f)||h}function c8(o,a,u,f){const h=Ve();return Cr(h,fa(),a)&&(Et(),Z1(li(),h,o,a,u,f)),c8}function L4(o,a,u,f){return Cr(o,fa(),u)?a+Me(u)+f:rn}function I4(o,a,u,f,h,m){const b=Za(o,function Ks(){return z.lFrame.bindingIndex}(),u,h);return X2(2),b?a+Me(u)+f+Me(h)+m:rn}function Rg(o,a,u,f,h,m,y,b){const S=Ve(),E=Et(),T=o+22,U=E.firstCreatePass?function rw(o,a,u,f,h,m,y,b,S){const E=a.consts,T=i6(a,o,4,y||null,ls(E,b));th(a,u,T,ls(E,S)),ha(a,T);const U=T.tViews=$a(2,T,f,h,m,a.directiveRegistry,a.pipeRegistry,null,a.schemas,E);return null!==a.queries&&(a.queries.template(a,T),U.queries=a.queries.embeddedTView(T)),T}(T,E,S,a,u,f,h,m,y):E.data[T];Fi(U,!1);const Z=S[11].createComment("");C4(E,S,Z,U),nn(Z,S),Se(S,S[T]=Wb(Z,S,Z,U)),q2(U)&&Yt(E,S,U),null!=y&&ct(S,U,b)}function c6(o){return Ws(function Ds(){return z.lFrame.contextLView}(),22+o)}function l8(o,a,u){const f=Ve();return Cr(f,fa(),a)&&mn(Et(),li(),f,o,a,f[11],u,!1),l8}function u8(o,a,u,f,h){const y=h?"class":"style";A4(o,u,a.inputs[y],y,f)}function d8(o,a,u,f){const h=Ve(),m=Et(),y=22+o,b=h[11],S=h[y]=Iu(b,a,function X3(){return z.lFrame.currentNamespace}()),E=m.firstCreatePass?function ph(o,a,u,f,h,m,y){const b=a.consts,E=i6(a,o,2,h,ls(b,m));return th(a,u,E,ls(b,y)),null!==E.attrs&&n8(E,E.attrs,!1),null!==E.mergedAttrs&&n8(E,E.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,E),E}(y,m,h,0,a,u,f):m.data[y];Fi(E,!0);const T=E.mergedAttrs;null!==T&&w2(b,S,T);const U=E.classes;null!==U&&T5(b,S,U);const Z=E.styles;return null!==Z&&yb(b,S,Z),64!=(64&E.flags)&&C4(m,h,S,E),0===function fe(){return z.lFrame.elementDepthCount}()&&nn(S,h),function je(){z.lFrame.elementDepthCount++}(),q2(E)&&(Yt(m,h,E),pi(m,E,h)),null!==f&&ct(h,E),d8}function f8(){let o=ai();ua()?Q2():(o=o.parent,Fi(o,!1));const a=o;!function Je(){z.lFrame.elementDepthCount--}();const u=Et();return u.firstCreatePass&&(ha(u,o),xs(o)&&u.queries.elementEnd(o)),null!=a.classesWithoutHost&&function jc(o){return 0!=(16&o.flags)}(a)&&u8(u,a,Ve(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function $c(o){return 0!=(32&o.flags)}(a)&&u8(u,a,Ve(),a.stylesWithoutHost,!1),f8}function mh(o,a,u,f){return d8(o,a,u,f),f8(),mh}function l6(o,a,u){const f=Ve(),h=Et(),m=o+22,y=h.firstCreatePass?function Pg(o,a,u,f,h){const m=a.consts,y=ls(m,f),b=i6(a,o,8,"ng-container",y);return null!==y&&n8(b,y,!0),th(a,u,b,ls(m,h)),null!==a.queries&&a.queries.elementStart(a,b),b}(m,h,f,a,u):h.data[m];Fi(y,!0);const b=f[m]=f[11].createComment("");return C4(h,f,b,y),nn(b,f),q2(y)&&(Yt(h,f,y),pi(h,y,f)),null!=u&&ct(f,y),l6}function u6(){let o=ai();const a=Et();return ua()?Q2():(o=o.parent,Fi(o,!1)),a.firstCreatePass&&(ha(a,o),xs(o)&&a.queries.elementEnd(o)),u6}function vh(){return Ve()}function Fg(o){return!!o&&"function"==typeof o.then}function Og(o){return!!o&&"function"==typeof o.subscribe}const ow=Og;function Bg(o,a,u,f){const h=Ve(),m=Et(),y=ai();return Ug(m,h,h[11],y,o,a,0,f),Bg}function d6(o,a){const u=ai(),f=Ve(),h=Et();return Ug(h,f,ur(W3(h.data),u,f),u,o,a),d6}function Ug(o,a,u,f,h,m,y,b){const S=q2(f),T=o.firstCreatePass&&xg(o),U=a[8],Z=wg(a);let ae=!0;if(3&f.type||b){const rt=vr(f,a),yt=b?b(rt):rt,zt=Z.length,Fe=b?Ln=>b(Jn(Ln[f.index])):f.index;let Bt=null;if(!b&&S&&(Bt=function QT(o,a,u,f){const h=o.cleanup;if(null!=h)for(let m=0;m<h.length-1;m+=2){const y=h[m];if(y===u&&h[m+1]===f){const b=a[7],S=h[m+2];return b.length>S?b[S]:null}"string"==typeof y&&(m+=2)}return null}(o,a,h,f.index)),null!==Bt)(Bt.__ngLastListenerFn__||Bt).__ngNextListenerFn__=m,Bt.__ngLastListenerFn__=m,ae=!1;else{m=Gg(f,a,U,m,!1);const Ln=u.listen(yt,h,m);Z.push(m,Ln),T&&T.push(h,Fe,zt,zt+1)}}else m=Gg(f,a,U,m,!1);const Le=f.outputs;let Ye;if(ae&&null!==Le&&(Ye=Le[h])){const rt=Ye.length;if(rt)for(let yt=0;yt<rt;yt+=2){const Kn=a[Ye[yt]][Ye[yt+1]].subscribe(m),R2=Z.length;Z.push(m,Kn),T&&T.push(h,f.index,R2,-(R2+1))}}}function _h(o,a,u,f){try{return!1!==u(f)}catch(h){return Hs(o,h),!1}}function Gg(o,a,u,f,h){return function m(y){if(y===Function)return f;Dr(2&o.flags?dn(o.index,a):a);let S=_h(a,0,f,y),E=m.__ngNextListenerFn__;for(;E;)S=_h(a,0,E,y)&&S,E=E.__ngNextListenerFn__;return h&&!1===S&&(y.preventDefault(),y.returnValue=!1),S}}function yh(o=1){return function D1(o){return(z.lFrame.contextLView=function Vf(o,a){for(;o>0;)a=a[15],o--;return a}(o,z.lFrame.contextLView))[8]}(o)}function Ch(o,a){let u=null;const f=function Um(o){const a=o.attrs;if(null!=a){const u=a.indexOf(5);if(0==(1&u))return a[u+1]}return null}(o);for(let h=0;h<a.length;h++){const m=a[h];if("*"!==m){if(null===f?Fu(o,m,!0):Ou(f,m))return h}else u=h}return u}function V4(o){const a=Ve()[16][6];if(!a.projection){const f=a.projection=Xr(o?o.length:1,null),h=f.slice();let m=a.child;for(;null!==m;){const y=o?Ch(m,o):0;null!==y&&(h[y]?h[y].projectionNext=m:f[y]=m,h[y]=m),m=m.next}}}function aw(o,a=0,u){const f=Ve(),h=Et(),m=i6(h,22+o,16,null,u||null);null===m.projection&&(m.projection=a),Q2(),64!=(64&m.flags)&&function DT(o,a,u){_b(a[11],0,a,u,A5(o,u,a),I5(u.parent||a[6],u,a))}(h,f,m)}function f6(o,a,u){return jg(o,"",a,"",u),f6}function jg(o,a,u,f,h){const m=Ve(),y=L4(m,a,u,f);return y!==rn&&mn(Et(),li(),m,o,y,m[11],h,!1),jg}function Mh(o,a,u,f,h,m,y){const b=Ve(),S=I4(b,a,u,f,h,m);return S!==rn&&mn(Et(),li(),b,o,S,b[11],y,!1),Mh}function fw(o,a,u,f,h){const m=o[u+1],y=null===a;let b=f?r2(m):c1(m),S=!1;for(;0!==b&&(!1===S||y);){const T=o[b+1];Ja(o[b],a)&&(S=!0,o[b+1]=f?Wu(T):j5(T)),b=f?r2(T):c1(T)}S&&(o[u+1]=f?j5(m):Wu(m))}function Ja(o,a){return null===o||null==a||(Array.isArray(o)?o[1]:o)===a||!(!Array.isArray(o)||"string"!=typeof a)&&fs(o,a)>=0}function Sh(o,a,u){return D2(o,a,u,!1),Sh}function v8(o,a){return D2(o,a,null,!0),v8}function D2(o,a,u,f){const h=Ve(),m=Et(),y=X2(2);m.firstUpdatePass&&function _8(o,a,u,f){const h=o.data;if(null===h[u+1]){const m=h[ci()],y=function L2(o,a){return a>=o.expandoStartIndex}(o,u);(function hn(o,a){return 0!=(o.flags&(a?16:32))})(m,f)&&null===a&&!y&&(a=!1),a=function Xg(o,a,u,f){const h=W3(o);let m=f?a.residualClasses:a.residualStyles;if(null===h)0===(f?a.classBindings:a.styleBindings)&&(u=a2(u=Ki(null,o,a,u,f),a.attrs,f),m=null);else{const y=a.directiveStylingLast;if(-1===y||o[y]!==h)if(u=Ki(h,o,a,u,f),null===m){let S=function vs(o,a,u){const f=u?a.classBindings:a.styleBindings;if(0!==c1(f))return o[r2(f)]}(o,a,f);void 0!==S&&Array.isArray(S)&&(S=Ki(null,o,a,S[1],f),S=a2(S,a.attrs,f),function Mr(o,a,u,f){o[r2(u?a.classBindings:a.styleBindings)]=f}(o,a,f,S))}else m=function ec(o,a,u){let f;const h=a.directiveEnd;for(let m=1+a.directiveStylingLast;m<h;m++)f=a2(f,o[m].hostAttrs,u);return a2(f,a.attrs,u)}(o,a,f)}return void 0!==m&&(f?a.residualClasses=m:a.residualStyles=m),u}(h,m,a,f),function XT(o,a,u,f,h,m){let y=m?a.classBindings:a.styleBindings,b=r2(y),S=c1(y);o[f]=u;let T,E=!1;if(Array.isArray(u)){const U=u;T=U[1],(null===T||fs(U,T)>0)&&(E=!0)}else T=u;if(h)if(0!==S){const Z=r2(o[b+1]);o[f+1]=G5(Z,b),0!==Z&&(o[Z+1]=e6(o[Z+1],f)),o[b+1]=function ig(o,a){return 131071&o|a<<17}(o[b+1],f)}else o[f+1]=G5(b,0),0!==b&&(o[b+1]=e6(o[b+1],f)),b=f;else o[f+1]=G5(S,0),0===b?b=f:o[S+1]=e6(o[S+1],f),S=f;E&&(o[f+1]=j5(o[f+1])),fw(o,T,f,!0),fw(o,T,f,!1),function JT(o,a,u,f,h){const m=h?o.residualClasses:o.residualStyles;null!=m&&"string"==typeof a&&fs(m,a)>=0&&(u[f+1]=Wu(u[f+1]))}(a,T,o,f,m),y=G5(b,S),m?a.classBindings=y:a.styleBindings=y}(h,m,a,u,y,f)}}(m,o,y,f),a!==rn&&Cr(h,y,a)&&function Ah(o,a,u,f,h,m,y,b){if(!(3&a.type))return;const S=o.data,E=S[b+1];p6(function rg(o){return 1==(1&o)}(E)?Jg(S,a,u,h,c1(E),y):void 0)||(p6(m)||function ng(o){return 2==(2&o)}(E)&&(m=Jg(S,null,u,h,b,y)),function IT(o,a,u,f,h){if(a)h?o.addClass(u,f):o.removeClass(u,f);else{let m=-1===f.indexOf("-")?void 0:a1.DashCase;null==h?o.removeStyle(u,f,m):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),m|=a1.Important),o.setStyle(u,f,h,m))}}(f,y,Z2(ci(),u),h,m))}(m,m.data[ci()],h,h[11],o,h[y+1]=function Dh(o,a){return null==o||("string"==typeof a?o+=a:"object"==typeof o&&(o=me(E2(o)))),o}(a,u),f,y)}function Ki(o,a,u,f,h){let m=null;const y=u.directiveEnd;let b=u.directiveStylingLast;for(-1===b?b=u.directiveStart:b++;b<y&&(m=a[b],f=a2(f,m.hostAttrs,h),m!==o);)b++;return null!==o&&(u.directiveStylingLast=b),f}function a2(o,a,u){const f=u?1:2;let h=-1;if(null!==a)for(let m=0;m<a.length;m++){const y=a[m];"number"==typeof y?h=y:h===f&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),ds(o,y,!!u||a[++m]))}return void 0===o?null:o}function Jg(o,a,u,f,h,m){const y=null===a;let b;for(;h>0;){const S=o[h],E=Array.isArray(S),T=E?S[1]:S,U=null===T;let Z=u[h+1];Z===rn&&(Z=U?Vt:void 0);let ae=U?e4(Z,f):T===f?Z:void 0;if(E&&!p6(ae)&&(ae=e4(S,f)),p6(ae)&&(b=ae,y))return b;const Le=o[h+1];h=y?r2(Le):c1(Le)}if(null!==a){let S=m?a.residualClasses:a.residualStyles;null!=S&&(b=e4(S,f))}return b}function p6(o){return void 0!==o}function H4(o,a=""){const u=Ve(),f=Et(),h=o+22,m=f.firstCreatePass?i6(f,h,1,a,null):f.data[h],y=u[h]=function Lu(o,a){return o.createText(a)}(u[11],a);C4(f,u,y,m),Fi(m,!1)}function Lh(o){return X1("",o,""),Lh}function X1(o,a,u){const f=Ve(),h=L4(f,o,a,u);return h!==rn&&function A2(o,a,u){const f=Z2(a,o);!function x5(o,a,u){o.setValue(a,u)}(o[11],f,u)}(f,ci(),h),X1}function k4(o,a,u){const f=Ve();return Cr(f,fa(),a)&&mn(Et(),li(),f,o,a,f[11],u,!0),k4}function b8(o,a,u){const f=Ve();if(Cr(f,fa(),a)){const m=Et(),y=li();mn(m,y,f,o,a,ur(W3(m.data),y,f),u,!0)}return b8}const Fo=void 0;var xw=["en",[["a","p"],["AM","PM"],Fo],[["AM","PM"],Fo,Fo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Fo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Fo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Fo,"{1} 'at' {0}",Fo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function ww(o){const u=Math.floor(Math.abs(o)),f=o.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===f?1:5}];let N4={};function Rh(o){const a=function w8(o){return o.toLowerCase().replace(/_/g,"-")}(o);let u=uv(a);if(u)return u;const f=a.split("-")[0];if(u=uv(f),u)return u;if("en"===f)return xw;throw new De(701,!1)}function lv(o){return Rh(o)[Pt.PluralCase]}function uv(o){return o in N4||(N4[o]=gt.ng&&gt.ng.common&&gt.ng.common.locales&&gt.ng.common.locales[o]),N4[o]}var Pt=(()=>((Pt=Pt||{})[Pt.LocaleId=0]="LocaleId",Pt[Pt.DayPeriodsFormat=1]="DayPeriodsFormat",Pt[Pt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Pt[Pt.DaysFormat=3]="DaysFormat",Pt[Pt.DaysStandalone=4]="DaysStandalone",Pt[Pt.MonthsFormat=5]="MonthsFormat",Pt[Pt.MonthsStandalone=6]="MonthsStandalone",Pt[Pt.Eras=7]="Eras",Pt[Pt.FirstDayOfWeek=8]="FirstDayOfWeek",Pt[Pt.WeekendRange=9]="WeekendRange",Pt[Pt.DateFormat=10]="DateFormat",Pt[Pt.TimeFormat=11]="TimeFormat",Pt[Pt.DateTimeFormat=12]="DateTimeFormat",Pt[Pt.NumberSymbols=13]="NumberSymbols",Pt[Pt.NumberFormats=14]="NumberFormats",Pt[Pt.CurrencyCode=15]="CurrencyCode",Pt[Pt.CurrencySymbol=16]="CurrencySymbol",Pt[Pt.CurrencyName=17]="CurrencyName",Pt[Pt.Currencies=18]="Currencies",Pt[Pt.Directionality=19]="Directionality",Pt[Pt.PluralCase=20]="PluralCase",Pt[Pt.ExtraData=21]="ExtraData",Pt))();const Oo="en-US";let R4=Oo;function V8(o,a,u,f,h){if(o=J(o),Array.isArray(o))for(let m=0;m<o.length;m++)V8(o[m],a,u,f,h);else{const m=Et(),y=Ve();let b=Eo(o)?o:J(o.provide),S=fm(o);const E=ai(),T=1048575&E.providerIndexes,U=E.directiveStart,Z=E.providerIndexes>>20;if(Eo(o)||!o.multi){const ae=new us(S,h,b4),Le=e7(b,a,h?T:T+Z,U);-1===Le?(va(T1(E,y),m,b),U4(m,o,a.length),a.push(b),E.directiveStart++,E.directiveEnd++,h&&(E.providerIndexes+=1048576),u.push(ae),y.push(ae)):(u[Le]=ae,y[Le]=ae)}else{const ae=e7(b,a,T+Z,U),Le=e7(b,a,T,T+Z),Ye=ae>=0&&u[ae],rt=Le>=0&&u[Le];if(h&&!rt||!h&&!Ye){va(T1(E,y),m,b);const yt=function $w(o,a,u,f,h){const m=new us(o,u,b4);return m.multi=[],m.index=a,m.componentProviders=0,Dv(m,h,f&&!u),m}(h?w6:G4,u.length,h,f,S);!h&&rt&&(u[Le].providerFactory=yt),U4(m,o,a.length,0),a.push(b),E.directiveStart++,E.directiveEnd++,h&&(E.providerIndexes+=1048576),u.push(yt),y.push(yt)}else U4(m,o,ae>-1?ae:Le,Dv(u[h?Le:ae],S,!h&&f));!h&&f&&rt&&u[Le].componentProviders++}}}function U4(o,a,u,f){const h=Eo(a),m=function PM(o){return!!o.useClass}(a);if(h||m){const S=(m?J(a.useClass):a).prototype.ngOnDestroy;if(S){const E=o.destroyHooks||(o.destroyHooks=[]);if(!h&&a.multi){const T=E.indexOf(u);-1===T?E.push(u,[f,S]):E[T+1].push(f,S)}else E.push(u,S)}}}function Dv(o,a,u){return u&&o.componentProviders++,o.multi.push(a)-1}function e7(o,a,u,f){for(let h=u;h<f;h++)if(a[h]===o)return h;return-1}function G4(o,a,u,f){return t7(this.multi,[])}function w6(o,a,u,f){const h=this.multi;let m;if(this.providerFactory){const y=this.providerFactory.componentProviders,b=x2(u,u[1],this.providerFactory.index,f);m=b.slice(0,y),t7(h,m);for(let S=y;S<b.length;S++)m.push(b[S])}else m=[],t7(h,m);return m}function t7(o,a){for(let u=0;u<o.length;u++)a.push((0,o[u])());return a}function j4(o,a=[]){return u=>{u.providersResolver=(f,h)=>function jw(o,a,u){const f=Et();if(f.firstCreatePass){const h=kr(o);V8(u,f.data,f.blueprint,h,!0),V8(a,f.data,f.blueprint,h,!1)}}(f,h?h(o):o,a)}}class h1{}class Lv{}function qw(o,a){return new Iv(o,a??null)}class Iv extends h1{constructor(a,u){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new rh(this);const f=Oe(a);this._bootstrapComponents=j1(f.bootstrap),this._r3Injector=R5(a,u,[{provide:h1,useValue:this},{provide:Fl,useValue:this.componentFactoryResolver}],me(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class n7 extends Lv{constructor(a){super(),this.moduleType=a}create(a){return new Iv(this.moduleType,a)}}class Ww extends h1{constructor(a,u,f){super(),this.componentFactoryResolver=new rh(this),this.instance=null;const h=new yu([...a,{provide:h1,useValue:this},{provide:Fl,useValue:this.componentFactoryResolver}],u||_u(),f,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function Tv(o,a,u=null){return new Ww(o,a,u).injector}let Yw=(()=>{class o{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u.id)){const f=cm(0,u.type),h=f.length>0?Tv([f],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u.id,h)}return this.cachedInjectors.get(u.id)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}}return o.\u0275prov=cn({token:o,providedIn:"environment",factory:()=>new o(Ai(Ao))}),o})();function H8(o){o.getStandaloneInjector=a=>a.get(Yw).getOrCreateStandaloneInjector(o)}function Rv(o,a,u){const f=Oi()+o,h=Ve();return h[f]===rn?d1(h,f,u?a.call(u):a()):Ka(h,f)}function Pv(o,a,u,f){return Uv(Ve(),Oi(),o,a,u,f)}function Fv(o,a,u,f,h){return Gv(Ve(),Oi(),o,a,u,f,h)}function s7(o,a,u,f,h,m,y,b){const S=Oi()+o,E=Ve(),T=function zs(o,a,u,f,h,m){const y=Za(o,a,u,f);return Za(o,a+2,h,m)||y}(E,S,u,f,h,m);return Cr(E,S+4,y)||T?d1(E,S+5,b?a.call(b,u,f,h,m,y):a(u,f,h,m,y)):Ka(E,S+5)}function q4(o,a){const u=o[a];return u===rn?void 0:u}function Uv(o,a,u,f,h,m){const y=a+u;return Cr(o,y,h)?d1(o,y+1,m?f.call(m,h):f(h)):q4(o,y+1)}function Gv(o,a,u,f,h,m,y){const b=a+u;return Za(o,b,h,m)?d1(o,b+2,y?f.call(y,h,m):f(h,m)):q4(o,b+2)}function S6(o,a){const u=Et();let f;const h=o+22;u.firstCreatePass?(f=function nx(o,a){if(a)for(let u=a.length-1;u>=0;u--){const f=a[u];if(o===f.name)return f}}(a,u.pipeRegistry),u.data[h]=f,f.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(h,f.onDestroy)):f=u.data[h];const m=f.factory||(f.factory=qi(f.type)),y=wn(b4);try{const b=qc(!1),S=m();return qc(b),function sw(o,a,u,f){u>=o.data.length&&(o.data[u]=null,o.blueprint[u]=null),a[u]=f}(u,Ve(),h,S),S}finally{wn(y)}}function Wv(o,a,u){const f=o+22,h=Ve(),m=Ws(h,f);return W4(h,f)?Uv(h,Oi(),a,m.transform,u,m):m.transform(u)}function Yv(o,a,u,f){const h=o+22,m=Ve(),y=Ws(m,h);return W4(m,h)?Gv(m,Oi(),a,y.transform,u,f,y):y.transform(u,f)}function W4(o,a){return o[1].data[a].pure}function P8(o){return a=>{setTimeout(o,void 0,a)}}const V2=class ox extends c.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,u,f){let h=a,m=u||(()=>null),y=f;if(a&&"object"==typeof a){const S=a;h=S.next?.bind(S),m=S.error?.bind(S),y=S.complete?.bind(S)}this.__isAsync&&(m=P8(m),h&&(h=P8(h)),y&&(y=P8(y)));const b=super.subscribe({next:h,error:m,complete:y});return a instanceof G.w0&&a.add(b),b}};function Kv(){return this._results[Wa()]()}class E6{constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=Wa(),f=E6.prototype;f[u]||(f[u]=Kv)}get changes(){return this._changes||(this._changes=new V2)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,u){return this._results.reduce(a,u)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,u){const f=this;f.dirty=!1;const h=hi(a);(this._changesDetected=!function xa(o,a,u){if(o.length!==a.length)return!1;for(let f=0;f<o.length;f++){let h=o[f],m=a[f];if(u&&(h=u(h),m=u(m)),m!==h)return!1}return!0}(f._results,h,u))&&(f._results=h,f.length=h.length,f.last=h[this.length-1],f.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Y4=(()=>{class o{}return o.__NG_ELEMENT_ID__=lx,o})();const ax=Y4,cx=class extends ax{constructor(a,u,f){super(),this._declarationLView=a,this._declarationTContainer=u,this.elementRef=f}createEmbeddedView(a,u){const f=this._declarationTContainer.tViews,h=X5(this._declarationLView,f,a,16,null,f.declTNode,null,null,null,null,u||null);h[17]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[19];return null!==y&&(h[19]=y.createEmbeddedView(f)),pg(f,h,a),new s6(h)}};function lx(){return F8(ai(),Ve())}function F8(o,a){return 4&o.type?new cx(a,o,Ra(o,a)):null}let O8=(()=>{class o{}return o.__NG_ELEMENT_ID__=ux,o})();function ux(){return dx(ai(),Ve())}const Zv=O8,B8=class extends Zv{constructor(a,u,f){super(),this._lContainer=a,this._hostTNode=u,this._hostLView=f}get element(){return Ra(this._hostTNode,this._hostLView)}get injector(){return new Ca(this._hostTNode,this._hostLView)}get parentInjector(){const a=ga(this._hostTNode,this._hostLView);if(Pf(a)){const u=J2(a,this._hostLView),f=I1(a);return new Ca(u[1].data[f+8],u)}return new Ca(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const u=o7(this._lContainer);return null!==u&&u[a]||null}get length(){return this._lContainer.length-10}createEmbeddedView(a,u,f){let h,m;"number"==typeof f?h=f:null!=f&&(h=f.index,m=f.injector);const y=a.createEmbeddedView(u||{},m);return this.insert(y,h),y}createComponent(a,u,f,h,m){const y=a&&!function wa(o){return"function"==typeof o}(a);let b;if(y)b=u;else{const U=u||{};b=U.index,f=U.injector,h=U.projectableNodes,m=U.environmentInjector||U.ngModuleRef}const S=y?a:new dr(D(a)),E=f||this.parentInjector;if(!m&&null==S.ngModule){const Z=(y?E:this.parentInjector).get(Ao,null);Z&&(m=Z)}const T=S.create(E,h,void 0,m);return this.insert(T.hostView,b),T}insert(a,u){const f=a._lView,h=f[1];if(function Fc(o){return cr(o[3])}(f)){const T=this.indexOf(a);if(-1!==T)this.detach(T);else{const U=f[3],Z=new B8(U,U[6],U[3]);Z.detach(Z.indexOf(a))}}const m=this._adjustIndex(u),y=this._lContainer;!function km(o,a,u,f){const h=10+f,m=u.length;f>0&&(u[h-1][4]=a),f<m-10?(a[4]=u[h],Sa(u,10+f,a)):(u.push(a),a[4]=null),a[3]=u;const y=a[17];null!==y&&u!==y&&function pb(o,a){const u=o[9];a[16]!==a[3][3][16]&&(o[2]=!0),null===u?o[9]=[a]:u.push(a)}(y,a);const b=a[19];null!==b&&b.insertView(o),a[2]|=64}(h,f,y,m);const b=ql(m,y),S=f[11],E=_r(S,y[7]);return null!==E&&function Vm(o,a,u,f,h,m){f[0]=h,f[6]=a,Nu(o,f,u,1,h,m)}(h,y[6],S,f,E,b),a.attachToViewContainerRef(),Sa(U8(y),m,a),a}move(a,u){return this.insert(a,u)}indexOf(a){const u=o7(this._lContainer);return null!==u?u.indexOf(a):-1}remove(a){const u=this._adjustIndex(a,-1),f=Vu(this._lContainer,u);f&&(Yn(U8(this._lContainer),u),Hu(f[1],f))}detach(a){const u=this._adjustIndex(a,-1),f=Vu(this._lContainer,u);return f&&null!=Yn(U8(this._lContainer),u)?new s6(f):null}_adjustIndex(a,u=0){return a??this.length+u}};function o7(o){return o[8]}function U8(o){return o[8]||(o[8]=[])}function dx(o,a){let u;const f=a[o.index];if(cr(f))u=f;else{let h;if(8&o.type)h=Jn(f);else{const m=a[11];h=m.createComment("");const y=vr(o,a);W1(m,_r(m,y),h,function Y1(o,a){return o.nextSibling(a)}(m,y),!1)}a[o.index]=u=Wb(f,a,h,o),Se(a,u)}return new B8(u,o,a)}class a7{constructor(a){this.queryList=a,this.matches=null}clone(){return new a7(this.queryList)}setDirty(){this.queryList.setDirty()}}class K4{constructor(a=[]){this.queries=a}createEmbeddedView(a){const u=a.queries;if(null!==u){const f=null!==a.contentQueries?a.contentQueries[0]:u.length,h=[];for(let m=0;m<f;m++){const y=u.getByIndex(m);h.push(this.queries[y.indexInDeclarationView].clone())}return new K4(h)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let u=0;u<this.queries.length;u++)null!==e_(a,u).matches&&this.queries[u].setDirty()}}class c7{constructor(a,u,f=null){this.predicate=a,this.flags=u,this.read=f}}class A6{constructor(a=[]){this.queries=a}elementStart(a,u){for(let f=0;f<this.queries.length;f++)this.queries[f].elementStart(a,u)}elementEnd(a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(a)}embeddedTView(a){let u=null;for(let f=0;f<this.length;f++){const h=null!==u?u.length:0,m=this.getByIndex(f).embeddedTView(a,h);m&&(m.indexInDeclarationView=f,null!==u?u.push(m):u=[m])}return null!==u?new A6(u):null}template(a,u){for(let f=0;f<this.queries.length;f++)this.queries[f].template(a,u)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class D6{constructor(a,u=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(a,u){this.isApplyingToNode(u)&&this.matchTNode(a,u)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,u){this.elementStart(a,u)}embeddedTView(a,u){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,u),new D6(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let f=a.parent;for(;null!==f&&8&f.type&&f.index!==u;)f=f.parent;return u===(null!==f?f.index:-1)}return this._appliesToNextNode}matchTNode(a,u){const f=this.metadata.predicate;if(Array.isArray(f))for(let h=0;h<f.length;h++){const m=f[h];this.matchTNodeWithReadOption(a,u,px(u,m)),this.matchTNodeWithReadOption(a,u,ya(u,a,m,!1,!1))}else f===Y4?4&u.type&&this.matchTNodeWithReadOption(a,u,-1):this.matchTNodeWithReadOption(a,u,ya(u,a,f,!1,!1))}matchTNodeWithReadOption(a,u,f){if(null!==f){const h=this.metadata.read;if(null!==h)if(h===Ol||h===O8||h===Y4&&4&u.type)this.addMatch(u.index,-2);else{const m=ya(u,a,h,!1,!1);null!==m&&this.addMatch(u.index,m)}else this.addMatch(u.index,f)}}addMatch(a,u){null===this.matches?this.matches=[a,u]:this.matches.push(a,u)}}function px(o,a){const u=o.localNames;if(null!==u)for(let f=0;f<u.length;f+=2)if(u[f]===a)return u[f+1];return null}function G8(o,a,u,f){return-1===u?function mx(o,a){return 11&o.type?Ra(o,a):4&o.type?F8(o,a):null}(a,o):-2===u?function gx(o,a,u){return u===Ol?Ra(a,o):u===Y4?F8(a,o):u===O8?dx(a,o):void 0}(o,a,f):x2(o,o[1],u,a)}function Qv(o,a,u,f){const h=a[19].queries[f];if(null===h.matches){const m=o.data,y=u.matches,b=[];for(let S=0;S<y.length;S+=2){const E=y[S];b.push(E<0?null:G8(a,m[E],y[S+1],u.metadata.read))}h.matches=b}return h.matches}function l7(o,a,u,f){const h=o.queries.getByIndex(u),m=h.matches;if(null!==m){const y=Qv(o,a,h,u);for(let b=0;b<m.length;b+=2){const S=m[b];if(S>0)f.push(y[b/2]);else{const E=m[b+1],T=a[-S];for(let U=10;U<T.length;U++){const Z=T[U];Z[17]===Z[3]&&l7(Z[1],Z,E,f)}if(null!==T[9]){const U=T[9];for(let Z=0;Z<U.length;Z++){const ae=U[Z];l7(ae[1],ae,E,f)}}}}}return f}function Xv(o){const a=Ve(),u=Et(),f=Y3();K3(f+1);const h=e_(u,f);if(o.dirty&&function q3(o){return 4==(4&o[2])}(a)===(2==(2&h.metadata.flags))){if(null===h.matches)o.reset([]);else{const m=h.crossesNgTemplate?l7(u,a,f,[]):Qv(u,a,h,f);o.reset(m,n2),o.notifyOnChanges()}return!0}return!1}function Jv(o,a,u){const f=Et();f.firstCreatePass&&(j8(f,new c7(o,a,u),-1),2==(2&a)&&(f.staticViewQueries=!0)),d7(f,Ve(),a)}function u7(o,a,u,f){const h=Et();if(h.firstCreatePass){const m=ai();j8(h,new c7(a,u,f),m.index),function f7(o,a){const u=o.contentQueries||(o.contentQueries=[]);a!==(u.length?u[u.length-1]:-1)&&u.push(o.queries.length-1,a)}(h,o),2==(2&u)&&(h.staticContentQueries=!0)}d7(h,Ve(),u)}function hr(){return function vx(o,a){return o[19].queries[a].queryList}(Ve(),Y3())}function d7(o,a,u){const f=new E6(4==(4&u));mg(o,a,f,f.destroy),null===a[19]&&(a[19]=new K4),a[19].queries.push(new a7(f))}function j8(o,a,u){null===o.queries&&(o.queries=new A6),o.queries.track(new D6(a,u))}function e_(o,a){return o.queries.getByIndex(a)}function J4(...o){}const f_=new $n("Application Initializer");let Uo=(()=>{class o{constructor(u){this.appInits=u,this.resolve=J4,this.reject=J4,this.initialized=!1,this.done=!1,this.donePromise=new Promise((f,h)=>{this.resolve=f,this.reject=h})}runInitializers(){if(this.initialized)return;const u=[],f=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const m=this.appInits[h]();if(Fg(m))u.push(m);else if(ow(m)){const y=new Promise((b,S)=>{m.subscribe({complete:b,error:S})});u.push(y)}}Promise.all(u).then(()=>{f()}).catch(h=>{this.reject(h)}),0===u.length&&f(),this.initialized=!0}}return o.\u0275fac=function(u){return new(u||o)(Ai(f_,8))},o.\u0275prov=cn({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const y7=new $n("AppId",{providedIn:"root",factory:function kx(){return`${C7()}${C7()}${C7()}`}});function C7(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const h_=new $n("Platform Initializer"),M7=new $n("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),p_=new $n("appBootstrapListener"),IV=new $n("AnimationModuleType");let b7=(()=>{class o{log(u){console.log(u)}warn(u){console.warn(u)}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=cn({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const W8=new $n("LocaleId",{providedIn:"root",factory:()=>cu(W8,it.Optional|it.SkipSelf)||function Nx(){return typeof $localize<"u"&&$localize.locale||Oo}()}),TV=new $n("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Rx{constructor(a,u){this.ngModuleFactory=a,this.componentFactories=u}}let Px=(()=>{class o{compileModuleSync(u){return new n7(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const f=this.compileModuleSync(u),m=j1(Oe(u).declarations).reduce((y,b)=>{const S=D(b);return S&&y.push(new dr(S)),y},[]);return new Rx(f,m)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=cn({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const Bx=(()=>Promise.resolve(0))();function Y8(o){typeof Zone>"u"?Bx.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class l2{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:f=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new V2(!1),this.onMicrotaskEmpty=new V2(!1),this.onStable=new V2(!1),this.onError=new V2(!1),typeof Zone>"u")throw new De(908,!1);Zone.assertZonePatched();const h=this;if(h._nesting=0,h._outer=h._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const m=Zone.AsyncStackTaggingZoneSpec;h._inner=h._inner.fork(new m("Angular"))}Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!f&&u,h.shouldCoalesceRunChangeDetection=f,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function K8(){let o=gt.requestAnimationFrame,a=gt.cancelAnimationFrame;if(typeof Zone<"u"&&o&&a){const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u);const f=a[Zone.__symbol__("OriginalDelegate")];f&&(a=f)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function Gx(o){const a=()=>{!function Ux(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(gt,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,w7(o),o.isCheckStableRunning=!0,Z8(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),w7(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,f,h,m,y,b)=>{try{return uc(o),u.invokeTask(h,m,y,b)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||o.shouldCoalesceRunChangeDetection)&&a(),jx(o)}},onInvoke:(u,f,h,m,y,b,S)=>{try{return uc(o),u.invoke(h,m,y,b,S)}finally{o.shouldCoalesceRunChangeDetection&&a(),jx(o)}},onHasTask:(u,f,h,m)=>{u.hasTask(h,m),f===h&&("microTask"==m.change?(o._hasPendingMicrotasks=m.microTask,w7(o),Z8(o)):"macroTask"==m.change&&(o.hasPendingMacrotasks=m.macroTask))},onHandleError:(u,f,h,m)=>(u.handleError(h,m),o.runOutsideAngular(()=>o.onError.emit(m)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!l2.isInAngularZone())throw new De(909,!1)}static assertNotInAngularZone(){if(l2.isInAngularZone())throw new De(909,!1)}run(a,u,f){return this._inner.run(a,u,f)}runTask(a,u,f,h){const m=this._inner,y=m.scheduleEventTask("NgZoneEvent: "+h,a,z6,J4,J4);try{return m.runTask(y,u,f)}finally{m.cancelTask(y)}}runGuarded(a,u,f){return this._inner.runGuarded(a,u,f)}runOutsideAngular(a){return this._outer.run(a)}}const z6={};function Z8(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function w7(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function uc(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function jx(o){o._nesting--,Z8(o)}class x7{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new V2,this.onMicrotaskEmpty=new V2,this.onStable=new V2,this.onError=new V2}run(a,u,f){return a.apply(u,f)}runGuarded(a,u,f){return a.apply(u,f)}runOutsideAngular(a){return a()}runTask(a,u,f,h){return a.apply(u,f)}}const v_=new $n(""),p1=new $n("");let e3,Dt=(()=>{class o{constructor(u,f,h){this._ngZone=u,this.registry=f,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,e3||(function Jt(o){e3=o}(h),h.addToWindow(f)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{l2.assertNotInAngularZone(),Y8(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Y8(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(f=>!f.updateCb||!f.updateCb(u)||(clearTimeout(f.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,f,h){let m=-1;f&&f>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==m),u(this._didWork,this.getPendingTasks())},f)),this._callbacks.push({doneCb:u,timeoutId:m,updateCb:h})}whenStable(u,f,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,f,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,f,h){return[]}}return o.\u0275fac=function(u){return new(u||o)(Ai(l2),Ai(Q8),Ai(p1))},o.\u0275prov=cn({token:o,factory:o.\u0275fac}),o})(),Q8=(()=>{class o{constructor(){this._applications=new Map}registerApplication(u,f){this._applications.set(u,f)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,f=!0){return e3?.findTestabilityInTree(this,u,f)??null}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=cn({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})(),z2=null;const t3=new $n("AllowMultipleToken"),S7=new $n("PlatformDestroyListeners");class Or{constructor(a,u){this.name=a,this.token=u}}function E7(o,a,u=[]){const f=`Platform: ${a}`,h=new $n(f);return(m=[])=>{let y=L7();if(!y||y.injector.get(t3,!1)){const b=[...u,...m,{provide:h,useValue:!0}];o?o(b):function X8(o){if(z2&&!z2.get(t3,!1))throw new De(400,!1);z2=o;const a=o.get(k6);(function eo(o){const a=o.get(h_,null);a&&a.forEach(u=>u())})(o)}(function D7(o=[],a){return Ga.create({name:a,providers:[{provide:dm,useValue:"platform"},{provide:S7,useValue:new Set([()=>z2=null])},...o]})}(b,f))}return function A7(o){const a=L7();if(!a)throw new De(401,!1);return a}()}}function L7(){return z2?.get(k6)??null}let k6=(()=>{class o{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,f){const h=function J8(o,a){let u;return u="noop"===o?new x7:("zone.js"===o?void 0:o)||new l2(a),u}(f?.ngZone,function I7(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!o||!o.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!o||!o.ngZoneRunCoalescing)||!1}}(f)),m=[{provide:l2,useValue:h}];return h.run(()=>{const y=Ga.create({providers:m,parent:this.injector,name:u.moduleType.name}),b=u.create(y),S=b.injector.get(Gl,null);if(!S)throw new De(402,!1);return h.runOutsideAngular(()=>{const E=h.onError.subscribe({next:T=>{S.handleError(T)}});b.onDestroy(()=>{ed(this._modules,b),E.unsubscribe()})}),function N6(o,a,u){try{const f=u();return Fg(f)?f.catch(h=>{throw a.runOutsideAngular(()=>o.handleError(h)),h}):f}catch(f){throw a.runOutsideAngular(()=>o.handleError(f)),f}}(S,h,()=>{const E=b.injector.get(Uo);return E.runInitializers(),E.donePromise.then(()=>(function rc(o){Ft(o,"Expected localeId to be defined"),"string"==typeof o&&(R4=o.toLowerCase().replace(/_/g,"-"))}(b.injector.get(W8,Oo)||Oo),this._moduleDoBootstrap(b),b))})})}bootstrapModule(u,f=[]){const h=N2({},f);return function $x(o,a,u){const f=new n7(u);return Promise.resolve(f)}(0,0,u).then(m=>this.bootstrapModuleFactory(m,h))}_moduleDoBootstrap(u){const f=u.injector.get(n3);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(h=>f.bootstrap(h));else{if(!u.instance.ngDoBootstrap)throw new De(403,!1);u.instance.ngDoBootstrap(f)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new De(404,!1);this._modules.slice().forEach(f=>f.destroy()),this._destroyListeners.forEach(f=>f());const u=this._injector.get(S7,null);u&&(u.forEach(f=>f()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(u){return new(u||o)(Ai(Ga))},o.\u0275prov=cn({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();function N2(o,a){return Array.isArray(a)?a.reduce(N2,o):{...o,...a}}let n3=(()=>{class o{constructor(u,f,h){this._zone=u,this._injector=f,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const m=new P.y(b=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{b.next(this._stable),b.complete()})}),y=new P.y(b=>{let S;this._zone.runOutsideAngular(()=>{S=this._zone.onStable.subscribe(()=>{l2.assertNotInAngularZone(),Y8(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,b.next(!0))})})});const E=this._zone.onUnstable.subscribe(()=>{l2.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{b.next(!1)}))});return()=>{S.unsubscribe(),E.unsubscribe()}});this.isStable=(0,se.T)(m,y.pipe((0,ge.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(u,f){const h=u instanceof d5;if(!this._injector.get(Uo).done)throw!h&&ue(u),new De(405,false);let y;y=h?u:this._injector.get(Fl).resolveComponentFactory(u),this.componentTypes.push(y.componentType);const b=function qx(o){return o.isBoundToModule}(y)?void 0:this._injector.get(h1),E=y.create(Ga.NULL,[],f||y.selector,b),T=E.location.nativeElement,U=E.injector.get(v_,null);return U?.registerApplication(T),E.onDestroy(()=>{this.detachView(E.hostView),ed(this.components,E),U?.unregisterApplication(T)}),this._loadComponent(E),E}tick(){if(this._runningTick)throw new De(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const f=u;this._views.push(f),f.attachToAppRef(this)}detachView(u){const f=u;ed(this._views,f),f.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(p_,[]).concat(this._bootstrapListeners).forEach(h=>h(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>ed(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new De(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return o.\u0275fac=function(u){return new(u||o)(Ai(l2),Ai(Ao),Ai(Gl))},o.\u0275prov=cn({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function ed(o,a){const u=o.indexOf(a);u>-1&&o.splice(u,1)}let T7=!0,td=!1;function y_(){return td=!0,T7}function Wx(){if(td)throw new Error("Cannot enable prod mode after platform setup.");T7=!1}let H7=(()=>{class o{}return o.__NG_ELEMENT_ID__=z7,o})();function z7(o){return function Kx(o,a,u){if(g2(o)&&!u){const f=dn(o.index,a);return new s6(f,f)}return 47&o.type?new s6(a[16],a):null}(ai(),Ve(),16==(16&o))}class N7{constructor(){}supports(a){return Ya(a)}create(a){return new R7(a)}}const b_=(o,a)=>a;class R7{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||b_}forEachItem(a){let u;for(u=this._itHead;null!==u;u=u._next)a(u)}forEachOperation(a){let u=this._itHead,f=this._removalsHead,h=0,m=null;for(;u||f;){const y=!f||u&&u.currentIndex<cd(f,h,m)?u:f,b=cd(y,h,m),S=y.currentIndex;if(y===f)h--,f=f._nextRemoved;else if(u=u._next,null==y.previousIndex)h++;else{m||(m=[]);const E=b-h,T=S-h;if(E!=T){for(let Z=0;Z<E;Z++){const ae=Z<m.length?m[Z]:m[Z]=0,Le=ae+Z;T<=Le&&Le<E&&(m[Z]=ae+1)}m[y.previousIndex]=T-E}}b!==S&&a(y,b,S)}}forEachPreviousItem(a){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)a(u)}forEachAddedItem(a){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)a(u)}forEachMovedItem(a){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)a(u)}forEachRemovedItem(a){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)a(u)}forEachIdentityChange(a){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)a(u)}diff(a){if(null==a&&(a=[]),!Ya(a))throw new De(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let h,m,y,u=this._itHead,f=!1;if(Array.isArray(a)){this.length=a.length;for(let b=0;b<this.length;b++)m=a[b],y=this._trackByFn(b,m),null!==u&&Object.is(u.trackById,y)?(f&&(u=this._verifyReinsertion(u,m,y,b)),Object.is(u.item,m)||this._addIdentityChange(u,m)):(u=this._mismatch(u,m,y,b),f=!0),u=u._next}else h=0,function dh(o,a){if(Array.isArray(o))for(let u=0;u<o.length;u++)a(o[u]);else{const u=o[Wa()]();let f;for(;!(f=u.next()).done;)a(f.value)}}(a,b=>{y=this._trackByFn(h,b),null!==u&&Object.is(u.trackById,y)?(f&&(u=this._verifyReinsertion(u,b,y,h)),Object.is(u.item,b)||this._addIdentityChange(u,b)):(u=this._mismatch(u,b,y,h),f=!0),u=u._next,h++}),this.length=h;return this._truncate(u),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,u,f,h){let m;return null===a?m=this._itTail:(m=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null))?(Object.is(a.item,u)||this._addIdentityChange(a,u),this._reinsertAfter(a,m,h)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(f,h))?(Object.is(a.item,u)||this._addIdentityChange(a,u),this._moveAfter(a,m,h)):a=this._addAfter(new w_(u,f),m,h),a}_verifyReinsertion(a,u,f,h){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null);return null!==m?a=this._reinsertAfter(m,a._prev,h):a.currentIndex!=h&&(a.currentIndex=h,this._addToMoves(a,h)),a}_truncate(a){for(;null!==a;){const u=a._next;this._addToRemovals(this._unlink(a)),a=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,u,f){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const h=a._prevRemoved,m=a._nextRemoved;return null===h?this._removalsHead=m:h._nextRemoved=m,null===m?this._removalsTail=h:m._prevRemoved=h,this._insertAfter(a,u,f),this._addToMoves(a,f),a}_moveAfter(a,u,f){return this._unlink(a),this._insertAfter(a,u,f),this._addToMoves(a,f),a}_addAfter(a,u,f){return this._insertAfter(a,u,f),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,u,f){const h=null===u?this._itHead:u._next;return a._next=h,a._prev=u,null===h?this._itTail=a:h._prev=a,null===u?this._itHead=a:u._next=a,null===this._linkedRecords&&(this._linkedRecords=new ad),this._linkedRecords.put(a),a.currentIndex=f,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const u=a._prev,f=a._next;return null===u?this._itHead=f:u._next=f,null===f?this._itTail=u:f._prev=u,a}_addToMoves(a,u){return a.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ad),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,u){return a.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class w_{constructor(a,u){this.item=a,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class nS{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,u){let f;for(f=this._head;null!==f;f=f._nextDup)if((null===u||u<=f.currentIndex)&&Object.is(f.trackById,a))return f;return null}remove(a){const u=a._prevDup,f=a._nextDup;return null===u?this._head=f:u._nextDup=f,null===f?this._tail=u:f._prevDup=u,null===this._head}}class ad{constructor(){this.map=new Map}put(a){const u=a.trackById;let f=this.map.get(u);f||(f=new nS,this.map.set(u,f)),f.add(a)}get(a,u){const h=this.map.get(a);return h?h.get(a,u):null}remove(a){const u=a.trackById;return this.map.get(u).remove(a)&&this.map.delete(u),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function cd(o,a,u){const f=o.previousIndex;if(null===f)return f;let h=0;return u&&f<u.length&&(h=u[f]),f+a+h}class ld{constructor(){}supports(a){return a instanceof Map||a8(a)}create(){return new wr}}class wr{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let u;for(u=this._mapHead;null!==u;u=u._next)a(u)}forEachPreviousItem(a){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)a(u)}forEachChangedItem(a){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)a(u)}forEachAddedItem(a){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)a(u)}forEachRemovedItem(a){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)a(u)}diff(a){if(a){if(!(a instanceof Map||a8(a)))throw new De(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(a,(f,h)=>{if(u&&u.key===h)this._maybeAddToChanges(u,f),this._appendAfter=u,u=u._next;else{const m=this._getOrCreateRecordForKey(h,f);u=this._insertBeforeOrAppend(u,m)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let f=u;null!==f;f=f._nextRemoved)f===this._mapHead&&(this._mapHead=null),this._records.delete(f.key),f._nextRemoved=f._next,f.previousValue=f.currentValue,f.currentValue=null,f._prev=null,f._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,u){if(a){const f=a._prev;return u._next=a,u._prev=f,a._prev=u,f&&(f._next=u),a===this._mapHead&&(this._mapHead=u),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(a,u){if(this._records.has(a)){const h=this._records.get(a);this._maybeAddToChanges(h,u);const m=h._prev,y=h._next;return m&&(m._next=y),y&&(y._prev=m),h._next=null,h._prev=null,h}const f=new Ir(a);return this._records.set(a,f),f.currentValue=u,this._addToAdditions(f),f}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,u){Object.is(u,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=u,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,u){a instanceof Map?a.forEach(u):Object.keys(a).forEach(f=>u(a[f],f))}}class Ir{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function O6(){return new B6([new N7])}let B6=(()=>{class o{constructor(u){this.factories=u}static create(u,f){if(null!=f){const h=f.factories.slice();u=u.concat(h)}return new o(u)}static extend(u){return{provide:o,useFactory:f=>o.create(u,f||O6()),deps:[[o,new P1,new R1]]}}find(u){const f=this.factories.find(h=>h.supports(u));if(null!=f)return f;throw new De(901,!1)}}return o.\u0275prov=cn({token:o,providedIn:"root",factory:O6}),o})();function x_(){return new ud([new ld])}let ud=(()=>{class o{constructor(u){this.factories=u}static create(u,f){if(f){const h=f.factories.slice();u=u.concat(h)}return new o(u)}static extend(u){return{provide:o,useFactory:f=>o.create(u,f||x_()),deps:[[o,new P1,new R1]]}}find(u){const f=this.factories.find(h=>h.supports(u));if(f)return f;throw new De(901,!1)}}return o.\u0275prov=cn({token:o,providedIn:"root",factory:x_}),o})();const oS=E7(null,"core",[]);let P7=(()=>{class o{constructor(u){}}return o.\u0275fac=function(u){return new(u||o)(Ai(n3))},o.\u0275mod=Qt({type:o}),o.\u0275inj=At({}),o})();function E_(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}},579:(pt,He,R)=>{R.d(He,{EI:()=>Ie,Gb:()=>yi,Iv:()=>zn,Kz:()=>wt,Xd:()=>Qn,lT:()=>Xn,xP:()=>nt});var c=R(5861),G=R(9681),P=R(1877),se=R(2090),ge=R(4859);R(2833);const re="analytics",me="firebase_id",Y="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",J="https://www.googletagmanager.com/gtag/js",Re=new P.Yd("@firebase/analytics");function Ae(N){return Promise.all(N.map(V=>V.catch(D=>D)))}function De(N,V){const D=document.createElement("script");D.src=`${J}?l=${N}&id=${V}`,D.async=!0,document.head.appendChild(D)}function Me(N,V,D,H,q,ue){return de.apply(this,arguments)}function de(){return(de=(0,c.Z)(function*(N,V,D,H,q,ue){const Oe=H[q];try{if(Oe)yield V[Oe];else{const ve=(yield Ae(D)).find(Te=>Te.measurementId===q);ve&&(yield V[ve.appId])}}catch(We){Re.error(We)}N("config",q,ue)})).apply(this,arguments)}function lt(N,V,D,H,q){return et.apply(this,arguments)}function et(){return(et=(0,c.Z)(function*(N,V,D,H,q){try{let ue=[];if(q&&q.send_to){let Oe=q.send_to;Array.isArray(Oe)||(Oe=[Oe]);const We=yield Ae(D);for(const ve of Oe){const Te=We.find(tn=>tn.measurementId===ve),ft=Te&&V[Te.appId];if(!ft){ue=[];break}ue.push(ft)}}0===ue.length&&(ue=Object.values(V)),yield Promise.all(ue),N("event",H,q||{})}catch(ue){Re.error(ue)}})).apply(this,arguments)}function Ee(N){const V=window.document.getElementsByTagName("script");for(const D of Object.values(V))if(D.src&&D.src.includes(J)&&D.src.includes(N))return D;return null}const ie=new se.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),te=new class ee{constructor(V={},D=1e3){this.throttleMetadata=V,this.intervalMillis=D}getThrottleMetadata(V){return this.throttleMetadata[V]}setThrottleMetadata(V,D){this.throttleMetadata[V]=D}deleteThrottleMetadata(V){delete this.throttleMetadata[V]}};function he(N){return new Headers({Accept:"application/json","x-goog-api-key":N})}function ce(N){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,c.Z)(function*(N){var V;const{appId:D,apiKey:H}=N,q={method:"GET",headers:he(H)},ue=Y.replace("{app-id}",D),Oe=yield fetch(ue,q);if(200!==Oe.status&&304!==Oe.status){let We="";try{const ve=yield Oe.json();null!==(V=ve.error)&&void 0!==V&&V.message&&(We=ve.error.message)}catch{}throw ie.create("config-fetch-failed",{httpStatus:Oe.status,responseMessage:We})}return Oe.json()})).apply(this,arguments)}function Be(N){return _t.apply(this,arguments)}function _t(){return(_t=(0,c.Z)(function*(N,V=te,D){const{appId:H,apiKey:q,measurementId:ue}=N.options;if(!H)throw ie.create("no-app-id");if(!q){if(ue)return{measurementId:ue,appId:H};throw ie.create("no-api-key")}const Oe=V.getThrottleMetadata(H)||{backoffCount:0,throttleEndTimeMillis:Date.now()},We=new Gn;return setTimeout((0,c.Z)(function*(){We.abort()}),void 0!==D?D:6e4),an({appId:H,apiKey:q,measurementId:ue},Oe,We,V)})).apply(this,arguments)}function an(N,V,D){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,c.Z)(function*(N,{throttleEndTimeMillis:V,backoffCount:D},H,q=te){var ue,Oe;const{appId:We,measurementId:ve}=N;try{yield Qe(H,V)}catch(Te){if(ve)return Re.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ve} provided in the "measurementId" field in the local Firebase config. [${null===(ue=Te)||void 0===ue?void 0:ue.message}]`),{appId:We,measurementId:ve};throw Te}try{const Te=yield ce(N);return q.deleteThrottleMetadata(We),Te}catch(Te){const ft=Te;if(!Cn(ft)){if(q.deleteThrottleMetadata(We),ve)return Re.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ve} provided in the "measurementId" field in the local Firebase config. [${ft?.message}]`),{appId:We,measurementId:ve};throw Te}const tn=503===Number(null===(Oe=ft?.customData)||void 0===Oe?void 0:Oe.httpStatus)?(0,se.$s)(D,q.intervalMillis,30):(0,se.$s)(D,q.intervalMillis),Ht={throttleEndTimeMillis:Date.now()+tn,backoffCount:D+1};return q.setThrottleMetadata(We,Ht),Re.debug(`Calling attemptFetch again in ${tn} millis`),an(N,Ht,H,q)}})).apply(this,arguments)}function Qe(N,V){return new Promise((D,H)=>{const q=Math.max(V-Date.now(),0),ue=setTimeout(D,q);N.addEventListener(()=>{clearTimeout(ue),H(ie.create("fetch-throttle",{throttleEndTimeMillis:V}))})})}function Cn(N){if(!(N instanceof se.ZR&&N.customData))return!1;const V=Number(N.customData.httpStatus);return 429===V||500===V||503===V||504===V}class Gn{constructor(){this.listeners=[]}addEventListener(V){this.listeners.push(V)}abort(){this.listeners.forEach(V=>V())}}let gn,Wn;function Gt(){return(Gt=(0,c.Z)(function*(N,V,D,H,q){if(q&&q.global)N("event",D,H);else{const ue=yield V;N("event",D,Object.assign(Object.assign({},H),{send_to:ue}))}})).apply(this,arguments)}function In(){return(In=(0,c.Z)(function*(N,V,D,H){if(H&&H.global)return N("set",{screen_name:D}),Promise.resolve();N("config",yield V,{update:!0,screen_name:D})})).apply(this,arguments)}function gr(){return(gr=(0,c.Z)(function*(N,V,D,H){if(H&&H.global)return N("set",{user_id:D}),Promise.resolve();N("config",yield V,{update:!0,user_id:D})})).apply(this,arguments)}function ri(){return(ri=(0,c.Z)(function*(N,V,D,H){if(H&&H.global){const q={};for(const ue of Object.keys(D))q[`user_properties.${ue}`]=D[ue];return N("set",q),Promise.resolve()}N("config",yield V,{update:!0,user_properties:D})})).apply(this,arguments)}function Zn(){return(Zn=(0,c.Z)(function*(N,V){const D=yield N;window[`ga-disable-${D}`]=!V})).apply(this,arguments)}function Ei(N){Wn=N}function sr(N){gn=N}function it(){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,c.Z)(function*(){var N;if(!(0,se.hl)())return Re.warn(ie.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,se.eu)()}catch(V){return Re.warn(ie.create("indexeddb-unavailable",{errorInfo:null===(N=V)||void 0===N?void 0:N.toString()}).message),!1}return!0})).apply(this,arguments)}function wn(){return(wn=(0,c.Z)(function*(N,V,D,H,q,ue,Oe){var We;const ve=Be(N);ve.then(qt=>{D[qt.measurementId]=qt.appId,N.options.measurementId&&qt.measurementId!==N.options.measurementId&&Re.warn(`The measurement ID in the local Firebase config (${N.options.measurementId}) does not match the measurement ID fetched from the server (${qt.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(qt=>Re.error(qt)),V.push(ve);const Te=it().then(qt=>{if(qt)return H.getId()}),[ft,tn]=yield Promise.all([ve,Te]);Ee(ue)||De(ue,ft.measurementId),Wn&&(q("consent","default",Wn),Ei(void 0)),q("js",new Date);const Ht=null!==(We=Oe?.config)&&void 0!==We?We:{};return Ht.origin="firebase",Ht.update=!0,null!=tn&&(Ht[me]=tn),q("config",ft.measurementId,Ht),gn&&(q("set",gn),sr(void 0)),ft.measurementId})).apply(this,arguments)}class di{constructor(V){this.app=V}_delete(){return delete Ri[this.app.options.appId],Promise.resolve()}}let Ri={},En=[];const Tn={};let ht,gt,un="dataLayer",mt="gtag",Dn=!1;function Qn(N){if(Dn)throw ie.create("already-initialized");N.dataLayerName&&(un=N.dataLayerName),N.gtagName&&(mt=N.gtagName)}function Vt(N,V,D){!function fi(){const N=[];if((0,se.ru)()&&N.push("This is a browser extension environment."),(0,se.zI)()||N.push("Cookies are not available."),N.length>0){const V=N.map((H,q)=>`(${q+1}) ${H}`).join(" "),D=ie.create("invalid-analytics-context",{errorInfo:V});Re.warn(D.message)}}();const H=N.options.appId;if(!H)throw ie.create("no-app-id");if(!N.options.apiKey){if(!N.options.measurementId)throw ie.create("no-api-key");Re.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${N.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ri[H])throw ie.create("already-exists",{id:H});if(!Dn){!function tt(N){let V=[];Array.isArray(window[N])?V=window[N]:window[N]=V}(un);const{wrappedGtag:ue,gtagCore:Oe}=function Ne(N,V,D,H,q){let ue=function(...Oe){window[H].push(arguments)};return window[q]&&"function"==typeof window[q]&&(ue=window[q]),window[q]=function Pe(N,V,D,H){function ue(){return(ue=(0,c.Z)(function*(Oe,We,ve){try{"event"===Oe?yield lt(N,V,D,We,ve):"config"===Oe?yield Me(N,V,D,H,We,ve):"consent"===Oe?N("consent","update",ve):N("set",We)}catch(Te){Re.error(Te)}})).apply(this,arguments)}return function q(Oe,We,ve){return ue.apply(this,arguments)}}(ue,N,V,D),{gtagCore:ue,wrappedGtag:window[q]}}(Ri,En,Tn,un,mt);gt=ue,ht=Oe,Dn=!0}return Ri[H]=function jn(N,V,D,H,q,ue,Oe){return wn.apply(this,arguments)}(N,En,Tn,V,ht,un,D),new di(N)}function yi(){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,c.Z)(function*(){if((0,se.ru)()||!(0,se.zI)()||!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch{return!1}})).apply(this,arguments)}function Xn(N,V,D){N=(0,se.m9)(N),function At(N,V,D,H){return In.apply(this,arguments)}(gt,Ri[N.app.options.appId],V,D).catch(H=>Re.error(H))}function zn(N,V,D){N=(0,se.m9)(N),function rr(N,V,D,H){return gr.apply(this,arguments)}(gt,Ri[N.app.options.appId],V,D).catch(H=>Re.error(H))}function nt(N,V,D){N=(0,se.m9)(N),function On(N,V,D,H){return ri.apply(this,arguments)}(gt,Ri[N.app.options.appId],V,D).catch(H=>Re.error(H))}function Ie(N,V){N=(0,se.m9)(N),function $i(N,V){return Zn.apply(this,arguments)}(Ri[N.app.options.appId],V).catch(D=>Re.error(D))}function wt(N,V,D,H){N=(0,se.m9)(N),function cn(N,V,D,H,q){return Gt.apply(this,arguments)}(gt,Ri[N.app.options.appId],V,D,H).catch(q=>Re.error(q))}const Qt="@firebase/analytics",W="0.8.4";!function $(){(0,G._registerComponent)(new ge.wA(re,(V,{options:D})=>Vt(V.getProvider("app").getImmediate(),V.getProvider("installations-internal").getImmediate(),D),"PUBLIC")),(0,G._registerComponent)(new ge.wA("analytics-internal",function N(V){try{const D=V.getProvider(re).getImmediate();return{logEvent:(H,q,ue)=>wt(D,H,q,ue)}}catch(D){throw ie.create("interop-component-reg-failed",{reason:D})}},"PRIVATE")),(0,G.registerVersion)(Qt,W),(0,G.registerVersion)(Qt,W,"esm2017")}()},3942:(pt,He,R)=>{R.d(He,{Z:()=>De});var c=R(2090),G=R(4859),P=R(9681),se=R(1877);class ge{constructor(Me,de){this._delegate=Me,this.firebase=de,(0,P._addComponent)(Me,new G.wA("app-compat",()=>this,"PUBLIC")),this.container=Me.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Me){this._delegate.automaticDataCollectionEnabled=Me}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Me=>{this._delegate.checkDestroyed(),Me()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,P.deleteApp)(this._delegate)))}_getService(Me,de=P._DEFAULT_ENTRY_NAME){var lt;this._delegate.checkDestroyed();const et=this._delegate.container.getProvider(Me);return!et.isInitialized()&&"EXPLICIT"===(null===(lt=et.getComponent())||void 0===lt?void 0:lt.instantiationMode)&&et.initialize(),et.getImmediate({identifier:de})}_removeServiceInstance(Me,de=P._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Me).clearInstance(de)}_addComponent(Me){(0,P._addComponent)(this._delegate,Me)}_addOrOverwriteComponent(Me){(0,P._addOrOverwriteComponent)(this._delegate,Me)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const re=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),K=function _e(){const tt=function me(tt){const Me={},de={__esModule:!0,initializeApp:function Pe(ie,le={}){const be=P.initializeApp(ie,le);if((0,c.r3)(Me,be.name))return Me[be.name];const ee=new tt(be,de);return Me[be.name]=ee,ee},app:et,registerVersion:P.registerVersion,setLogLevel:P.setLogLevel,onLog:P.onLog,apps:null,SDK_VERSION:P.SDK_VERSION,INTERNAL:{registerComponent:function Ee(ie){const le=ie.name,be=le.replace("-compat","");if(P._registerComponent(ie)&&"PUBLIC"===ie.type){const ee=(te=et())=>{if("function"!=typeof te[be])throw re.create("invalid-app-argument",{appName:le});return te[be]()};void 0!==ie.serviceProps&&(0,c.ZB)(ee,ie.serviceProps),de[be]=ee,tt.prototype[be]=function(...te){return this._getService.bind(this,le).apply(this,ie.multipleInstances?te:[])}}return"PUBLIC"===ie.type?de[be]:null},removeApp:function lt(ie){delete Me[ie]},useAsService:function Xe(ie,le){return"serverAuth"===le?null:le},modularAPIs:P}};function et(ie){if(!(0,c.r3)(Me,ie=ie||P._DEFAULT_ENTRY_NAME))throw re.create("no-app",{appName:ie});return Me[ie]}return de.default=de,Object.defineProperty(de,"apps",{get:function Ne(){return Object.keys(Me).map(ie=>Me[ie])}}),et.App=tt,de}(ge);return tt.INTERNAL=Object.assign(Object.assign({},tt.INTERNAL),{createFirebaseNamespace:_e,extendNamespace:function Me(de){(0,c.ZB)(tt,de)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),tt}(),Y=new se.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){Y.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const tt=self.firebase.SDK_VERSION;tt&&tt.indexOf("LITE")>=0&&Y.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const De=K;!function Ae(tt){(0,P.registerVersion)("@firebase/app-compat","0.1.38",tt)}()},9681:(pt,He,R)=>{R.r(He),R.d(He,{FirebaseError:()=>se.ZR,SDK_VERSION:()=>$i,_DEFAULT_ENTRY_NAME:()=>Ft,_addComponent:()=>gn,_addOrOverwriteComponent:()=>cn,_apps:()=>Cn,_clearComponents:()=>rr,_components:()=>Gn,_getProvider:()=>At,_registerComponent:()=>Gt,_removeServiceInstance:()=>In,deleteApp:()=>sr,getApp:()=>Wn,getApps:()=>Ei,initializeApp:()=>Zn,onLog:()=>jn,registerVersion:()=>Sn,setLogLevel:()=>wn});var c=R(5861),G=R(4859),P=R(1877),se=R(2090),ge=R(8766);class ye{constructor(Ie){this.container=Ie}getPlatformInfoString(){return this.container.getProviders().map(st=>{if(function re(nt){return"VERSION"===nt.getComponent()?.type}(st)){const wt=st.getImmediate();return`${wt.library}/${wt.version}`}return null}).filter(st=>st).join(" ")}}const me="@firebase/app",K=new P.Yd("@firebase/app"),Ft="[DEFAULT]",Qe={[me]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Cn=new Map,Gn=new Map;function gn(nt,Ie){try{nt.container.addComponent(Ie)}catch(st){K.debug(`Component ${Ie.name} failed to register with FirebaseApp ${nt.name}`,st)}}function cn(nt,Ie){nt.container.addOrOverwriteComponent(Ie)}function Gt(nt){const Ie=nt.name;if(Gn.has(Ie))return K.debug(`There were multiple attempts to register component ${Ie}.`),!1;Gn.set(Ie,nt);for(const st of Cn.values())gn(st,nt);return!0}function At(nt,Ie){const st=nt.container.getProvider("heartbeat").getImmediate({optional:!0});return st&&st.triggerHeartbeat(),nt.container.getProvider(Ie)}function In(nt,Ie,st=Ft){At(nt,Ie).clearInstance(st)}function rr(){Gn.clear()}const On=new se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ri{constructor(Ie,st,wt){this._isDeleted=!1,this._options=Object.assign({},Ie),this._config=Object.assign({},st),this._name=st.name,this._automaticDataCollectionEnabled=st.automaticDataCollectionEnabled,this._container=wt,this.container.addComponent(new G.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ie){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ie}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ie){this._isDeleted=Ie}checkDestroyed(){if(this.isDeleted)throw On.create("app-deleted",{appName:this._name})}}const $i="9.13.0";function Zn(nt,Ie={}){let st=nt;"object"!=typeof Ie&&(Ie={name:Ie});const wt=Object.assign({name:Ft,automaticDataCollectionEnabled:!1},Ie),It=wt.name;if("string"!=typeof It||!It)throw On.create("bad-app-name",{appName:String(It)});if(st||(st=(0,se.aH)()),!st)throw On.create("no-options");const Qt=Cn.get(It);if(Qt){if((0,se.vZ)(st,Qt.options)&&(0,se.vZ)(wt,Qt.config))return Qt;throw On.create("duplicate-app",{appName:It})}const W=new G.H0(It);for(const N of Gn.values())W.addComponent(N);const $=new ri(st,wt,W);return Cn.set(It,$),$}function Wn(nt=Ft){const Ie=Cn.get(nt);if(!Ie&&nt===Ft)return Zn();if(!Ie)throw On.create("no-app",{appName:nt});return Ie}function Ei(){return Array.from(Cn.values())}function sr(nt){return it.apply(this,arguments)}function it(){return(it=(0,c.Z)(function*(nt){const Ie=nt.name;Cn.has(Ie)&&(Cn.delete(Ie),yield Promise.all(nt.container.getProviders().map(st=>st.delete())),nt.isDeleted=!0)})).apply(this,arguments)}function Sn(nt,Ie,st){var wt;let It=null!==(wt=Qe[nt])&&void 0!==wt?wt:nt;st&&(It+=`-${st}`);const Qt=It.match(/\s|\//),W=Ie.match(/\s|\//);if(Qt||W){const $=[`Unable to register library "${It}" with version "${Ie}":`];return Qt&&$.push(`library name "${It}" contains illegal characters (whitespace or "/")`),Qt&&W&&$.push("and"),W&&$.push(`version name "${Ie}" contains illegal characters (whitespace or "/")`),void K.warn($.join(" "))}Gt(new G.wA(`${It}-version`,()=>({library:It,version:Ie}),"VERSION"))}function jn(nt,Ie){if(null!==nt&&"function"!=typeof nt)throw On.create("invalid-log-argument");(0,P.Am)(nt,Ie)}function wn(nt){(0,P.Ub)(nt)}const En="firebase-heartbeat-store";let Tn=null;function un(){return Tn||(Tn=(0,ge.X3)("firebase-heartbeat-database",1,{upgrade:(nt,Ie)=>{0===Ie&&nt.createObjectStore(En)}}).catch(nt=>{throw On.create("idb-open",{originalErrorMessage:nt.message})})),Tn}function ht(){return(ht=(0,c.Z)(function*(nt){var Ie;try{return(yield un()).transaction(En).objectStore(En).get(Qn(nt))}catch(st){if(st instanceof se.ZR)K.warn(st.message);else{const wt=On.create("idb-get",{originalErrorMessage:null===(Ie=st)||void 0===Ie?void 0:Ie.message});K.warn(wt.message)}}})).apply(this,arguments)}function gt(nt,Ie){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,c.Z)(function*(nt,Ie){var st;try{const It=(yield un()).transaction(En,"readwrite");return yield It.objectStore(En).put(Ie,Qn(nt)),It.done}catch(wt){if(wt instanceof se.ZR)K.warn(wt.message);else{const It=On.create("idb-set",{originalErrorMessage:null===(st=wt)||void 0===st?void 0:st.message});K.warn(It.message)}}})).apply(this,arguments)}function Qn(nt){return`${nt.name}!${nt.options.appId}`}class _i{constructor(Ie){this.container=Ie,this._heartbeatsCache=null;const st=this.container.getProvider("app").getImmediate();this._storage=new Zt(st),this._heartbeatsCachePromise=this._storage.read().then(wt=>(this._heartbeatsCache=wt,wt))}triggerHeartbeat(){var Ie=this;return(0,c.Z)(function*(){const wt=Ie.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),It=Rt();if(null===Ie._heartbeatsCache&&(Ie._heartbeatsCache=yield Ie._heartbeatsCachePromise),Ie._heartbeatsCache.lastSentHeartbeatDate!==It&&!Ie._heartbeatsCache.heartbeats.some(Qt=>Qt.date===It))return Ie._heartbeatsCache.heartbeats.push({date:It,agent:wt}),Ie._heartbeatsCache.heartbeats=Ie._heartbeatsCache.heartbeats.filter(Qt=>{const W=new Date(Qt.date).valueOf();return Date.now()-W<=2592e6}),Ie._storage.overwrite(Ie._heartbeatsCache)})()}getHeartbeatsHeader(){var Ie=this;return(0,c.Z)(function*(){if(null===Ie._heartbeatsCache&&(yield Ie._heartbeatsCachePromise),null===Ie._heartbeatsCache||0===Ie._heartbeatsCache.heartbeats.length)return"";const st=Rt(),{heartbeatsToSend:wt,unsentEntries:It}=function yi(nt,Ie=1024){const st=[];let wt=nt.slice();for(const It of nt){const Qt=st.find(W=>W.agent===It.agent);if(Qt){if(Qt.dates.push(It.date),Xn(st)>Ie){Qt.dates.pop();break}}else if(st.push({agent:It.agent,dates:[It.date]}),Xn(st)>Ie){st.pop();break}wt=wt.slice(1)}return{heartbeatsToSend:st,unsentEntries:wt}}(Ie._heartbeatsCache.heartbeats),Qt=(0,se.L)(JSON.stringify({version:2,heartbeats:wt}));return Ie._heartbeatsCache.lastSentHeartbeatDate=st,It.length>0?(Ie._heartbeatsCache.heartbeats=It,yield Ie._storage.overwrite(Ie._heartbeatsCache)):(Ie._heartbeatsCache.heartbeats=[],Ie._storage.overwrite(Ie._heartbeatsCache)),Qt})()}}function Rt(){return(new Date).toISOString().substring(0,10)}class Zt{constructor(Ie){this.app=Ie,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,se.hl)()&&(0,se.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ie=this;return(0,c.Z)(function*(){return(yield Ie._canUseIndexedDBPromise)&&(yield function mt(nt){return ht.apply(this,arguments)}(Ie.app))||{heartbeats:[]}})()}overwrite(Ie){var st=this;return(0,c.Z)(function*(){var wt;if(yield st._canUseIndexedDBPromise){const Qt=yield st.read();return gt(st.app,{lastSentHeartbeatDate:null!==(wt=Ie.lastSentHeartbeatDate)&&void 0!==wt?wt:Qt.lastSentHeartbeatDate,heartbeats:Ie.heartbeats})}})()}add(Ie){var st=this;return(0,c.Z)(function*(){var wt;if(yield st._canUseIndexedDBPromise){const Qt=yield st.read();return gt(st.app,{lastSentHeartbeatDate:null!==(wt=Ie.lastSentHeartbeatDate)&&void 0!==wt?wt:Qt.lastSentHeartbeatDate,heartbeats:[...Qt.heartbeats,...Ie.heartbeats]})}})()}}function Xn(nt){return(0,se.L)(JSON.stringify({version:2,heartbeats:nt})).length}!function zn(nt){Gt(new G.wA("platform-logger",Ie=>new ye(Ie),"PRIVATE")),Gt(new G.wA("heartbeat",Ie=>new _i(Ie),"PRIVATE")),Sn(me,"0.8.3",nt),Sn(me,"0.8.3","esm2017"),Sn("fire-js","")}("")},4859:(pt,He,R)=>{R.d(He,{H0:()=>me,wA:()=>P,zt:()=>ge});var c=R(5861),G=R(2090);class P{constructor(K,Y,J){this.name=K,this.instanceFactory=Y,this.type=J,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(K){return this.instantiationMode=K,this}setMultipleInstances(K){return this.multipleInstances=K,this}setServiceProps(K){return this.serviceProps=K,this}setInstanceCreatedCallback(K){return this.onInstanceCreated=K,this}}const se="[DEFAULT]";class ge{constructor(K,Y){this.name=K,this.container=Y,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(K){const Y=this.normalizeInstanceIdentifier(K);if(!this.instancesDeferred.has(Y)){const J=new G.BH;if(this.instancesDeferred.set(Y,J),this.isInitialized(Y)||this.shouldAutoInitialize())try{const Re=this.getOrInitializeService({instanceIdentifier:Y});Re&&J.resolve(Re)}catch{}}return this.instancesDeferred.get(Y).promise}getImmediate(K){var Y;const J=this.normalizeInstanceIdentifier(K?.identifier),Re=null!==(Y=K?.optional)&&void 0!==Y&&Y;if(!this.isInitialized(J)&&!this.shouldAutoInitialize()){if(Re)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:J})}catch(Ae){if(Re)return null;throw Ae}}getComponent(){return this.component}setComponent(K){if(K.name!==this.name)throw Error(`Mismatching Component ${K.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=K,this.shouldAutoInitialize()){if(function re(_e){return"EAGER"===_e.instantiationMode}(K))try{this.getOrInitializeService({instanceIdentifier:se})}catch{}for(const[Y,J]of this.instancesDeferred.entries()){const Re=this.normalizeInstanceIdentifier(Y);try{const Ae=this.getOrInitializeService({instanceIdentifier:Re});J.resolve(Ae)}catch{}}}}clearInstance(K=se){this.instancesDeferred.delete(K),this.instancesOptions.delete(K),this.instances.delete(K)}delete(){var K=this;return(0,c.Z)(function*(){const Y=Array.from(K.instances.values());yield Promise.all([...Y.filter(J=>"INTERNAL"in J).map(J=>J.INTERNAL.delete()),...Y.filter(J=>"_delete"in J).map(J=>J._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(K=se){return this.instances.has(K)}getOptions(K=se){return this.instancesOptions.get(K)||{}}initialize(K={}){const{options:Y={}}=K,J=this.normalizeInstanceIdentifier(K.instanceIdentifier);if(this.isInitialized(J))throw Error(`${this.name}(${J}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Re=this.getOrInitializeService({instanceIdentifier:J,options:Y});for(const[Ae,De]of this.instancesDeferred.entries())J===this.normalizeInstanceIdentifier(Ae)&&De.resolve(Re);return Re}onInit(K,Y){var J;const Re=this.normalizeInstanceIdentifier(Y),Ae=null!==(J=this.onInitCallbacks.get(Re))&&void 0!==J?J:new Set;Ae.add(K),this.onInitCallbacks.set(Re,Ae);const De=this.instances.get(Re);return De&&K(De,Re),()=>{Ae.delete(K)}}invokeOnInitCallbacks(K,Y){const J=this.onInitCallbacks.get(Y);if(J)for(const Re of J)try{Re(K,Y)}catch{}}getOrInitializeService({instanceIdentifier:K,options:Y={}}){let J=this.instances.get(K);if(!J&&this.component&&(J=this.component.instanceFactory(this.container,{instanceIdentifier:(_e=K,_e===se?void 0:_e),options:Y}),this.instances.set(K,J),this.instancesOptions.set(K,Y),this.invokeOnInitCallbacks(J,K),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,K,J)}catch{}var _e;return J||null}normalizeInstanceIdentifier(K=se){return this.component?this.component.multipleInstances?K:se:K}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class me{constructor(K){this.name=K,this.providers=new Map}addComponent(K){const Y=this.getProvider(K.name);if(Y.isComponentSet())throw new Error(`Component ${K.name} has already been registered with ${this.name}`);Y.setComponent(K)}addOrOverwriteComponent(K){this.getProvider(K.name).isComponentSet()&&this.providers.delete(K.name),this.addComponent(K)}getProvider(K){if(this.providers.has(K))return this.providers.get(K);const Y=new ge(K,this);return this.providers.set(K,Y),Y}getProviders(){return Array.from(this.providers.values())}}},2833:(pt,He,R)=>{var c=R(5861),G=R(9681),P=R(4859),se=R(2090),ge=R(8766);const ye="@firebase/installations",re="0.5.16",_e=`w:${re}`,K="FIS_v2",tt=new se.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Me(ne){return ne instanceof se.ZR&&ne.code.includes("request-failed")}function de({projectId:ne}){return`https://firebaseinstallations.googleapis.com/v1/projects/${ne}/installations`}function lt(ne){return{token:ne.token,requestStatus:2,expiresIn:le(ne.expiresIn),creationTime:Date.now()}}function et(ne,we){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,c.Z)(function*(ne,we){const vt=(yield we.json()).error;return tt.create("request-failed",{requestName:ne,serverCode:vt.code,serverMessage:vt.message,serverStatus:vt.status})})).apply(this,arguments)}function Ne({apiKey:ne}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":ne})}function Ee(ne,{refreshToken:we}){const $e=Ne(ne);return $e.append("Authorization",function be(ne){return`${K} ${ne}`}(we)),$e}function Xe(ne){return ie.apply(this,arguments)}function ie(){return(ie=(0,c.Z)(function*(ne){const we=yield ne();return we.status>=500&&we.status<600?ne():we})).apply(this,arguments)}function le(ne){return Number(ne.replace("s","000"))}function ee(ne,we){return te.apply(this,arguments)}function te(){return(te=(0,c.Z)(function*({appConfig:ne,heartbeatServiceProvider:we},{fid:$e}){const vt=de(ne),Xt=Ne(ne),vn=we.getImmediate({optional:!0});if(vn){const ar=yield vn.getHeartbeatsHeader();ar&&Xt.append("x-firebase-client",ar)}const Nn={method:"POST",headers:Xt,body:JSON.stringify({fid:$e,authVersion:K,appId:ne.appId,sdkVersion:_e})},or=yield Xe(()=>fetch(vt,Nn));if(or.ok){const ar=yield or.json();return{fid:ar.fid||$e,registrationStatus:2,refreshToken:ar.refreshToken,authToken:lt(ar.authToken)}}throw yield et("Create Installation",or)})).apply(this,arguments)}function he(ne){return new Promise(we=>{setTimeout(we,ne)})}const Ge=/^[cdef][\w-]{21}$/;function _t(){try{const ne=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(ne),ne[0]=112+ne[0]%16;const $e=function an(ne){return function ce(ne){return btoa(String.fromCharCode(...ne)).replace(/\+/g,"-").replace(/\//g,"_")}(ne).substr(0,22)}(ne);return Ge.test($e)?$e:""}catch{return""}}function Ft(ne){return`${ne.appName}!${ne.appId}`}const Qe=new Map;function Cn(ne,we){const $e=Ft(ne);cn($e,we),function Gt(ne,we){const $e=function In(){return!At&&"BroadcastChannel"in self&&(At=new BroadcastChannel("[Firebase] FID Change"),At.onmessage=ne=>{cn(ne.data.key,ne.data.fid)}),At}();$e&&$e.postMessage({key:ne,fid:we}),function rr(){0===Qe.size&&At&&(At.close(),At=null)}()}($e,we)}function cn(ne,we){const $e=Qe.get(ne);if($e)for(const vt of $e)vt(we)}let At=null;const ri="firebase-installations-store";let $i=null;function Zn(){return $i||($i=(0,ge.X3)("firebase-installations-database",1,{upgrade:(ne,we)=>{0===we&&ne.createObjectStore(ri)}})),$i}function Wn(ne,we){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,c.Z)(function*(ne,we){const $e=Ft(ne),Xt=(yield Zn()).transaction(ri,"readwrite"),vn=Xt.objectStore(ri),Pn=yield vn.get($e);return yield vn.put(we,$e),yield Xt.done,(!Pn||Pn.fid!==we.fid)&&Cn(ne,we.fid),we})).apply(this,arguments)}function sr(ne){return it.apply(this,arguments)}function it(){return(it=(0,c.Z)(function*(ne){const we=Ft(ne),vt=(yield Zn()).transaction(ri,"readwrite");yield vt.objectStore(ri).delete(we),yield vt.done})).apply(this,arguments)}function Sn(ne,we){return jn.apply(this,arguments)}function jn(){return(jn=(0,c.Z)(function*(ne,we){const $e=Ft(ne),Xt=(yield Zn()).transaction(ri,"readwrite"),vn=Xt.objectStore(ri),Pn=yield vn.get($e),Nn=we(Pn);return void 0===Nn?yield vn.delete($e):yield vn.put(Nn,$e),yield Xt.done,Nn&&(!Pn||Pn.fid!==Nn.fid)&&Cn(ne,Nn.fid),Nn})).apply(this,arguments)}function wn(ne){return di.apply(this,arguments)}function di(){return(di=(0,c.Z)(function*(ne){let we;const $e=yield Sn(ne.appConfig,vt=>{const Xt=Ri(vt),vn=En(ne,Xt);return we=vn.registrationPromise,vn.installationEntry});return""===$e.fid?{installationEntry:yield we}:{installationEntry:$e,registrationPromise:we}})).apply(this,arguments)}function Ri(ne){return Dn(ne||{fid:_t(),registrationStatus:0})}function En(ne,we){if(0===we.registrationStatus){if(!navigator.onLine)return{installationEntry:we,registrationPromise:Promise.reject(tt.create("app-offline"))};const $e={fid:we.fid,registrationStatus:1,registrationTime:Date.now()},vt=function Tn(ne,we){return un.apply(this,arguments)}(ne,$e);return{installationEntry:$e,registrationPromise:vt}}return 1===we.registrationStatus?{installationEntry:we,registrationPromise:mt(ne)}:{installationEntry:we}}function un(){return(un=(0,c.Z)(function*(ne,we){try{const $e=yield ee(ne,we);return Wn(ne.appConfig,$e)}catch($e){throw Me($e)&&409===$e.customData.serverCode?yield sr(ne.appConfig):yield Wn(ne.appConfig,{fid:we.fid,registrationStatus:0}),$e}})).apply(this,arguments)}function mt(ne){return ht.apply(this,arguments)}function ht(){return(ht=(0,c.Z)(function*(ne){let we=yield gt(ne.appConfig);for(;1===we.registrationStatus;)yield he(100),we=yield gt(ne.appConfig);if(0===we.registrationStatus){const{installationEntry:$e,registrationPromise:vt}=yield wn(ne);return vt||$e}return we})).apply(this,arguments)}function gt(ne){return Sn(ne,we=>{if(!we)throw tt.create("installation-not-found");return Dn(we)})}function Dn(ne){return function Qn(ne){return 1===ne.registrationStatus&&ne.registrationTime+1e4<Date.now()}(ne)?{fid:ne.fid,registrationStatus:0}:ne}function fi(ne,we){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,c.Z)(function*({appConfig:ne,heartbeatServiceProvider:we},$e){const vt=_i(ne,$e),Xt=Ee(ne,$e),vn=we.getImmediate({optional:!0});if(vn){const ar=yield vn.getHeartbeatsHeader();ar&&Xt.append("x-firebase-client",ar)}const Nn={method:"POST",headers:Xt,body:JSON.stringify({installation:{sdkVersion:_e,appId:ne.appId}})},or=yield Xe(()=>fetch(vt,Nn));if(or.ok)return lt(yield or.json());throw yield et("Generate Auth Token",or)})).apply(this,arguments)}function _i(ne,{fid:we}){return`${de(ne)}/${we}/authTokens:generate`}function Rt(ne){return yi.apply(this,arguments)}function yi(){return(yi=(0,c.Z)(function*(ne,we=!1){let $e;const vt=yield Sn(ne.appConfig,vn=>{if(!st(vn))throw tt.create("not-registered");const Pn=vn.authToken;if(!we&&wt(Pn))return vn;if(1===Pn.requestStatus)return $e=Zt(ne,we),vn;{if(!navigator.onLine)throw tt.create("app-offline");const Nn=Qt(vn);return $e=nt(ne,Nn),Nn}});return $e?yield $e:vt.authToken})).apply(this,arguments)}function Zt(ne,we){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,c.Z)(function*(ne,we){let $e=yield zn(ne.appConfig);for(;1===$e.authToken.requestStatus;)yield he(100),$e=yield zn(ne.appConfig);const vt=$e.authToken;return 0===vt.requestStatus?Rt(ne,we):vt})).apply(this,arguments)}function zn(ne){return Sn(ne,we=>{if(!st(we))throw tt.create("not-registered");return function W(ne){return 1===ne.requestStatus&&ne.requestTime+1e4<Date.now()}(we.authToken)?Object.assign(Object.assign({},we),{authToken:{requestStatus:0}}):we})}function nt(ne,we){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,c.Z)(function*(ne,we){try{const $e=yield fi(ne,we),vt=Object.assign(Object.assign({},we),{authToken:$e});return yield Wn(ne.appConfig,vt),$e}catch($e){if(!Me($e)||401!==$e.customData.serverCode&&404!==$e.customData.serverCode){const vt=Object.assign(Object.assign({},we),{authToken:{requestStatus:0}});yield Wn(ne.appConfig,vt)}else yield sr(ne.appConfig);throw $e}})).apply(this,arguments)}function st(ne){return void 0!==ne&&2===ne.registrationStatus}function wt(ne){return 2===ne.requestStatus&&!function It(ne){const we=Date.now();return we<ne.creationTime||ne.creationTime+ne.expiresIn<we+36e5}(ne)}function Qt(ne){const we={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},ne),{authToken:we})}function N(){return(N=(0,c.Z)(function*(ne){const we=ne,{installationEntry:$e,registrationPromise:vt}=yield wn(we);return vt?vt.catch(console.error):Rt(we).catch(console.error),$e.fid})).apply(this,arguments)}function D(){return(D=(0,c.Z)(function*(ne,we=!1){const $e=ne;return yield H($e),(yield Rt($e,we)).token})).apply(this,arguments)}function H(ne){return q.apply(this,arguments)}function q(){return(q=(0,c.Z)(function*(ne){const{registrationPromise:we}=yield wn(ne);we&&(yield we)})).apply(this,arguments)}function qt(ne){return tt.create("missing-app-config-values",{valueName:ne})}const Er="installations",bs=ne=>{const we=ne.getProvider("app").getImmediate(),$e=function Ht(ne){if(!ne||!ne.options)throw qt("App Configuration");if(!ne.name)throw qt("App Name");const we=["projectId","apiKey","appId"];for(const $e of we)if(!ne.options[$e])throw qt($e);return{appName:ne.name,projectId:ne.options.projectId,apiKey:ne.options.apiKey,appId:ne.options.appId}}(we);return{app:we,appConfig:$e,heartbeatServiceProvider:(0,G._getProvider)(we,"heartbeat"),_delete:()=>Promise.resolve()}},Gs=ne=>{const we=ne.getProvider("app").getImmediate(),$e=(0,G._getProvider)(we,Er).getImmediate();return{getId:()=>function $(ne){return N.apply(this,arguments)}($e),getToken:Xt=>function V(ne){return D.apply(this,arguments)}($e,Xt)}};(function xt(){(0,G._registerComponent)(new P.wA(Er,bs,"PUBLIC")),(0,G._registerComponent)(new P.wA("installations-internal",Gs,"PRIVATE"))})(),(0,G.registerVersion)(ye,re),(0,G.registerVersion)(ye,re,"esm2017")},1877:(pt,He,R)=>{R.d(He,{Am:()=>_e,Ub:()=>me,Yd:()=>re,in:()=>G});const c=[];var G=(()=>{return(K=G||(G={}))[K.DEBUG=0]="DEBUG",K[K.VERBOSE=1]="VERBOSE",K[K.INFO=2]="INFO",K[K.WARN=3]="WARN",K[K.ERROR=4]="ERROR",K[K.SILENT=5]="SILENT",G;var K})();const P={debug:G.DEBUG,verbose:G.VERBOSE,info:G.INFO,warn:G.WARN,error:G.ERROR,silent:G.SILENT},se=G.INFO,ge={[G.DEBUG]:"log",[G.VERBOSE]:"log",[G.INFO]:"info",[G.WARN]:"warn",[G.ERROR]:"error"},ye=(K,Y,...J)=>{if(Y<K.logLevel)return;const Re=(new Date).toISOString(),Ae=ge[Y];if(!Ae)throw new Error(`Attempted to log a message with an invalid logType (value: ${Y})`);console[Ae](`[${Re}]  ${K.name}:`,...J)};class re{constructor(Y){this.name=Y,this._logLevel=se,this._logHandler=ye,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(Y){if(!(Y in G))throw new TypeError(`Invalid value "${Y}" assigned to \`logLevel\``);this._logLevel=Y}setLogLevel(Y){this._logLevel="string"==typeof Y?P[Y]:Y}get logHandler(){return this._logHandler}set logHandler(Y){if("function"!=typeof Y)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Y}get userLogHandler(){return this._userLogHandler}set userLogHandler(Y){this._userLogHandler=Y}debug(...Y){this._userLogHandler&&this._userLogHandler(this,G.DEBUG,...Y),this._logHandler(this,G.DEBUG,...Y)}log(...Y){this._userLogHandler&&this._userLogHandler(this,G.VERBOSE,...Y),this._logHandler(this,G.VERBOSE,...Y)}info(...Y){this._userLogHandler&&this._userLogHandler(this,G.INFO,...Y),this._logHandler(this,G.INFO,...Y)}warn(...Y){this._userLogHandler&&this._userLogHandler(this,G.WARN,...Y),this._logHandler(this,G.WARN,...Y)}error(...Y){this._userLogHandler&&this._userLogHandler(this,G.ERROR,...Y),this._logHandler(this,G.ERROR,...Y)}}function me(K){c.forEach(Y=>{Y.setLogLevel(K)})}function _e(K,Y){for(const J of c){let Re=null;Y&&Y.level&&(Re=P[Y.level]),J.userLogHandler=null===K?null:(Ae,De,...tt)=>{const Me=tt.map(de=>{if(null==de)return null;if("string"==typeof de)return de;if("number"==typeof de||"boolean"==typeof de)return de.toString();if(de instanceof Error)return de.message;try{return JSON.stringify(de)}catch{return null}}).filter(de=>de).join(" ");De>=(Re??Ae.logLevel)&&K({level:G[De].toLowerCase(),message:Me,args:tt,type:Ae.name})}}}},8766:(pt,He,R)=>{R.d(He,{Lj:()=>Pe,X3:()=>et});var c=R(5861);let P,se;const re=new WeakMap,me=new WeakMap,_e=new WeakMap,K=new WeakMap,Y=new WeakMap;let Ae={get(le,be,ee){if(le instanceof IDBTransaction){if("done"===be)return me.get(le);if("objectStoreNames"===be)return le.objectStoreNames||_e.get(le);if("store"===be)return ee.objectStoreNames[1]?void 0:ee.objectStore(ee.objectStoreNames[0])}return de(le[be])},set:(le,be,ee)=>(le[be]=ee,!0),has:(le,be)=>le instanceof IDBTransaction&&("done"===be||"store"===be)||be in le};function Me(le){return"function"==typeof le?function tt(le){return le!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ye(){return se||(se=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(le)?function(...be){return le.apply(lt(this),be),de(re.get(this))}:function(...be){return de(le.apply(lt(this),be))}:function(be,...ee){const te=le.call(lt(this),be,...ee);return _e.set(te,be.sort?be.sort():[be]),de(te)}}(le):(le instanceof IDBTransaction&&function Re(le){if(me.has(le))return;const be=new Promise((ee,te)=>{const he=()=>{le.removeEventListener("complete",ce),le.removeEventListener("error",Ge),le.removeEventListener("abort",Ge)},ce=()=>{ee(),he()},Ge=()=>{te(le.error||new DOMException("AbortError","AbortError")),he()};le.addEventListener("complete",ce),le.addEventListener("error",Ge),le.addEventListener("abort",Ge)});me.set(le,be)}(le),((le,be)=>be.some(ee=>le instanceof ee))(le,function ge(){return P||(P=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(le,Ae):le)}function de(le){if(le instanceof IDBRequest)return function J(le){const be=new Promise((ee,te)=>{const he=()=>{le.removeEventListener("success",ce),le.removeEventListener("error",Ge)},ce=()=>{ee(de(le.result)),he()},Ge=()=>{te(le.error),he()};le.addEventListener("success",ce),le.addEventListener("error",Ge)});return be.then(ee=>{ee instanceof IDBCursor&&re.set(ee,le)}).catch(()=>{}),Y.set(be,le),be}(le);if(K.has(le))return K.get(le);const be=Me(le);return be!==le&&(K.set(le,be),Y.set(be,le)),be}const lt=le=>Y.get(le);function et(le,be,{blocked:ee,upgrade:te,blocking:he,terminated:ce}={}){const Ge=indexedDB.open(le,be),Be=de(Ge);return te&&Ge.addEventListener("upgradeneeded",_t=>{te(de(Ge.result),_t.oldVersion,_t.newVersion,de(Ge.transaction))}),ee&&Ge.addEventListener("blocked",()=>ee()),Be.then(_t=>{ce&&_t.addEventListener("close",()=>ce()),he&&_t.addEventListener("versionchange",()=>he())}).catch(()=>{}),Be}function Pe(le,{blocked:be}={}){const ee=indexedDB.deleteDatabase(le);return be&&ee.addEventListener("blocked",()=>be()),de(ee).then(()=>{})}const Ne=["get","getKey","getAll","getAllKeys","count"],Ee=["put","add","delete","clear"],Xe=new Map;function ie(le,be){if(!(le instanceof IDBDatabase)||be in le||"string"!=typeof be)return;if(Xe.get(be))return Xe.get(be);const ee=be.replace(/FromIndex$/,""),te=be!==ee,he=Ee.includes(ee);if(!(ee in(te?IDBIndex:IDBObjectStore).prototype)||!he&&!Ne.includes(ee))return;const ce=function(){var Ge=(0,c.Z)(function*(Be,..._t){const an=this.transaction(Be,he?"readwrite":"readonly");let Ft=an.store;return te&&(Ft=Ft.index(_t.shift())),(yield Promise.all([Ft[ee](..._t),he&&an.done]))[0]});return function(_t){return Ge.apply(this,arguments)}}();return Xe.set(be,ce),ce}!function De(le){Ae=le(Ae)}(le=>({...le,get:(be,ee,te)=>ie(be,ee)||le.get(be,ee,te),has:(be,ee)=>!!ie(be,ee)||le.has(be,ee)}))},5861:(pt,He,R)=>{function c(P,se,ge,ye,re,me,_e){try{var K=P[me](_e),Y=K.value}catch(J){return void ge(J)}K.done?se(Y):Promise.resolve(Y).then(ye,re)}function G(P){return function(){var se=this,ge=arguments;return new Promise(function(ye,re){var me=P.apply(se,ge);function _e(Y){c(me,ye,re,_e,K,"next",Y)}function K(Y){c(me,ye,re,_e,K,"throw",Y)}_e(void 0)})}}R.d(He,{Z:()=>G})}},pt=>{pt(pt.s=1378)}]);